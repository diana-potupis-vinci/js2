{"version":3,"file":"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-4-security-api-fr-mdx-485d41c8835bf241ab0f.js","mappings":"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","sources":["webpack://myjscourse/./src/mdx-pages/part4/security-api.fr.mdx","webpack://myjscourse/./src/templates/mdx-pages.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    br: \"br\",\n    h2: \"h2\",\n    strong: \"strong\",\n    code: \"code\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    pre: \"pre\",\n    h4: \"h4\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\"\n  }, _provideComponents(), props.components), {PathViewer, PathViewerItem, InternalPageMenu, InternalPageMenuItem, InternalPageTitle, ScrollableImage, LinkFile} = _components;\n  if (!InternalPageMenu) _missingMdxReference(\"InternalPageMenu\", true);\n  if (!InternalPageMenuItem) _missingMdxReference(\"InternalPageMenuItem\", true);\n  if (!InternalPageTitle) _missingMdxReference(\"InternalPageTitle\", true);\n  if (!LinkFile) _missingMdxReference(\"LinkFile\", true);\n  if (!PathViewer) _missingMdxReference(\"PathViewer\", true);\n  if (!PathViewerItem) _missingMdxReference(\"PathViewerItem\", true);\n  if (!ScrollableImage) _missingMdxReference(\"ScrollableImage\", true);\n  return React.createElement(React.Fragment, null, React.createElement(PathViewer, null, React.createElement(PathViewerItem, {\n    to: \"/\"\n  }, \" web2course \"), React.createElement(PathViewerItem, {\n    to: \"/part4\"\n  }, \" Partie 4 \"), React.createElement(PathViewerItem, {\n    selected: true\n  }, \" C) Sécuritsation d'une API \")), \"\\n\", React.createElement(InternalPageMenu, null, React.createElement(InternalPageMenuItem, null, \" Protection contre les attaques XSS \"), React.createElement(InternalPageMenuItem, null, \" Sécurisation des passwords \"), React.createElement(InternalPageMenuItem, null, \" Exercice 4.3 : Sécurisation de l'API de myMovies \"), React.createElement(InternalPageMenuItem, null, \" 🍬 Exercice 4.4 : Auto-refresh de myMovies \"), React.createElement(InternalPageMenuItem, null, \" 🍬 Exercice 4.5 : Gestion de la navigation lors de l'auto-refresh de myMovie \"), React.createElement(InternalPageMenuItem, null, \" 🍬 Exercice 4.6 : L'essentiel du cours en action \")), \"\\n\", React.createElement(_components.h1, null, \"c) Sécurisation d'une RESTful API\"), \"\\n\", React.createElement(_components.p, null, \"La sécurisation d'API est une problématique complexe.\", React.createElement(_components.br), \"\\n\", \"Nous n'allons pas aller dans les détails de cette problématique, juste offrir une solution à deux problématiques simples à traiter.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Protection contre les attaques XSS \")), \"\\n\", React.createElement(_components.h2, null, \"Une attaque XSS, c'est quoi ?\"), \"\\n\", React.createElement(_components.p, null, \"Les attaques \", React.createElement(_components.strong, null, \"XSS\"), \", ou \", React.createElement(_components.strong, null, \"Cross-Site Scripting\"), \", sont un type d'injection de scripts malicieux dans une application web.\"), \"\\n\", React.createElement(_components.p, null, \"Imaginez le forum web d'une banque et ce scénario :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"xss.png\",\n    minWidth: \"500px\",\n    maxWidth: \"700px\"\n  }), \"\\n\", React.createElement(_components.p, null, \"L'API de la banque permet d'enregistrer des messages qui sont associés à des forums sur lesquels leurs clients peuvent poster des messages.\", React.createElement(_components.br), \"\\n\", \"Si l'API de la banque était mal sécurisée et qu'elle permettait d'enregistrer n'importe quels types d'information en tant que \\\"messages\\\" du forum, il serait possible à un attaquant d'injecter du JS malicieux dans l'API.\", React.createElement(_components.br), \"\\n\", \"Plus tard, lors de l'affichage des messages par le forum de la banque (\", React.createElement(_components.code, null, \"https://forum.my-bank.com \"), \"), le JS malicieux pourra s'exécuter dans le browser de n'importe quel utilisateur.\", React.createElement(_components.br), \"\\n\", \"Vous avez vu que via du JS, on peut envoyer de l'information n'importe où, notamment à l'aide de \", React.createElement(_components.strong, null, \"fetch\"), \". Ce qui permettrait donc à un hacker, via son script malicieux, d'envoyer des cookies contenant des infos sensibles à son API malicieuse, en vue de futures attaques encore plus diaboliques, comme notamment vider le compte en banque d'utilisateurs.\"), \"\\n\", React.createElement(_components.p, null, \"La protection contre des attaques XSS se fait à différents niveaux. Ca n'est pas l'objet de ce cours de voir cela en détails, mais nous verrons un technique simple pour éviter certaines attaques XSS.\"), \"\\n\", React.createElement(_components.h2, null, \"Réaliser une attaque XSS\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant réaliser une attaque XSS sur le site de la pizzeria.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez lancer le frontend \", React.createElement(_components.strong, null, \"jwt-fetch\"), \" et le backend \", React.createElement(_components.strong, null, \"auths\"), \" du site de la pizzeria. En cas de soucis :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch\"\n  }, \"jwt-fetch\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths\"\n  }, \"auths\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Evidemment, un hackeur, pour tenter l'attaque XSS, doit d'abord trouver un moyen d'usurper la session d'\", React.createElement(_components.strong, null, \"admin\"), \". Nous ne verrons pas dans ce cours le genre d'attaques qui permettrait de le faire. Nous allons considérer que cette première attaque est réussie et nous allons prendre le rôle d'un hackeur pouvant accéder au compte \", React.createElement(_components.strong, null, \"admin\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez vous loguer à l'aide du compte \", React.createElement(_components.strong, null, \"admin\"), \" (et le password \", React.createElement(_components.strong, null, \"admin\"), \").\", React.createElement(_components.br), \"\\n\", \"Veuillez vous rendre sur la page \", React.createElement(_components.strong, null, \"Add a pizza\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour le titre de la pizza, vous pouvez ajouter n'importe quoi.\\r\\nDans le contenu de la pizza, veuillez ajouter cela et soumettre :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-text\"\n  }, \"<img src=\\\"#\\\" onerror=\\\"alert('You have been hacked !')\\\">\\n\")), \"\\n\", React.createElement(_components.p, null, \"En fait, nous avons ajouté une balise \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"img\")), \" contenant du inline JS. \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"oneerror\")), \" est un gestionnaire d'événements qui sera d'office appelé car la source (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"src=\\\"#\\\"\")), \" ) donné à \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"img\")), \" n'est pas une image.\"), \"\\n\", React.createElement(_components.p, null, \"Maintenant, tout utilisateur connecté ou pas qui se loguera sur le site va exécuter ce script \\\"malicieux\\\". Il verra le pop-up apparaître avec le message \\\"You have been hacked !\\\".\", React.createElement(_components.br), \"\\n\", \"En effet, le menu des pizzas, tel qu'il est construit, est basé sur toutes les ressources de type \\\"pizzas\\\" renvoyées par l'API, dont une des pizzas contient le JS malicieux qui est exécuté dans une cellule de la table via ce code de la \", React.createElement(_components.strong, null, \"HomePage\"), \" de l'IHM :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"7\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"function getAllTableLinesAsString(menu) {\\r\\n  let pizzaTableLines = '';\\r\\n\\r\\n  menu?.forEach((pizza) => {\\r\\n    pizzaTableLines += `<tr>\\r\\n      <td>${pizza.title}</td>\\r\\n      <td>${pizza.content}</td>\\r\\n    </tr>`;\\r\\n  });\\r\\n\\r\\n  return pizzaTableLines;\\r\\n}\\n\")), \"\\n\", React.createElement(_components.h2, null, \"Empêcher les attaques XSS\"), \"\\n\", React.createElement(_components.p, null, \"Par rapport à l'attaque précédente, le plus simple pour protéger de l'attaque pourrait être de faire en sorte que l'application cliente n'interprète pas d'HTML / JS / CSS envoyé par l'API.\"), \"\\n\", React.createElement(_components.p, null, \"Ici, dans la \", React.createElement(_components.strong, null, \"HomePage\"), \", on utilise la propriété \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"innerHTML\")), \" d'une \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"td\")), \". Ainsi, l'HTML et l'inline JS associé est exécuté. Si l'on utilisais la propriété \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"innerText\")), \" des \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"td\")), \", alors, ni l'HTML et le JS serait interprété par le browser, et donc pas de possibilité de script malicieux au niveau de la \", React.createElement(_components.strong, null, \"HomePage\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Oui, mais si nous allions vers cette solution, cela serait problématique si nous souhaitions réellement développer plusieurs applications clientes, il faudrait toujours faire attention à cette contrainte.\"), \"\\n\", React.createElement(_components.p, null, \"Dès lors, nous allons préférer la solution où nous sécurisons l'API. Ainsi, peu importe l'application cliente développée, il devrait y avoir moins d'angles d'attaques.\"), \"\\n\", React.createElement(_components.p, null, \"Au niveau de l'API, nous allons échapper les caractères dangereux, principalement \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"\\\"\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"'\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"&\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"<\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \">\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons utiliser la librairie \", React.createElement(_components.strong, null, React.createElement(_components.a, {\n    href: \"https://www.npmjs.com/package/escape-html\"\n  }, \"escape-html\")), \" sous Node.js échappant les string pour une utilisation des string transformées en HTML.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant continuer le développement de l'API \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths\"\n  }, \"auths\"), \" et la sécuriser.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez créer le projet nommé \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/api/safe\"), \" sur base d'un copié collé de \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/api/auths\"), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths\"\n  }, \"auths\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considérons que tous les chemins absolus démarrent du répertoire\\r\\n\", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/api/safe\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez installer la librairie \", React.createElement(_components.strong, null, \"escape-html\"), \" au sein de votre projet \", React.createElement(_components.strong, null, \"safe\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm i escape-html\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous allons supprimer, s'il existe, le fichier reprenant le code malicieux introduit précédemment : veuillez supprimer le fichier \", React.createElement(_components.strong, null, \"/data/pizzas.json\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons à présent mettre à jour le modèle de pizzas pour échapper les caractères dangereux.\\r\\nVeuillez modifier \", React.createElement(_components.strong, null, \"/models/pizzas.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"1,9-10\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const escape = require('escape-html');\\r\\n// other bits of code\\r\\n\\r\\nfunction createOnePizza(title, content) {\\r\\n  const pizzas = parse(jsonDbPath, defaultPizzas);\\r\\n\\r\\n  const createdPizza = {\\r\\n    id: getNextId(),\\r\\n    title: escape(title),\\r\\n    content: escape(content),\\r\\n  };\\r\\n\\r\\n  pizzas.push(createdPizza);\\r\\n\\r\\n  serialize(jsonDbPath, pizzas);\\r\\n\\r\\n  return createdPizza;\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant tester si tout est réglé au niveau de l'attaque XSS.\", React.createElement(_components.br), \"\\n\", \"Veuillez vous loguer à l'aide du compte \", React.createElement(_components.strong, null, \"admin\"), \" (et le password \", React.createElement(_components.strong, null, \"admin\"), \").\", React.createElement(_components.br), \"\\n\", \"Veuillez vous rendre sur la page \", React.createElement(_components.strong, null, \"Add a pizza\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Comme précédemment :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Pour le titre de la pizza, vous pouvez ajouter n'importe quoi.\"), \"\\n\", React.createElement(_components.li, null, \"Dans le contenu de la pizza, veuillez ajouter cela et soumettre :\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-text\"\n  }, \"<img src=\\\"#\\\" onerror=\\\"alert('You have been hacked !')\\\">\\n\")), \"\\n\", React.createElement(_components.p, null, \"Maintenant, tout utilisateur connecté verra simplement apparaître, quand il affiche la \", React.createElement(_components.strong, null, \"HomePage\"), \", le menu des pizzas avec :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"hacked.png\",\n    minWidth: \"500px\",\n    maxWidth: \"744px\"\n  }), \"\\n\", React.createElement(_components.p, null, \"Il n'y a plus de code JavaScript malicieux qui peut s'exécuter côté client 🎉 !\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant régler les problèmes de passwords mis en clair dans un fichier de l'API.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Sécurisation des passwords \")), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons maintenant assurer que les passwords enregistrés dans un support de données (un fichier ou une base de données) ne puissent pas être récupérés.\"), \"\\n\", React.createElement(_components.p, null, \"👍 Pour ce faire, il est recommandé d'hacher les passwords avant de les enregistrer au niveau d'une API.\"), \"\\n\", React.createElement(_components.p, null, \"Afin de se protéger contre les \\\"hash attacks\\\", on utilise du \", React.createElement(_components.strong, null, \"salt\"), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"un \", React.createElement(_components.strong, null, \"salt\"), \" : c'est une donnée aléatoire qui est utilisé en entrée d'une fonction qui hache des données. Ainsi, si un hackeur utilise une base de données de passwords hachés, il devra en plus trouver le bon \", React.createElement(_components.strong, null, \"salt\"), \" pour que son attaque puisse fonctionner.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"salt round\"), \" : nombre de fois que l'opération de hachage est faite, rendant les attaques de force brute plus lente et donc difficile ; une valeur de \", React.createElement(_components.strong, null, \"10\"), \" semble être généralement raisonnable et recommendée.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Pour hacher sous Node.js, nous utiliserons la librairie \", React.createElement(_components.a, {\n    href: \"https://www.npmjs.com/package/bcrypt\"\n  }, \"bcrypt\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez installer la librairie \", React.createElement(_components.strong, null, \"bcrypt\"), \" au sein de votre nouveau projet \", React.createElement(_components.strong, null, \"safe\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm i bcrypt\\n\")), \"\\n\", React.createElement(_components.p, null, \"En résumé, nous allons utiliser :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"la fonction asynchrone \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"hash\")), \" de \", React.createElement(_components.strong, null, \"bcrypt\"), \" pour hacher un password ;\"), \"\\n\", React.createElement(_components.li, null, \"la fonction asynchrone \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"compare\")), \" de \", React.createElement(_components.strong, null, \"bcrypt\"), \" pour comparer un password en clair à un password haché ; si le résultat est positif, cela signifie que le password fournit pour un utilisateur correspond au password initial.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Nous préférons utiliser les librairies asynchrone afin de laisser l'API plus disponible à gérer des requêtes clientes et pas bloquer celles-ci jusqu'à la fin d'une opération de \", React.createElement(_components.strong, null, \"bcrypt\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez effacer le fichier \", React.createElement(_components.strong, null, \"/data/users.json\"), \" contenant les credentials d'utilisateurs où les passwords ne sont pas hachés.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant mettre à jour le modèle de \\\"users\\\" pour utiliser \", React.createElement(_components.strong, null, \"bcrypt\"), \". Veuillez modifier \", React.createElement(_components.strong, null, \"/models/users.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"2,9,17,21,25-26,42,46,70,73\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const jwt = require('jsonwebtoken');\\r\\nconst bcrypt = require('bcrypt');\\r\\nconst path = require('node:path');\\r\\nconst { parse, serialize } = require('../utils/json');\\r\\n\\r\\nconst jwtSecret = 'ilovemypizza!';\\r\\nconst lifetimeJwt = 24 * 60 * 60 * 1000; // in ms : 24 * 60 * 60 * 1000 = 24h\\r\\n\\r\\nconst saltRounds = 10;\\r\\n\\r\\nconst jsonDbPath = path.join(__dirname, '/../data/users.json');\\r\\n\\r\\nconst defaultUsers = [\\r\\n  {\\r\\n    id: 1,\\r\\n    username: 'admin',\\r\\n    password: bcrypt.hashSync('admin', saltRounds),\\r\\n  },\\r\\n];\\r\\n\\r\\nasync function login(username, password) {\\r\\n  const userFound = readOneUserFromUsername(username);\\r\\n  if (!userFound) return undefined;\\r\\n\\r\\n  const passwordMatch = await bcrypt.compare(password, userFound.password);\\r\\n  if (!passwordMatch) return undefined;\\r\\n\\r\\n  const token = jwt.sign(\\r\\n    { username }, // session data added to the payload (payload : part 2 of a JWT)\\r\\n    jwtSecret, // secret used for the signature (signature part 3 of a JWT)\\r\\n    { expiresIn: lifetimeJwt }, // lifetime of the JWT (added to the JWT payload)\\r\\n  );\\r\\n\\r\\n  const authenticatedUser = {\\r\\n    username,\\r\\n    token,\\r\\n  };\\r\\n\\r\\n  return authenticatedUser;\\r\\n}\\r\\n\\r\\nasync function register(username, password) {\\r\\n  const userFound = readOneUserFromUsername(username);\\r\\n  if (userFound) return undefined;\\r\\n\\r\\n  await createOneUser(username, password);\\r\\n\\r\\n  const token = jwt.sign(\\r\\n    { username }, // session data added to the payload (payload : part 2 of a JWT)\\r\\n    jwtSecret, // secret used for the signature (signature part 3 of a JWT)\\r\\n    { expiresIn: lifetimeJwt }, // lifetime of the JWT (added to the JWT payload)\\r\\n  );\\r\\n\\r\\n  const authenticatedUser = {\\r\\n    username,\\r\\n    token,\\r\\n  };\\r\\n\\r\\n  return authenticatedUser;\\r\\n}\\r\\n\\r\\nfunction readOneUserFromUsername(username) {\\r\\n  const users = parse(jsonDbPath, defaultUsers);\\r\\n  const indexOfUserFound = users.findIndex((user) => user.username === username);\\r\\n  if (indexOfUserFound < 0) return undefined;\\r\\n\\r\\n  return users[indexOfUserFound];\\r\\n}\\r\\n\\r\\nasync function createOneUser(username, password) {\\r\\n  const users = parse(jsonDbPath, defaultUsers);\\r\\n\\r\\n  const hashedPassword = await bcrypt.hash(password, saltRounds);\\r\\n\\r\\n  const createdUser = {\\r\\n    id: getNextId(),\\r\\n    username,\\r\\n    password: hashedPassword,\\r\\n  };\\r\\n\\r\\n  users.push(createdUser);\\r\\n\\r\\n  serialize(jsonDbPath, users);\\r\\n\\r\\n  return createdUser;\\r\\n}\\r\\n\\r\\nfunction getNextId() {\\r\\n  const users = parse(jsonDbPath, defaultUsers);\\r\\n  const lastItemIndex = users?.length !== 0 ? users.length - 1 : undefined;\\r\\n  if (lastItemIndex === undefined) return 1;\\r\\n  const lastId = users[lastItemIndex]?.id;\\r\\n  const nextId = lastId + 1;\\r\\n  return nextId;\\r\\n}\\r\\n\\r\\nmodule.exports = {\\r\\n  login,\\r\\n  register,\\r\\n  readOneUserFromUsername,\\r\\n};\\n\")), \"\\n\", React.createElement(_components.p, null, \"Voici les modifications apportées :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour créer un password hashé : on utilise la fonction asynchrone \", React.createElement(_components.code, null, \"hash\"), \" pour créer le password haché. Dès lors, \", React.createElement(_components.code, null, \"createOneUser\"), \" devient asynchrone. De plus, comme \", React.createElement(_components.code, null, \"createOneUser\"), \" est devenue asynchrone, dans \", React.createElement(_components.code, null, \"register\"), \", pour chaîner le traitement de création du token, on met un \", React.createElement(_components.strong, null, \"await\"), \" à l'appel de \", React.createElement(_components.code, null, \"createOneUser\"), \". Et comme un \", React.createElement(_components.strong, null, \"await\"), \" est ajouté au sein de \", React.createElement(_components.code, null, \"register\"), \", il faut mettre un \", React.createElement(_components.strong, null, \"async\"), \" à la méthode \", React.createElement(_components.code, null, \"register\"), \". Attention, du coup, comme \", React.createElement(_components.code, null, \"register\"), \" est devenue asynchrone, il faudra faire attention à bien chaîner les traitements là où \", React.createElement(_components.code, null, \"register\"), \" est appelé, dans le router \", React.createElement(_components.strong, null, \"auths\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour vérifier qu'un password match à un password haché : on utilise la fonction asynchrone \", React.createElement(_components.code, null, \"compare\"), \" que l'on chaîne à la création du token à l'aide de \", React.createElement(_components.strong, null, \"await\"), \". Dès lors, la fonction \", React.createElement(_components.code, null, \"login\"), \" doit elle aussi être déclarée \", React.createElement(_components.strong, null, \"async\"), \". Attention, du coup, comme \", React.createElement(_components.code, null, \"login\"), \" est devenue asynchrone, il faudra faire attention à bien chaîner les traitements là où \", React.createElement(_components.code, null, \"login\"), \" est appelé, dans le router \", React.createElement(_components.strong, null, \"auths\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour créer l'utilisateur \", React.createElement(_components.strong, null, \"admin\"), \" se trouvant dans les \", React.createElement(_components.strong, null, \"defaultUsers\"), \", on souhaite indiquer comme \", React.createElement(_components.strong, null, \"password\"), \" le password haché correspondant au password \\\"admin\\\". Pour se simplifier la vie, on appelle la fonction synchrone \", React.createElement(_components.code, null, \"hashSync\"), \" (voir ligne 16). Bien évidemment, dans une application plus robuste, on évitera d'hardcoder ce genre de secrets dans les sources de notre application.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Afin de traiter des deux fonctions du modèle \", React.createElement(_components.strong, null, \"users\"), \" qui sont devenues asynchrones, \", React.createElement(_components.code, null, \"login\"), \" et \", React.createElement(_components.code, null, \"register\"), \", nous allons modifier le router \", React.createElement(_components.strong, null, \"/routes/auths\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"7,13,21,27\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const express = require('express');\\r\\nconst { register, login } = require('../models/users');\\r\\n\\r\\nconst router = express.Router();\\r\\n\\r\\n/* Register a user */\\r\\nrouter.post('/register', async (req, res) => {\\r\\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\\r\\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\\r\\n\\r\\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Request\\r\\n\\r\\n  const authenticatedUser = await register(username, password);\\r\\n\\r\\n  if (!authenticatedUser) return res.sendStatus(409); // 409 Conflict\\r\\n\\r\\n  return res.json(authenticatedUser);\\r\\n});\\r\\n\\r\\n/* Login a user */\\r\\nrouter.post('/login', async (req, res) => {\\r\\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\\r\\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\\r\\n\\r\\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Reques\\r\\n\\r\\n  const authenticatedUser = await login(username, password);\\r\\n\\r\\n  if (!authenticatedUser) return res.sendStatus(401); // 401 Unauthorized\\r\\n\\r\\n  return res.json(authenticatedUser);\\r\\n});\\r\\n\\r\\nmodule.exports = router;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous avons simplement chaîné les réponses à faire au client seulement une fois les opération \", React.createElement(_components.code, null, \"register\"), \" et \", React.createElement(_components.code, null, \"login\"), \" terminées. Pour ce faire, nous avons précédé le nom de ces méthodes par \", React.createElement(_components.strong, null, \"await\"), \". Nous avons donc du ajouter \", React.createElement(_components.strong, null, \"async\"), \" aux fonctions middleware s'occupant des routes \", React.createElement(_components.strong, null, \"POST /auths/register\"), \" et \", React.createElement(_components.strong, null, \"POST /auths/login\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez vérifier que votre application fonctionne correctement.\", React.createElement(_components.br), \"\\n\", \"Via l'IHM, veuillez faire un register d'un nouvel utilisateur.\", React.createElement(_components.br), \"\\n\", \"Au niveau de l'API, allez voir le contenu du nouveau fichier \", React.createElement(_components.strong, null, \"/data/users.json\"), \". Les passwords devraient maintenant être hachés, comme par exemple :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-json\"\n  }, \"[\\r\\n  {\\r\\n    \\\"id\\\": 1,\\r\\n    \\\"username\\\": \\\"admin\\\",\\r\\n    \\\"password\\\": \\\"$2b$10$RioLKlPFyYFEhv/46gR7dufDkke07eDpWH9tBt/A4Z9tJh0oJnnf2\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"id\\\": 2,\\r\\n    \\\"username\\\": \\\"manager\\\",\\r\\n    \\\"password\\\": \\\"$2b$10$NZZ1zxOPdby6gl4Dw8K0Q.v4ZRWTbh1Ta7qcYzH5G4SrO5z71H0kO\\\"\\r\\n  }\\r\\n]\\n\")), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, \"commit\"), \" de votre repo (\", React.createElement(_components.strong, null, \"web2\"), \") avec le message\\r\\n\\\"\", React.createElement(_components.strong, null, \"api-safe\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch\"\n  }, \"jwt-fetch\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"safe\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Exercice 4.3 : Sécurisation de l'API de myMovies \")), \"\\n\", React.createElement(_components.p, null, \"A l'exercice précédent (Exercice 7.1), vous avez développé le mécanisme d'authentification et d'autorisation d'accès à des opérations de votre RESTful API gérant des films.\"), \"\\n\", React.createElement(_components.p, null, \"Néanmoins, cette API n'est pas encore sécurisée. Les passwords sont disponibles en clair dans un fichier JSON et il est possible de faire des attaques XSS.\"), \"\\n\", React.createElement(_components.p, null, \"Commencez par hacker votre site en faisant une injection de Javascript. Ce script \\\"malicieux\\\" affichera un pop-up à chaque utilisateur affichant la liste des films ; ce pop-up sera suffisamment explicite pour que vos utilisateurs sachent qu'ils ont été piratés.\"), \"\\n\", React.createElement(_components.p, null, \"Ensuite, veuillez sécuriser l'API pour échapper les caractères dangereux et pour hacher les password.\"), \"\\n\", React.createElement(_components.p, null, \"Afin de réaliser cet exercice, voici les contraintes d'implémentation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Pour le frontend, il n'y a rien à développer, veuillez exécuter  le contenu de votre répertoire d'exercices \", React.createElement(_components.strong, null, \"/exercises/module7/7.1/hmi\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Pour l'API, utilisez le contenu de votre répertoire d'exercices \", React.createElement(_components.strong, null, \"/exercises/module7/7.1/api\"), \" comme point de départ pour créer, dans votre repository local et\\r\\nvotre web repository (normalement appelé \", React.createElement(_components.strong, null, \"web2\"), \"), le répertoire nommé\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module7/7.2/api\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, \"🤝 Tips\"), \"\\n\", React.createElement(_components.p, null, \"Cet exercice est l'application du tutoriel vu dans ce module-ci. N'hésitez pas donc à rejouer les étapes vues dans le tutoriel au niveau de votre API : \", React.createElement(_components.a, {\n    href: \"#d\"\n  }, \"d) Sécurisation de RESTful API\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"⚡ N'oubliez pas que vos méthodes de login et de register deviennent asynchrones, cela impose de bien chaîner les traitements dans le router, sinon vous risquez de renvoyer des objets vides en réponses aux requêtes.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez faire un \", React.createElement(_components.strong, null, \"commit\"), \" de votre code avec le message suivant :\\r\\n\\\"\", React.createElement(_components.strong, null, \"myMovies : module 7 : safe api\"), \"\\\"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"NB : Le code de vos applications se trouve dans votre repository local et\\r\\nvotre web repository (normalement appelé \", React.createElement(_components.strong, null, \"web2\"), \") dans le répertoire nommé\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module7/7.2/api\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" 🍬 Exercice 4.4 : Auto-refresh de myMovies \")), \"\\n\", React.createElement(_components.p, null, \"S'il vous reste du temps, il serait vraiment intéressant de faire en sorte que cycliquement, tous les 5 secondes par exemple, l'affichage de la liste de films se mette automatiquement à jour.\"), \"\\n\", React.createElement(_components.p, null, \"Ainsi, si d'autres utilisateurs ajoutent un film, vous les verrez directement apparaître dans votre fenêtre.\"), \"\\n\", React.createElement(_components.p, null, \"⚡ Attention que si le composant d'affichage des films est utilisé pour permettre de directement mettre à jour un film, celui-ci ne doit pas se réafficher si un utilisateur est en train de mettre à jour un film.\"), \"\\n\", React.createElement(_components.h4, null, \"🤝 Tips\"), \"\\n\", React.createElement(_components.p, null, \"Pensez à la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"setInterval\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Vous pouvez faire un \", React.createElement(_components.strong, null, \"commit\"), \" de votre code avec le message suivant :\\r\\n\\\"\", React.createElement(_components.strong, null, \"myMovies : module 7 : auto-refresh\"), \"\\\"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"NB : Le code de vos applications se trouverait dans votre repository local et\\r\\nvotre web repository (normalement appelé \", React.createElement(_components.strong, null, \"web2\"), \") dans le répertoire nommé\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module7/7.3/hmi\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" 🍬 Exercice 4.5 : Gestion de la navigation lors de l'auto-refresh de myMovie \")), \"\\n\", React.createElement(_components.p, null, \"💭 Que peut-il se passer de désagréable si un utilisateur passe rapidement de la page listant les informations d'un film vers la page d'ajout d'un film ?\"), \"\\n\", React.createElement(_components.p, null, \"Comme le render de tous les films et une action asynchrone, il est possible que celui-ci soit réalisé après que l'utilisateur ait quitté la page d'affichage des films. Cela peut être gênant, car si vous êtes sur le composant pour ajouter un film, vous ne souhaitez pas que votre formulaire d'ajout d'un film soit remplacé, de manière erronée, par la liste des films !\"), \"\\n\", React.createElement(_components.p, null, \"Nous vous proposons d'implémenter ces deux fonctions :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Stopper les futurs appels de \", React.createElement(_components.strong, null, \"fetch\"), \", les appels automatiques vers vos APIs (\", React.createElement(_components.strong, null, \"setInterval\"), \" et \", React.createElement(_components.strong, null, \"clearInterval\"), \") quand il y a un clic sur un lien ;\"), \"\\n\", React.createElement(_components.li, null, \"Stopper les appels de \", React.createElement(_components.strong, null, \"fetch\"), \" en cours vers vos APIs quand il y a un clic sur un lien. En effet, si votre API doit renvoyer beaucoup de données, notamment quand il y a des images à communiquer, il est possible que cela prenne plusieurs secondes avant que l'API vous réponde.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, \"🤝 Tips\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Pensez aux fonctions \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"setInterval\")), \" et \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"clearInterval\")), \".\"), \"\\n\", React.createElement(_components.li, null, \"Pour stopper un fetch en cours, vous pouvez utiliser un \", React.createElement(_components.strong, null, \"AbortControlller\"), \". Toute l'info est disponible sur la \", React.createElement(_components.a, {\n    href: \"https://developer.mozilla.org/en-US/docs/Web/API/AbortController\"\n  }, \"Documentation MDN\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Vous pouvez faire un \", React.createElement(_components.strong, null, \"commit\"), \" de votre code avec le message suivant :\\r\\n\\\"\", React.createElement(_components.strong, null, \"myMovies : module 7 : auto-refresh improved\"), \"\\\"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"NB : Le code de vos applications se trouverait dans votre repository local et\\r\\nvotre web repository (normalement appelé \", React.createElement(_components.strong, null, \"web2\"), \") dans le répertoire nommé\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module7/7.4/hmi\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" 🍬 Exercice 4.6 : L'essentiel du cours en action \")), \"\\n\", React.createElement(_components.h2, null, \"Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Voici un exercice qui fait revoir les compétences essentiels de ce cours de JS. Il a été utilisé comme examen pour les étudiants de Vinci en deuxième année de bachelier en Informatique de Gestion en août 2022.\"), \"\\n\", React.createElement(_components.p, null, \"Normalement, cette exercice, découpé en trois questions, devrait se réaliser dans un délai de 3h.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez télécharger ce fichier\\r\\n\", React.createElement(LinkFile, {\n    name: \"examen_js.zip\",\n    target: \"_blank\",\n    download: true\n  }, \"examen_js.zip\"), \".\\r\\nCette archive contient un boilerplate pour chaque question et les ressources à utiliser pour cet examen.\"), \"\\n\", React.createElement(_components.p, null, \"Dans un premier temps, veuillez désarchiver \", React.createElement(_components.strong, null, \"examen_js.zip\"), \" localement sur votre machine.\", React.createElement(_components.br), \"\\n\", \"⚡ Veuillez éviter de le faire sur un répertoire qui est partagé sur le cloud. En effet, il y a des milliers de fichiers associés aux \", React.createElement(_components.strong, null, \"node_modules\"), \" lorsque vous lancerez l'installation des packages ! Ca serait une vraie horreur à synchroniser 😨 !\"), \"\\n\", React.createElement(_components.h2, null, \"Objectif\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons développer deux frontends et une API pour une agence de voyages.\"), \"\\n\", React.createElement(_components.h2, null, \"Question 1 : Créer une IHM interactive & moderne\"), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons afficher des lieux de vacances proposés par l'agence de voyages. Il y a 5 lieux différents, chacun avec un id, un nom et une image.\"), \"\\n\", React.createElement(_components.p, null, \"Le boilerplate pour cette question se trouve dans \", React.createElement(_components.strong, null, \"/question1\"), \".\\r\\nVous trouverez 5 images correspondant à chaque lieu dans le répertoire \", React.createElement(_components.strong, null, \"/question1/src/img\"), \", ainsi qu'un fichier contenant une liste des lieux avec leur id, leur nom et leur image dans \", React.createElement(_components.strong, null, \"/question1/src/utils/places.js\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Vous devez créer deux pages :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"La page d'accueil, accessible avec l'URI \\\"/\\\" ou avec un lien nommé \\\"Home\\\" dans la barre de navigation, doit afficher une liste de tous les noms de lieux de vacances.\"), \"\\n\", React.createElement(_components.li, null, \"La page de photos, accessible avec l'URI \\\"/photos\\\" ou avec un lien nommé \\\"Photos\\\" dans la barre de navigation, doit afficher un carrousel des lieux proposés.\"), \"\\n\", React.createElement(_components.li, null, \"Lorsqu'on arrive sur la page initialement, la page doit afficher le 3ème lieu dans la liste, avec son image et son nom en dessous.\"), \"\\n\", React.createElement(_components.li, null, \"La page doit également afficher deux boutons. Le premier permet d'afficher le lieu précédent dans la liste à la place de celui-ci. Et  l'autre permet d'afficher le lieu suivant. Ces boutons ne doivent pas être cliquables s'il n'y a plus de lieu suivant ou de lieu précédent dans la liste.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Contraintes d'implémentation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Veuillez utiliser le fichier \", React.createElement(_components.strong, null, \"/question1/src/utils/places.js\"), \" qui reprend des lieux de vacances. Vous devez mettre à jour ce fichier pour pouvoir l'utiliser dans votre code JS comme module.\"), \"\\n\", React.createElement(_components.li, null, \"Aucune autre page ne doit être disponible sur le site web.\"), \"\\n\", React.createElement(_components.li, null, \"Vous devez implémenter le carrousel vous-même, vous ne pouvez pas utiliser un carrousel de Bootstrap.\"), \"\\n\", React.createElement(_components.li, null, \"Utilisez les images importées statiquement dans la liste des lieux de vacances et changez la source de l'image affichée quand l'utilisateur clique sur un bouton.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Voici un exemple de ce à quoi pourrait ressembler votre site web :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"places.png\",\n    minWidth: \"800px\",\n    maxWidth: \"1599x\"\n  }), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"carousel.png\",\n    minWidth: \"800px\",\n    maxWidth: \"1599x\"\n  }), \"\\n\", React.createElement(_components.h2, null, \"Question 2 : Créer un service web\"), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons développer une RESTful API pour gérer les lieux de vacances proposés par l'agence, les utilisateurs du site, ainsi que les lieux favoris de ces utilisateurs.\"), \"\\n\", React.createElement(_components.p, null, \"Le boilerplate pour l'API de cette question se trouve dans \", React.createElement(_components.strong, null, \"/question2\"), \", c'est une copie du boilerplate du cours.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez créer les opérations suivantes :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Créer un nouveau lieu de vacances\"), \". L'opération doit prendre en entrée le nom du lieu ainsi que sa description, et doit retourner l'ID du lieu créé au format JSON. L'opération doit renvoyer une erreur si le nom ou la description ne sont pas fournis.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Créer un nouvel utilisateur\"), \". L'opération doit prendre en entrée le nom de l'utilisateur ainsi que son adresse mail, et doit retourner l'ID de l'utilisateur créé au format JSON. L'opération doit renvoyer une erreur si le nom ou l'adresse mail ne sont pas fournis, ainsi que si un utilisateur existe déjà pour cette adresse mail.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Ajouter un lieu à ses favoris\"), \". L'opération doit prendre en entrée l'ID de l'utilisateur et l'ID du lieu qu'il souhaite ajouter en favori. L'opération doit renvoyer une erreur si aucun utilisateur ne correspond à l'ID d'utilisateur donné, si aucun lieu ne correspond à l'ID de lieu donné, ou si cet utilisateur a déjà ce lieu dans ses favoris.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Vous devez également créer dans le fichier \", React.createElement(_components.strong, null, \"/question2/RESTClient/tests.http\"), \" au minimum une requête par opération que vous devez implémenter. Vous pouvez également créer plus de tests si vous le souhaitez.\"), \"\\n\", React.createElement(_components.p, null, \"Contraintes d'implémentation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"L'API que vous devez créer doit correspondre aux principes d'une API RESTful.\"), \"\\n\", React.createElement(_components.li, null, \"Votre API ne peut pas proposer d'autres opérations que celles décrites ci-dessus.\"), \"\\n\", React.createElement(_components.li, null, \"Les ID que génèrent votre API doivent provenir du package \", React.createElement(_components.strong, null, \"uuid\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Les demandes qui sont créées doivent persister et donc survivre au redémarrage de votre application. Vous pouvez faire persister les demandes côté serveur de la manière que vous voulez, du moment que cela soit en JSON. N'hésitez pas à utiliser \", React.createElement(_components.strong, null, \"/question2/utils/json.js\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Aucune autorisation JWT est nécessaire.\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"Question 3 : Créer une SPA intégrant une IHM et un web service\"), \"\\n\", React.createElement(_components.p, null, \"Grâce à l'API que nous avez développé dans la question 2, l'agence de voyages a pu améliorer son API pour proposer un système de recommandations. Cependant, cette API utilise un système d'Intelligence Artificielle complexe et les opérations qui récupèrent les recommandations peuvent prendre un certain temps.\"), \"\\n\", React.createElement(_components.p, null, \"Le boilerplate pour cette question se trouve dans \", React.createElement(_components.strong, null, \"/question3\"), \".\\r\\nVous devez consommer l'API décrite ci-dessous et disponible à l'adresse \", React.createElement(_components.strong, null, React.createElement(_components.a, {\n    href: \"https://places-exam-api.azurewebsites.net\"\n  }, \"https://places-exam-api.azurewebsites.net\")), \" pour afficher des recommandations de lieux de vacances. Cette API accepte les requêtes venant de toutes les origines et n'a pas de problème de CORS. Vous ne devez donc pas utiliser de proxy pour consommer cette API.\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"Méthode HTTP\"), React.createElement(_components.th, null, \"URI\"), React.createElement(_components.th, null, \"Opération\"), React.createElement(_components.th, null, \"Format\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"GET\")), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"/places\")), React.createElement(_components.td, null, \"Récupérer tous les lieux de vacances\"), React.createElement(_components.td, null, \"Renvoie : \", React.createElement(_components.code, null, \"[ { id, name } ]\"))), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"GET\")), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"/recommended\")), React.createElement(_components.td, null, \"Récupérer le lieu de vacances le plus apprécié\"), React.createElement(_components.td, null, \"Renvoie : \", React.createElement(_components.code, null, \"{ id, name }\"))))), \"\\n\", React.createElement(_components.p, null, \"Sur la page d'accueil du site web, veuillez afficher le nom de tous les lieux de vacances, renvoyés par l'API avec l'URI \\\"/places\\\" (il n'est pas nécessaire d'afficher leur ID).\"), \"\\n\", React.createElement(_components.p, null, \"Toujours sur la page d'accueil, veuillez également afficher le nom du lieu de vacances le plus apprécié, renvoyé par l'API avec l'URI \\\"\", React.createElement(_components.strong, null, \"/recommended\"), \"\\\". Comme cette opération peut prendre un certain temps, elle ne peut pas ralentir le chargement de la page. Le reste de la page doit être affiché avant de consommer cette API, et son résultat doit être rajouté sur la page quand l'opération est terminée.\"), \"\\n\", React.createElement(_components.p, null, \"Aucune autre page ne doit être disponible sur le site web. Pensez donc à effacer le code du boilerplate qui est inutile.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","import GATSBY_COMPILED_MDX from \"D:/Vinci/code/web2/js-course/frontend/src/mdx-pages/part4/security-api.fr.mdx\";\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport {MDXProvider} from '@mdx-js/react';\nimport {Link} from 'gatsby';\nimport MainLayout from '../components/main-layout.js';\nimport Image from '../components/image.js';\nimport Section from '../components/section.js';\nimport Content from '../components/content.js';\nimport Background from '../components/background.js';\nimport SectionHeader from '../components/section-header.js';\nimport SectionFooter from '../components/section-footer.js';\nimport PageHeader from '../components/page-header.js';\nimport {withFrontmatter} from '../components/hoc/hoc.js';\nimport CodeBlock from '../components/codeblock/codeblock.js';\nimport LinkFile from '../components/file/link-file.js';\nimport ScrollableImage from '../components/image/scrollable-image';\nimport PublicProjectsView from '../components/public-projects/public-projects-view';\nimport {AuthenticatedTemplate, UnauthenticatedTemplate} from '@azure/msal-react';\nimport AuthenticatedBlock from '../components/auth/authenticated-block.js';\nimport UnAuthenticatedBlock from '../components/auth/unauthenticated-block.js';\nimport NestedMdxBlock from '../components/mdx/nested-mdx-block.js';\nimport YoutubeImage from '../components/image/youtube-image.js';\nimport InternalPageMenu from '../components/internal-page-menu/internal-page-menu.js';\nimport InternalPageMenuItem from '../components/internal-page-menu/internal-page-menu-item.js';\nimport InternalPageTitle from '../components/internal-page-menu/menu-title.js';\nimport {PathViewer, PathViewerItem} from '../components/path-viewer/path-viewer.js';\nconst shortcodes = {\n  Link,\n  Image,\n  Section,\n  Content,\n  Background,\n  SectionHeader,\n  SectionFooter,\n  PageHeader,\n  CodeBlock,\n  LinkFile,\n  ScrollableImage,\n  PublicProjectsView,\n  AuthenticatedBlock,\n  UnAuthenticatedBlock,\n  NestedMdxBlock,\n  YoutubeImage,\n  InternalPageMenu,\n  InternalPageMenuItem,\n  InternalPageTitle,\n  PathViewer,\n  PathViewerItem\n};\nfunction PageTemplate({data: {mdx, allImages}, children}) {\n  shortcodes.PageHeader = withFrontmatter(PageHeader, mdx?.frontmatter);\n  return React.createElement(MainLayout, Object.assign({}, mdx?.frontmatter ? {\n    frontmatter: mdx.frontmatter\n  } : {}, mdx?.frontmatter?.navbarExtraStyles ? {\n    navbarExtraStyles: mdx.frontmatter.navbarExtraStyles\n  } : {}, mdx?.frontmatter?.headerImage ? {\n    headerImage: mdx.frontmatter.headerImage\n  } : {}, mdx?.frontmatter?.featuredImage ? {\n    featuredImage: mdx.frontmatter.featuredImage\n  } : {}, mdx?.frontmatter?.title ? {\n    pageTitle: mdx.frontmatter.title\n  } : {}, allImages && allImages.length > 0 ? {\n    allImages: allImages\n  } : {}), React.createElement(MDXProvider, {\n    components: shortcodes\n  }, React.createElement(\"div\", {\n    className: mdx?.frontmatter?.autoMargin ? 'page page--auto-margin' : 'page'\n  }, children)));\n}\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PageTemplate, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const pageQuery = graphql`\n  query pagesAndImages($slug: String) {\n    mdx(fields: { slug: { eq: $slug } }) {\n      id\n      body\n      fields {\n        slug\n      }\n\n      frontmatter {\n        title\n        date\n        navbarExtraStyles\n        headerImage\n        featuredImage\n        description\n        autoMargin\n      }\n    }\n    allImages: allFile(\n      filter: {\n        sourceInstanceName: { eq: \"images\" }\n        extension: { nin: [\"ico\", \"svg\"] }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData(\n              quality: 90\n              layout: FULL_WIDTH\n              placeholder: TRACED_SVG\n              tracedSVGOptions: { color: \"green\", background: \"grey\" }\n            )\n          }\n          base\n        }\n      }\n    }\n  }\n`;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","p","br","h2","strong","code","ul","li","a","pre","h4","table","thead","tr","th","tbody","td","_provideComponents","components","PathViewer","PathViewerItem","InternalPageMenu","InternalPageMenuItem","InternalPageTitle","ScrollableImage","LinkFile","_missingMdxReference","React","to","selected","name","minWidth","maxWidth","href","className","highlighting","numbered","target","download","wrapper","MDXLayout","id","component","Error","shortcodes","Link","Image","Section","Content","Background","SectionHeader","SectionFooter","PageHeader","CodeBlock","PublicProjectsView","AuthenticatedBlock","UnAuthenticatedBlock","NestedMdxBlock","YoutubeImage","PageTemplate","data","mdx","allImages","children","withFrontmatter","frontmatter","MainLayout","navbarExtraStyles","headerImage","featuredImage","title","pageTitle","length","MDXProvider","autoMargin","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}