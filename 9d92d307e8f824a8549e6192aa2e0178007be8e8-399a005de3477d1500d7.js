"use strict";(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[1926],{9802:function(e,t,n){var r=n(7294),a=n(6492),c=n.n(a);t.Z=function(e){var t,n,a=e.className,s=e.isBeingEdited,o=e.onChange,i=e.startContent,u=e.id,l=e.isInline,d=e.children;return s?t=i?c().decode(i):"":d?t=d:i&&(t=i?c().decode(i):""),n=a||"",s&&(n+=" index__card__content__description--is-being-edited"),l&&(n+=" index__card__content__description--is-inline"),r.createElement("div",{className:n,contentEditable:!!s,onInput:function(e){var t={};t[u]=e.currentTarget.textContent,o(t)},suppressContentEditableWarning:!0},t)}},3290:function(e,t,n){n.d(t,{X:function(){return p},a:function(){return d}});var r=n(5861),a=n(4687),c=n.n(a),s=n(7294),o=n(693),i=n(5258),u=n(144),l=s.createContext([{},function(){},{},function(){},{},function(){},{},function(){}]),d=function(e){var t=e.children,n=(0,s.useState)(void 0),r=n[0],a=n[1],c=(0,s.useState)(void 0),o=c[0],i=c[1],u=(0,s.useState)(void 0),d=u[0],p=u[1],_=(0,s.useState)(!1),m=_[0],v=_[1];return s.createElement(l.Provider,{value:[r,a,o,i,d,p,m,v]},t)},p=function(){var e=(0,i.Fp)(),t=e.instance,n=e.accounts,a=(0,s.useContext)(l),d=a[0],p=a[1],_=a[2],m=a[3],v=a[4],f=a[5],x=a[6],E=a[7],h=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,e.next=6,(0,o.Z)("projectgroups/"+r,"get",a,void 0);case 6:return s=e.sent,p(s),e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),console.error("useProjectData:error:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,e.next=6,(0,o.Z)("users/role/?projectgroupname="+r,"get",a,void 0);case 6:return s=e.sent,m(s),e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),console.error("useProjectData:updateUserData:error:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,E(!1),e.next=7,(0,o.Z)("projects/projectgroups/"+r,"get",a,void 0);case 7:return s=e.sent,f(s),E(!0),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(0),console.error("useProjectData:updateProjectDataerror:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,e.next=6,(0,o.Z)("projects","post",a,{projectGroupName:r});case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.error("useProjectData:addOneProject:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,e.next=6,(0,o.Z)("projects/"+r._id,"DELETE",a,void 0);case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.error("useProjectData:deleteOneProject:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,e.next=6,(0,o.Z)("projects/"+r._id+"/member","POST",a,void 0);case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.error("useProjectData:addMemberToProject:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,e.next=6,(0,o.Z)("projects/"+r._id+"/member","DELETE",a,void 0);case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.error("useProjectData:deleteMemberFromProject:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)(c().mark((function e(r,a){var s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return s=e.sent,e.next=6,(0,o.Z)("projects/"+a,"PATCH",s,r);case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.error("useProjectData:updateProject:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object.assign({},{projectGroupData:d,updateProjectGroupData:h,userData:_,updateUserData:w,projectData:v,updateProjectData:N,addOneProject:b,deleteOneProject:j,addMemberToProject:g,deleteMemberFromProject:k,updateProject:R,isLoaded:x,setIsLoaded:E})}},5540:function(e,t,n){n.d(t,{i:function(){return _},w:function(){return d}});var r=n(5861),a=n(4687),c=n.n(a),s=n(7294),o=n(693),i=n(5258),u=n(144),l=s.createContext([{},function(){},{},function(){},!1,function(){}]),d=function(e){var t=e.children,n=(0,s.useState)(void 0),r=n[0],a=n[1],c=(0,s.useState)(void 0),o=c[0],i=c[1],u=(0,s.useState)(void 0),d=u[0],p=u[1],_=(0,s.useState)(!1),m=_[0],v=_[1];return s.createElement(l.Provider,{value:[r,a,o,i,d,p,m,v]},t)},p=0,_=function(){var e=(0,i.Fp)(),t=e.instance,n=e.accounts,a=(0,s.useContext)(l),d=a[0],_=a[1],m=a[2],v=a[3],f=a[4],x=a[5],E=a[6],h=a[7],w=function(){var e=(0,r.Z)(c().mark((function e(r,a){var s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return s=e.sent,e.next=6,(0,o.Z)("reviews/users/"+r+"/projectgroups/"+a+"/count","get",s,void 0);case 6:return i=e.sent,_(i),e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.error("useReviewData:updateMyReviewSummaryData:error:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,r.Z)(c().mark((function e(r,a){var s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return s=e.sent,0===p&&h(!1),p++,e.next=8,(0,o.Z)("reviews/users/"+r+"/projectgroups/"+a,"get",s,void 0);case 8:return i=e.sent,x(i),0===--p&&h(!0),e.abrupt("return",i);case 15:e.prev=15,e.t0=e.catch(0),h(!0),console.error("useReviewData:updateMyReviewsData:error:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return a=e.sent,0===p&&h(!1),p++,e.next=8,(0,o.Z)("reviews/projectgroups/"+r+"/summary","get",a,void 0);case 8:return s=e.sent,v(s),0===--p&&h(!0),e.abrupt("return",s);case 15:e.prev=15,e.t0=e.catch(0),console.error("useReviewData:updateAllReviewsData:error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.Z)(c().mark((function e(r,a){var s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return s=e.sent,e.next=6,(0,o.Z)("reviews/"+a,"PATCH",s,r);case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.error("useReviewData:updateProjectReview:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(c().mark((function e(r,a){var s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)(n,t);case 3:return s=e.sent,e.next=6,(0,o.Z)("reviews","POST",s,Object.assign({},r,{projectId:a}));case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.error("useReviewData:createFreeProjectReview:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object.assign({},{myReviewSummaryData:d,updateMyReviewSummaryData:w,allReviewsData:m,updateAllReviewsData:b,myReviewsData:f,updateMyReviewsData:N,updateExpectedProjectReview:j,createFreeProjectReview:g,isLoaded:E,setIsLoaded:h})}},1427:function(e,t,n){var r=n(7294),a=(n(4854),n(9256),n(5443),n(6492),n(7814)),c=n(1436);t.Z=function(e){var t=e.myReviewsSummary;return t?r.createElement("div",{className:"card card--dark-summary card--fill-wrapper"},r.createElement("div",{className:"card__header"},"Résumé de mes revues"),r.createElement("div",{className:"card__content card__content--long-titles"},r.createElement("div",{className:"card__content__title"},"Coups de coeurs disponibles"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.m6i}),r.createElement("span",{className:"text--light"},t.availableLike)),r.createElement("div",{className:"card__content__title"},"Revues attendues"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.Mzg,className:"card__content--orange"}),r.createElement("span",{className:"text--light"},t.expectedReviews)),r.createElement("div",{className:"card__content__title"},"Revues terminées"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.Mzg}),r.createElement("span",{className:"text--light"},t.alreadyReviewed)))):null}},5443:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(5861),a=n(4687),c=n.n(a),s=n(7294),o=n(9256),i=n(6492),u=n.n(i),l=n(7814),d=n(1436),p=n(5258),_=n(3405),m=n(3290),v=n(9802),f=function(e){var t=e.project;return t?s.createElement("div",{className:"counter"},s.createElement("div",{className:""},s.createElement(l.G,{icon:d.m6i,className:"counter__symbol counter__symbol--red"}),s.createElement("span",{className:"text--light"},t.countLiked)),s.createElement("div",{className:""},s.createElement(l.G,{icon:d.Mzg,className:"counter__symbol counter__symbol--orange"}),s.createElement("span",{className:"text--light"},t.countExpected)),s.createElement("div",{className:""},s.createElement(l.G,{icon:d.Mzg,className:"counter__symbol counter__symbol--green"}),s.createElement("span",{className:"text--light"},t.countReviews))):null},x=n(5540),E=function(e){var t=e.content,n=e.author;return s.createElement("div",{className:"quote quote--close-to-others"},s.createElement("div",{className:"quote__content quote__content--dark-and-wide"},s.createElement("q",null,t),s.createElement("br",null),s.createElement("i",null,s.createElement("small",{className:"text--hand-written"},"- ",n))))},h=function(e){var t,n=e.project,a=e.setFilteredContents,i=(0,p.Fp)().accounts,h=null==i?void 0:i[0].username;void 0!==n.praise?t=n:n.projectReviews&&n.projectReviews.length>0&&(t=n.projectReviews.find((function(e){return e.userName===h})));var w=(0,s.useState)(!1),N=w[0],b=w[1],j=(0,s.useState)(!!t&&t.like),g=j[0],k=j[1],R=(0,s.useState)({}),y=R[0],D=R[1],Z=(0,s.useState)(!1),P=Z[0],C=Z[1],M=(0,s.useRef)(null);(0,s.useEffect)((function(){M.current&&P&&M.current.scrollIntoView()}),[P]);var S=(0,m.X)().userData,G=(0,x.i)(),F=G.updateExpectedProjectReview,O=G.createFreeProjectReview,T=G.updateAllReviewsData,I=G.updateMyReviewSummaryData,L=G.updateMyReviewsData,U=G.myReviewSummaryData,A=function(){var e=(0,r.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(y).length){e.next=2;break}return e.abrupt("return");case 2:if(y.praise||t&&t.praise){e.next=4;break}return e.abrupt("return");case 4:if(y.notImpressed||t&&t.notImpressed){e.next=6;break}return e.abrupt("return");case 6:if(!t){e.next=12;break}return e.next=9,F(y,t._id);case 9:r=e.sent,e.next=15;break;case 12:return e.next=14,O(y,n._id);case 14:r=e.sent;case 15:if(D({}),b(!1),!r){e.next=25;break}return e.next=20,T(n.projectGroupName);case 20:return e.next=22,I(S.userName,n.projectGroupName);case 22:return e.next=24,L(S.userName,n.projectGroupName);case 24:a(void 0);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){D((function(t){return Object.assign({},t,e)}))};return n?s.createElement("div",{className:"index__card"+(N?" index__card--is-being-edited":P?" index--long-text":""),ref:M},s.createElement("div",{className:"index__card__header"},s.createElement("span",null,"Projet N° "+n.shortId+" : "+u().decode(n.name))),s.createElement("div",{className:"index__card__header"},s.createElement(f,{project:n})),s.createElement("div",{className:"index__card__description"},n.projectMembers.includes(h)||N||P?"":s.createElement(l.G,{icon:d.Z6I,onClick:function(){b(!0)}}),N&&s.createElement(l.G,{icon:d.r6l,onClick:A}),N&&s.createElement(l.G,{icon:d.NBC,onClick:function(){b(!1),D({})}}),!N&&!P&&U&&0===U.expectedReviews&&s.createElement(l.G,{icon:d.Mdf,onClick:function(){C(!0)}}),P&&s.createElement(l.G,{icon:d.NBC,onClick:function(){C(!1)}})),s.createElement("div",{className:"index__card__content"},s.createElement("div",{className:"index__card__content__title"},"Ma revue ?"),s.createElement("div",{className:"index__card__content__description"},n.projectMembers.includes(h)?s.createElement(l.G,{icon:d.uMC}):t&&t.praise&&0!==t.praise.length?s.createElement(l.G,{icon:d.f8k}):s.createElement(l.G,{icon:d.nYk}))),s.createElement("div",{className:"index__card__content"},void 0!==n.description?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Description"),s.createElement("div",{className:"index__card__content__description"},u().decode(n.description))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.presentationUrl?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Vidéo de présentation"),s.createElement("div",{className:"index__card__content__description"},s.createElement(o.Z,{src:n.presentationUrl}))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.frontendProductionUrl?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"URL du site"),s.createElement("div",{className:"index__card__content__description"},s.createElement("a",{href:n.frontendProductionUrl,target:"_blank"},n.frontendProductionUrl))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.praise||N?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Mes points forts"),s.createElement(v.Z,{className:"index__card__content__description",isBeingEdited:N,id:"praise",startContent:t?t.praise:"",onChange:q})):""),s.createElement("div",{className:"index__card__content"},void 0!==n.notImpressed||N?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Mes points d'amélioration"),s.createElement(v.Z,{className:"index__card__content__description",isBeingEdited:N,id:"notImpressed",startContent:t?t.notImpressed:"",onChange:q})):""),s.createElement("div",{className:"index__card__content"},void 0!==n.frontendRepo?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Repo frontend"),s.createElement("div",{className:"index__card__content__description"},s.createElement("a",{href:n.frontendRepo,target:"_blank"},n.frontendRepo))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.backendRepo?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Repo backend"),s.createElement("div",{className:"index__card__content__description"},s.createElement("a",{href:n.backendRepo,target:"_blank"},n.backendRepo))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.projectMembers&&n.projectMembers.length>0&&P?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Membres du projet"),s.createElement("div",{className:"index__card__content__description"},n.projectMembers.map((function(e){return(0,_.w)(e)})).join(", "))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.like|N?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Favori ?"),s.createElement("div",{className:"index__card__content__description"},s.createElement("input",{type:"checkbox",checked:g,disabled:!N||0===U.availableLike||!(!g||y.like),onClick:function(e){k(!g),D(Object.assign({},y,{like:!g}))}}))):""),P&&n.projectReviews&&n.projectReviews.length>0?n.projectReviews.map((function(e,t){return s.createElement("div",{className:"index__card__content"},s.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points forts":""),s.createElement("div",{className:"index__card__content__description"},s.createElement(E,{content:u().decode(e.praise),author:(0,_.w)(e.userName)})))})):"",P&&n.projectReviews&&n.projectReviews.length>0?n.projectReviews.map((function(e,t){return s.createElement("div",{className:"index__card__content"},s.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points d'amélioration":""),s.createElement("div",{className:"index__card__content__description"},s.createElement(E,{content:u().decode(e.notImpressed),author:(0,_.w)(e.userName)})))})):""):null}},9896:function(e,t,n){var r=n(7294),a=n(7814),c=n(1436);t.Z=function(){return r.createElement("div",{className:"spinner"},r.createElement("div",{className:"spinner__overlay"}),r.createElement("div",{className:"spinner__animation"},r.createElement(a.G,{icon:c.LM3,className:"fa-3x fa-spin"})))}},693:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(5861),a=n(4687),c=n.n(a);function s(e,t,n,r){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(c().mark((function e(t,n,r,a){var s,o,i,u,l,d,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n="get"),s=new Headers,(o={}).method=n,r&&(i="Bearer "+r,s.append("Authorization",i)),a&&(o.body=JSON.stringify(a)),"post"!==n.toLowerCase()&&"patch"!==n.toLowerCase()&&"put"!==n.toLowerCase()||s.append("Content-Type","application/json"),o.headers=s,u="https://e-vinci-course-api.azurewebsites.net/api/"+t,e.prev=9,e.next=12,fetch(u,o);case 12:if((l=e.sent).ok){e.next=22;break}return d=" Error code : "+l.status+" : "+l.statusText+"/nMessage : ",e.next=17,l.text();case 17:throw p=e.sent,d+=p,console.error("fetch() error",d),d.search("expired"),new Error(d);case 22:return e.next=24,l.json();case 24:return e.abrupt("return",e.sent);case 27:throw e.prev=27,e.t0=e.catch(9),e.t0;case 30:case"end":return e.stop()}}),e,null,[[9,27]])})))).apply(this,arguments)}},144:function(e,t,n){n.d(t,{t:function(){return o}});var r=n(5861),a=n(4687),c=n.n(a),s=n(3927);function o(e,t){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(c().mark((function e(t,n){var r,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=16;break}return r={scopes:["openid"],account:t[0]},e.prev=2,e.next=5,n.acquireTokenSilent(r);case 5:return a=e.sent,e.abrupt("return",a.idToken);case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof s.Yo)){e.next=16;break}return e.next=14,n.acquireTokenRedirect(r);case 14:return o=e.sent,e.abrupt("return",o.idToken);case 16:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}},3405:function(e,t,n){n.d(t,{w:function(){return r}});var r=function(e){var t=e.substring(0,e.indexOf("@")),n=t.substring(0,t.indexOf(".")),r=t.substring(t.indexOf(".")+1);return n=n.charAt(0).toUpperCase()+n.slice(1),(r=r.charAt(0).toUpperCase()+r.slice(1)).indexOf(".")>=0&&(r=(r=r.substring(r.indexOf(".")+1)).charAt(0).toUpperCase()+r.slice(1)),n+" "+r}}}]);
//# sourceMappingURL=9d92d307e8f824a8549e6192aa2e0178007be8e8-399a005de3477d1500d7.js.map