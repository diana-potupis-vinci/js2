"use strict";(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[1114],{3886:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var l=t(3905),a=t(7294);function r(e){const n=Object.assign({h1:"h1",p:"p",strong:"strong",code:"code",ol:"ol",li:"li",br:"br",em:"em",pre:"pre",h2:"h2",a:"a",ul:"ul",h4:"h4"},(0,l.ah)(),e.components),{PathViewer:t,PathViewerItem:r,InternalPageMenu:i,InternalPageMenuItem:s,InternalPageTitle:u,LinkFile:c}=n;return i||o("InternalPageMenu",!0),s||o("InternalPageMenuItem",!0),u||o("InternalPageTitle",!0),c||o("LinkFile",!0),t||o("PathViewer",!0),r||o("PathViewerItem",!0),a.createElement(a.Fragment,null,a.createElement(t,null,a.createElement(r,{to:"/"}," web2course "),a.createElement(r,{to:"/part2"}," Partie 2 "),a.createElement(r,{selected:!0}," i) Les animations et jeux vid√©o ")),"\n",a.createElement(n.h1,null,"i) Les animations et jeux vid√©o"),"\n",a.createElement(i,null,a.createElement(s,null," üç¨ Animations via l'API Canvas "),a.createElement(s,null," üç¨ Animations via une librairie externe "),a.createElement(s,null," üç¨ Jeux vid√©o en 2D via Phaser "),a.createElement(s,null," Exercice 2.10 : G√©rer des √©v√©nements associ√©s √† une animation ")),"\n",a.createElement(n.h1,null,a.createElement(u,null," üç¨ Animations via l'API Canvas ")),"\n",a.createElement(n.p,null,"L'API Canvas offerte par le browser permet de cr√©er des animations (2D ou 3D) √† l'aide de JS et de l'√©l√©ment HTML ",a.createElement(n.strong,null,a.createElement(n.code,null,"<canvas>")),"."),"\n",a.createElement(n.p,null,"Il existe d'autres API fournies par le browser pour dessiner dans un browser qui ne seront pas vues dans ce cours : WebGL, SVG DOM Interface..."),"\n",a.createElement(n.p,null,"Voici les √©tapes pour cr√©er une animation √† l'aide de l'API Canvas :"),"\n",a.createElement(n.ol,null,"\n",a.createElement(n.li,null,"Ajout d'un √©l√©ment ",a.createElement(n.strong,null,a.createElement(n.code,null,"<canvas>"))," dans votre HTML et acc√®s √† cet objet via du JS ;",a.createElement(n.br),"\n",a.createElement(n.em,null,"Voici un exemple o√π l'on cr√©e un √©l√©ment ",a.createElement(n.strong,null,"canvas")," dans le main d'",a.createElement(n.strong,null,"index.html")," √† l'aide de JS")," :"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-js"},"const main = document.querySelector('main');  \r\nmain.innerHTML = '<canvas />';\r\nconst canvas = document.querySelector('canvas');\n")),"\n",a.createElement(n.ol,{start:"2"},"\n",a.createElement(n.li,null,"Si n√©cessaire, d√©finition du style du ",a.createElement(n.strong,null,"canvas")," et √©ventuellement du ",a.createElement(n.strong,null,"body")," √† l'aide de CSS, Bootstrap ou autres, ou directement du JS.",a.createElement(n.br),"\n",a.createElement(n.em,null,"Voici un exemple o√π l'on g√®re la taille du canvas via du JS")," :"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-js"},"const main = document.querySelector('main');\r\nconst mainWidth = main.clientWidth;\r\nconst mainHeight = main.clientHeight;\r\nconst canvas = document.querySelector('canvas');\r\ncanvas.width = mainWidth;\r\ncanvas.height = mainHeight;\n")),"\n",a.createElement(n.ol,{start:"3"},"\n",a.createElement(n.li,null,"Acc√®s au contexte de rendu du canvas pour pouvoir dessiner dessus en 2D en utilisant les ",a.createElement(n.strong,null,"Canvas API"),".",a.createElement(n.br),"\n",a.createElement(n.em,null,"Voici un exemple o√π l'on dessine un carr√© de couleur bleu √† une position al√©atoire dans le main :")),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-js"},"const DEFAULT_COLOR = 'blue';\r\nconst main = document.querySelector('main');\r\nconst mainWidth = main.clientWidth;\r\nconst mainHeight = main.clientHeight;\r\nconst canvas = document.querySelector('canvas');\r\ncanvasContext = canvas.getContext('2d');\r\ncanvasContext.fillStyle = DEFAULT_COLOR;\r\ncanvasContext.fillRect(Math.random() * mainWidth, Math.random() * mainHeight, 20, 20);\n")),"\n",a.createElement(n.ol,{start:"4"},"\n",a.createElement(n.li,null,'Cr√©ation d\'une animation en affichant successivement des "frames".\r\n*On pourrait appeler la fonction ',a.createElement(n.code,null,"setInterval"),", n√©anmoins cette fonction n'est pas optimis√©e pour s'assurer que le browser a les ressources pour effectuer les appels p√©riodiques demand√©s.  On utilise donc la fonction ",a.createElement(n.code,null,"window.requestAnimationFrame(callback)")," qui permet d'appeler une ",a.createElement(n.strong,null,"callback")," environ 60 fois / s, quand le browser est pr√™t. Voici la structure du code JS qui permet de cr√©er une animation √† l'aide des Canvas API : *"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-js"},"requestAnimationFrame(drawOneFrame);\r\nfunction drawOneFrame() {\r\n  // 1. clear de canvas\r\n  // 2. draw the current frame   \r\n  // 3. refresh¬†automatically¬†the¬†animation¬†via¬†a¬†recursive¬†call\r\n¬† requestAnimationFrame(drawOneFrame);\r\n}\n")),"\n",a.createElement(n.h2,null,"Exemple d'animation"),"\n",a.createElement(n.p,null,"Nous vous offrons un exemple d'animation faite √† l'aide des Canvas API : ",a.createElement(n.a,{href:"https://github.com/e-vinci/js-demos/tree/main/frontend/canvas"},"canvas"),"."),"\n",a.createElement(n.p,null,"N'h√©sitez pas √† ex√©cuter cette application et √† comprendre le code associ√©. Ce code va √™tre utilis√© √† l'exercice un peu plus loin."),"\n",a.createElement(n.h1,null,a.createElement(u,null," üç¨ Animations via une librairie externe ")),"\n",a.createElement(n.p,null,"Il existe de nombreuses librairies JS animant diff√©rentes propri√©t√©s :  CSS, attributs DOM, objets JS, SVG..."),"\n",a.createElement(n.p,null,"Voici quelques librairies Open Source que nous recommandons :"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Pour les animations 2D : ",a.createElement(n.a,{href:"https://animejs.com/"},"anime")),"\n",a.createElement(n.li,null,"Pour les jeux en 2D : ",a.createElement(n.a,{href:"https://phaser.io/"},"Phaser")),"\n",a.createElement(n.li,null,"Pour les animations 3D : ",a.createElement(n.a,{href:"https://threejs.org/"},"three.js")),"\n"),"\n",a.createElement(n.p,null,"Il existe aussi une librairie commerciale qui reste n√©anmoins int√©ressante : ",a.createElement(n.a,{href:"https://greensock.com/"},"GreenSock"),"."),"\n",a.createElement(n.p,null,"Si vous souhaitez utiliser les librairies recommand√©es pour cr√©er des animations, vous avez les connaissance en JS suffisante pour le faire par vous-m√™me, √† l'aide de la documentation propos√©e sur le site de la librairie que vous choisiriez."),"\n",a.createElement(n.p,null,"Le truc concernant les animations, c'est d'avancer pas √† pas, et de r√©fl√©chir √† ce que vous souhaitez faire en terme d'objectifs fonctionnels."),"\n",a.createElement(n.p,null,"Imaginez que nous souhaitons faire une animation qui mette √† disposition un mot tournant comme une h√©lice :"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Ce mot doit tourner comme une h√©lice au passage de la souris sur le mot."),"\n",a.createElement(n.li,null,"En cliquant sur la fl√®che haut ou bas du clavier, l'h√©lice doit monter ou descendre."),"\n",a.createElement(n.li,null,"En cliquant sur le mot, celui-ci doit :","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"arr√™ter de tourner"),"\n",a.createElement(n.li,null,"se mettre √† grandir puis rapetissir."),"\n"),"\n"),"\n"),"\n",a.createElement(n.p,null,"Fonctionnellement, il semble clair ce que nous souhaitons faire."),"\n",a.createElement(n.p,null,"Maintenant, √† l'aide d'√©l√©ments HTML, de propri√©t√©s CSS, et de JS, comment pourrions nous aborder ce probl√®me ?"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Nous avons besoin d'une h√©lice qui tourne. Nous allons probablement pouvoir utiliser une ",a.createElement(n.strong,null,"div")," pour cela qui prendra la largeur du mot.\r\n",a.createElement(n.em,null,"Dans le code associ√©, nous pourrions identifier cette balise par l'id ",a.createElement(n.code,null,"propeller")),"."),"\n",a.createElement(n.li,null,"Nous avons besoin de faire monter ou descendre notre h√©lice. Pourquoi ne pas utiliser une ",a.createElement(n.strong,null,"div")," qui fera office d'ascenseur, et qui contiendra notre h√©lice.",a.createElement(n.br),"\n",a.createElement(n.em,null,"Dans le code associ√©, nous pourrions identifier cette balise par l'id ",a.createElement(n.code,null,"lift")),"."),"\n",a.createElement(n.li,null,"Ensuite, il reste √† g√©rer des √©couteurs d'√©v√©nements sur le clavier, et sur ces divs. Il serait pratique d'utiliser une librairie d'animation 2D pour faciliter les mouvements de l'h√©lice."),"\n"),"\n",a.createElement(n.p,null,"La suite montre comment cela a √©t√© impl√©ment√© √† l'aide de la librairie ",a.createElement(n.strong,null,"anime.js"),"."),"\n",a.createElement(n.h2,null,"Exemple d'animation √† l'aide d'anime.js"),"\n",a.createElement(n.p,null,"Nous vous offrons un exemple d'animation faite √† l'aide d'",a.createElement(n.strong,null,"anime")," : ",a.createElement(n.a,{href:"https://github.com/e-vinci/js-demos/tree/main/frontend/anime"},"anime")," pour impl√©menter un mot qui tourne comme une h√©lice."),"\n",a.createElement(n.p,null,"N'h√©sitez pas √† ex√©cuter cette application et √† comprendre le code associ√©."),"\n",a.createElement(n.p,null,"Voici quelques explications :"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Nous avons statiquement impl√©ment√© la structure de l'h√©lice et de l'ascenseur dans le fichier ",a.createElement(n.strong,null,"index.html")," ;"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-html"},'<div id="lift">\r\n \x3c!-- d-inline-block allow to wrap the div to the width of its content --\x3e\r\n <div class="text-center bg-secondary d-inline-block" id="propeller">\r\n   XXX<a href="#" class="btn btn-primary" id="message">Welcome</a>XXX\r\n </div>\r\n</div>\n')),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Nous avons install√© ",a.createElement(n.strong,null,"anime.js")," et appris √† l'utiliser gr√¢ce √† la documentation ",a.createElement(n.a,{href:"https://github.com/juliangarnier/anime/"},"https://github.com/juliangarnier/anime/")," :","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Installation :"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-bash"},"npm i animejs\n")),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Utilisation de la librairie dans un module :"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-js"},"import anime from 'animejs/lib/anime.es.js';\n")),"\n"),"\n",a.createElement(n.li,null,"On utilise la fonction ",a.createElement(n.code,null,"anime")," pour r√©aliser les animations que l'on cible aux ",a.createElement(n.strong,null,"div")," via leur ",a.createElement(n.strong,null,"id")," dans la propri√©t√© ",a.createElement(n.strong,null,a.createElement(n.code,null,"targets")),"."),"\n"),"\n",a.createElement(n.h1,null,a.createElement(u,null," üç¨ Jeux vid√©o en 2D via Phaser ")),"\n",a.createElement(n.h2,null,"Introduction"),"\n",a.createElement(n.p,null,"Si vous souhaitez cr√©er un jeu vid√©o en 2D pour des browsers, nous vous conseillons la librairie ",a.createElement(n.a,{href:"https://phaser.io/"},"Phaser"),"."),"\n",a.createElement(n.h2,null,"Cours de Phaser offert"),"\n",a.createElement(n.p,null,'Rudi Giot, un incroyable enseignant √† l\'ISIB (HE2B), met g√©n√©reusement √† notre disposition son cours nomm√© "Phaser - Jeux vid√©o 2D" : ',a.createElement(n.a,{href:"https://github.com/RudiGiot/Phaser"},"https://github.com/RudiGiot/Phaser"),"."),"\n",a.createElement(n.p,null,"La derni√®re version du Syllabus au format pdf est disponible ici : ",a.createElement(c,{name:"Phaser.pdf",target:"_blank",download:!0},"Phaser - Jeux vid√©o 2D en Javascript"),"."),"\n",a.createElement(n.h2,null,"Boilerplate pour r√©aliser un jeu Phaser √† l'aide de Webpack"),"\n",a.createElement(n.p,null,"Il n'est pas simple d'int√©grer Phaser au sein de Webpack et des outils de d√©veloppement offerts dans ce cours de JS. Cela peut prendre plusieurs jours avant d'obtenir une bonne configuration, ce qui peut vite devenir frustrant."),"\n",a.createElement(n.p,null,"Nous vous offrons donc un boilerplate si vous souhaitez cr√©er un jeu vid√©o Phaser en utilisant les outils modernes mis en place dans ce cours :  ",a.createElement(n.a,{href:"https://github.com/e-vinci/js-phaser-boilerplate"},"js-phaser-boilerplate"),"."),"\n",a.createElement(n.p,null,"Pour information, la source de la configuration de Webpack provient principalement de ",a.createElement(n.a,{href:"https://github.com/photonstorm/phaser3-project-template"},"Phaser 3 Webpack Project Template"),".",a.createElement(n.br),"\n","Le jeu pr√©sent√© dans le boilerplate est bas√© sur le tutoriel nomm√© ",a.createElement(n.a,{href:"https://blog.ourcade.co/posts/2020/make-first-phaser-3-game-modern-javascript-part1/"},"Modern JavaScript Phaser 3 Tutorial : Part 1 to Part 5")," et utilise Webpack au lieu de Parcel comme module bundler."),"\n",a.createElement(n.h1,null,a.createElement(u,null," Exercice 2.10 : G√©rer des √©v√©nements associ√©s √† une animation ")),"\n",a.createElement(n.p,null,"Veuillez adapter une application web permettant l'affichage de diff√©rents scintillements de formes selon la demande de l'utilisateur."),"\n",a.createElement(n.p,null,"Le code a adapter se trouve dans ce dossier ",a.createElement(n.a,{href:"https://github.com/e-vinci/js-demos/tree/main/frontend/canvas"},"/demo/canvas")," du repo associ√© aux d√©mos."),"\n",a.createElement(n.p,null,"Veuillez retravailler l'animation pour que :"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"elle s'arr√™te ou d√©marre lors d'un clic gauche d'un utilisateur ;"),"\n",a.createElement(n.li,null,"les carr√©s grandissent ou rapetississent au clic sur la touche ",a.createElement(n.strong,null,"+")," ou la touche ",a.createElement(n.strong,null,"-")," ;"),"\n",a.createElement(n.li,null,"lors d'un clic droit de la souris, la couleur des carr√©s change de mani√®re al√©atoire."),"\n"),"\n",a.createElement(n.h4,null,"ü§ù Tips"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"N'h√©sitez pas √† d√©couvrir la documentation de ",a.createElement(n.strong,null,"requestAnimationFrame()")," pour voir comment stopper une animation.",a.createElement(n.br),"\n","Toujours pas d'id√©e ? N'h√©sitez pas √† utiliser la fonction ",a.createElement(n.strong,null,"cancelAnimationFrame()"),"."),"\n",a.createElement(n.li,null,"Vous pouvez utiliser le type d'√©v√©nement \"",a.createElement(n.strong,null,"contextmenu"),"\" pour g√©rer les clics droits. Plus d'info dans la ",a.createElement(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/contextmenu_event"},"documentation de MDN")),"\n",a.createElement(n.li,null,"Vous pouvez √©couter le type d'√©v√©nement \"",a.createElement(n.strong,null,"keydown"),"\" sur l'objet ",a.createElement(n.strong,null,"document")," pour g√©rer l'appui sur les touches ",a.createElement(n.strong,null,"+")," ou ",a.createElement(n.strong,null,"-"),".",a.createElement(n.br),"\n","Plus d'info dans la ",a.createElement(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event"},"documentation de MDN"),"."),"\n",a.createElement(n.li,null,"Si vous avez besoin de g√©n√©rer un nombre al√©atoire de 0 √† 255 :"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-js"},"Math.floor(Math.random() * 256); // [0,255]\n")),"\n",a.createElement(n.p,null,"Le code de votre application web doit se trouver dans votre repository local et votre web repository (normalement appel√© ",a.createElement(n.strong,null,"web2"),") dans le r√©pertoire nomm√© ",a.createElement(n.strong,null,"/exercises/module3/3.2"),"."),"\n",a.createElement(n.p,null,"Veuillez faire un ",a.createElement(n.strong,null,"commit"),' de votre code avec le message suivant : "',a.createElement(n.strong,null,"module 3 : exercise 3.2 canvas event management"),'".'))}var i=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(r,e)):r(e)};function o(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}var s=t(4854),u=t(5583),c=t(5679),m=t(307),d=t(7410),p=t(9523),E=t(8075),h=t(9063),v=t(1631),g=t(5772),f=t(2770),b=t(7008),P=t(9771),I=t(1218),x=(t(5258),t(9394)),j=t(4579),S=t(9416),q=t(9256),w=t(6488),k=t(5175),y=t(6387),A=t(6044);const C={Link:s.Link,Image:c.Z,Section:m.Z,Content:d.Z,Background:p.Z,SectionHeader:E.Z,SectionFooter:h.Z,PageHeader:v.Z,CodeBlock:f.Z,LinkFile:b.Z,ScrollableImage:P.Z,PublicProjectsView:I.Z,AuthenticatedBlock:x.Z,UnAuthenticatedBlock:j.Z,NestedMdxBlock:S.Z,YoutubeImage:q.Z,InternalPageMenu:w.Z,InternalPageMenuItem:k.Z,InternalPageTitle:y.Z,PathViewer:A.k,PathViewerItem:A.F};function N(e){var n,t,r,i,o;let{data:{mdx:s,allImages:c},children:m}=e;return C.PageHeader=(0,g.u)(v.Z,null==s?void 0:s.frontmatter),a.createElement(u.Z,Object.assign({},null!=s&&s.frontmatter?{frontmatter:s.frontmatter}:{},null!=s&&null!==(n=s.frontmatter)&&void 0!==n&&n.navbarExtraStyles?{navbarExtraStyles:s.frontmatter.navbarExtraStyles}:{},null!=s&&null!==(t=s.frontmatter)&&void 0!==t&&t.headerImage?{headerImage:s.frontmatter.headerImage}:{},null!=s&&null!==(r=s.frontmatter)&&void 0!==r&&r.featuredImage?{featuredImage:s.frontmatter.featuredImage}:{},null!=s&&null!==(i=s.frontmatter)&&void 0!==i&&i.title?{pageTitle:s.frontmatter.title}:{},c&&c.length>0?{allImages:c}:{}),a.createElement(l.Zo,{components:C},a.createElement("div",{className:null!=s&&null!==(o=s.frontmatter)&&void 0!==o&&o.autoMargin?"page page--auto-margin":"page"},m)))}function L(e){return a.createElement(N,e,a.createElement(i,e))}}}]);
//# sourceMappingURL=component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-animations-fr-mdx-7f59e6900a67c595ce2d.js.map