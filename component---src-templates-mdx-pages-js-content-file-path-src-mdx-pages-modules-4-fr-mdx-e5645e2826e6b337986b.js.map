{"version":3,"file":"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-modules-4-fr-mdx-e5645e2826e6b337986b.js","mappings":"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","sources":["webpack://myjscourse/./src/mdx-pages/modules/4.fr.mdx","webpack://myjscourse/./src/templates/mdx-pages.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    h2: \"h2\",\n    strong: \"strong\",\n    h3: \"h3\",\n    br: \"br\",\n    pre: \"pre\",\n    code: \"code\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components), {ScrollableImage, LinkFile} = _components;\n  if (!LinkFile) _missingMdxReference(\"LinkFile\", true);\n  if (!ScrollableImage) _missingMdxReference(\"ScrollableImage\", true);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, null, \"Module 4 : Service web & clients\"), \"\\n\", React.createElement(_components.p, null, \"Ce module vous offre principalement la création de services web et la mise en place de requêtes clientes pour tester des RESTful API.\"), \"\\n\", React.createElement(_components.p, null, \"Voici les sujets traités :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"a) \", React.createElement(_components.a, {\n    href: \"#a\"\n  }, \"Introduction au backend\")), \"\\n\", React.createElement(_components.li, null, \"b) \", React.createElement(_components.a, {\n    href: \"#b\"\n  }, \"Introduction à Node.js\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"b.1) \", React.createElement(_components.a, {\n    href: \"#b1\"\n  }, \"Introduction\")), \"\\n\", React.createElement(_components.li, null, \"b.2) \", React.createElement(_components.a, {\n    href: \"#b2\"\n  }, \"Ou mettre du code Node.js ?\")), \"\\n\", React.createElement(_components.li, null, \"b.3) \", React.createElement(_components.a, {\n    href: \"#b3\"\n  }, \"Les modules CommonJS\")), \"\\n\", React.createElement(_components.li, null, \"b.4) \", React.createElement(_components.a, {\n    href: \"#b4\"\n  }, \"Introduction aux packages\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"c) \", React.createElement(_components.a, {\n    href: \"#c\"\n  }, \"Introduction à Express\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"c.1) \", React.createElement(_components.a, {\n    href: \"#c1\"\n  }, \"Introduction\")), \"\\n\", React.createElement(_components.li, null, \"c.2) \", React.createElement(_components.a, {\n    href: \"#c2\"\n  }, \"Créer une application Express \\\"from scratch\\\"\")), \"\\n\", React.createElement(_components.li, null, \"c.3) \", React.createElement(_components.a, {\n    href: \"#c3\"\n  }, \"Créer une application Express via un générateur\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"d) \", React.createElement(_components.a, {\n    href: \"#d\"\n  }, \"Introduction aux RESTful API\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"d.1) \", React.createElement(_components.a, {\n    href: \"#d1\"\n  }, \"Introduction\")), \"\\n\", React.createElement(_components.li, null, \"d.2) \", React.createElement(_components.a, {\n    href: \"#d2\"\n  }, \"Conventions REST\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"e) \", React.createElement(_components.a, {\n    href: \"#e\"\n  }, \"Introduction aux RESTful API via Express\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"e.1) \", React.createElement(_components.a, {\n    href: \"#e1\"\n  }, \"Introduction\")), \"\\n\", React.createElement(_components.li, null, \"e.2) \", React.createElement(_components.a, {\n    href: \"#e2\"\n  }, \"Configuration et démarrage d'une application Express\")), \"\\n\", React.createElement(_components.li, null, \"e.3) \", React.createElement(_components.a, {\n    href: \"#e3\"\n  }, \"Serveur web intégré\")), \"\\n\", React.createElement(_components.li, null, \"e.4) \", React.createElement(_components.a, {\n    href: \"#e4\"\n  }, \"Les fonctions middleware en Express\")), \"\\n\", React.createElement(_components.li, null, \"e.5) \", React.createElement(_components.a, {\n    href: \"#e5\"\n  }, \"Définition d'une route en Express\")), \"\\n\", React.createElement(_components.li, null, \"e.6) \", React.createElement(_components.a, {\n    href: \"#e6\"\n  }, \"Opération de lecture\")), \"\\n\", React.createElement(_components.li, null, \"e.7) \", React.createElement(_components.a, {\n    href: \"#e7\"\n  }, \"Chemin et paramètres de route\")), \"\\n\", React.createElement(_components.li, null, \"e.8) \", React.createElement(_components.a, {\n    href: \"#e8\"\n  }, \"Chemin et paramètres de requête\")), \"\\n\", React.createElement(_components.li, null, \"e.9) \", React.createElement(_components.a, {\n    href: \"#e9\"\n  }, \"Opération de création & parsing du body\")), \"\\n\", React.createElement(_components.li, null, \"e.10) \", React.createElement(_components.a, {\n    href: \"#e10\"\n  }, \"Client REST\")), \"\\n\", React.createElement(_components.li, null, \"e.11) \", React.createElement(_components.a, {\n    href: \"#e11\"\n  }, \"Répondre avec un code de statut HTTP\")), \"\\n\", React.createElement(_components.li, null, \"e.12) \", React.createElement(_components.a, {\n    href: \"#e12\"\n  }, \"Opération de suppression\")), \"\\n\", React.createElement(_components.li, null, \"e.13) \", React.createElement(_components.a, {\n    href: \"#e13\"\n  }, \"Opération de modification\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"g) \", React.createElement(_components.a, {\n    href: \"#g\"\n  }, \"Exercice 4.1 : Création d'une RESTfull API non protégée pour myMovies\")), \"\\n\", React.createElement(_components.li, null, \"h) \", React.createElement(_components.a, {\n    href: \"#h\"\n  }, \"🍬 Exercice 4.2 : Gestion de la pagination, de l'ordre de présentation et du filtrage de films\")), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(\"a\", {\n    id: \"a\"\n  }), \"a) Introduction au backend\"), \"\\n\", React.createElement(_components.h2, null, \"a.1) Frontend, backend, c'est quoi ?\"), \"\\n\", React.createElement(_components.p, null, \"Un \", React.createElement(_components.strong, null, \"frontend\"), \", c'est une application :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"qui s'exécute côté client, une IHM (Interface Homme-Machine), qu'on pourrait aussi appeler UI (User Interface) ;\"), \"\\n\", React.createElement(_components.li, null, \"qui est en direct interaction avec l'utilisateur ;\"), \"\\n\", React.createElement(_components.li, null, \"implémenté, dans ce cours-ci, en HTML / CSS / JS.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Un \", React.createElement(_components.strong, null, \"backend\"), \", c'est une application :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"qui s'exécute côté serveur ;\"), \"\\n\", React.createElement(_components.li, null, \"qui n'offre pas d'interaction directe avec l'utilisateur ;\"), \"\\n\", React.createElement(_components.li, null, \"qui parfois met à disposition le \", React.createElement(_components.strong, null, \"frontend\"), \" ;\"), \"\\n\", React.createElement(_components.li, null, \"qui parfois offre des opérations sur des données.\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"a.2) Rôles principaux du backend\"), \"\\n\", React.createElement(_components.h3, null, \"a.2.1) Fourniture du frontend\"), \"\\n\", React.createElement(_components.p, null, \"Un des rôles du backend est de fournir le frontend :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"via un serveur de fichiers statiques\"), \" ; c'est la mise à disposition des assets : fichiers HTML, CSS, JS, images...\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"via la génération dynamique de pages HTML\"), \" ; c'est ce qui se passe quand le backend fait du Server Side Rendering (SSR), généralement dans le cadre de Multi Page Applications.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre de ce cours, nous ne ferons pas de génération dynamique d'HTML côté serveur (ou SSR).\", React.createElement(_components.br), \"\\n\", \"Par contre, nous avons déjà vu :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"comment faire de la génération dynamique d'HTML côté client (ou Client Side Rendering = CSR).\"), \"\\n\", React.createElement(_components.li, null, \"mettre à disposition notre frontend, notre IHM, à l'aide d'un serveur de fichiers statiques : c'est ce que notamment fait le serveur de développement de Webpack, il met à disposition les assets permettant au browser d'exécuter l'application web.\"), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"a.2.2) Fourniture d'opérations sur des ressources\"), \"\\n\", React.createElement(_components.p, null, \"Un autre rôle important du backend est de mettre à disposition des opérations sur des ressources, c'est ce qu'on appelle les services web ou web API.\"), \"\\n\", React.createElement(_components.p, null, \"Il existe différents types de technologies et architectures web permettant d'implémenter des web services, notamment :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"RESTful API\"), \" ; c'est l'architecture qui actuellement est la plus utilisée et qui sera apprise dans le cadre de ce cours.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"GraphQL API\"), \" ; c'est une technologie récente qui permet de très rapidement créer des requêtes sur des ressources et qui a été créée par Facebook ; nous ne verrons pas cette technologie dans le cadre de ce cours.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"SOAP API\"), \" ; c'est une façon ancienne de créer des opérations sur des ressources mettant en oeuvre de l'XML pour communiquer entre des applications clients / serveurs. Nous ne verrons pas cette technologie dans le cadre de ce cours.\"), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"a.2.3) Autres rôles du backend ?\"), \"\\n\", React.createElement(_components.p, null, \"Un backend peut offrir d'autres services, comme :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"proxy\"), \" : intermédiaire entre les clients demandant une ressource et le serveur fournissant cette ressource. On verra ce type de service, notamment pour masquer l'origine d'une requête à une API.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"reverse proxy\"), \" : c'est un serveur qui fait l'intermédiaire avec d'autres serveurs, cachant au client qui est le véritable serveur ayant traité sa requête. Par exemple, un proxy serveur peut mettre à disposition des accès à des serveurs interne à une entreprise (non visibles sur le web) alors que le client interroge un serveur qui est visible sur le web.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"serveur d'emails\"), \" ;\"), \"\\n\", React.createElement(_components.li, null, \"...\"), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"a.2.3) Technologies backend possibles\"), \"\\n\", React.createElement(_components.p, null, \"Voici un exemple de technologies qui pourrait être mises en oeuvre pour développer une application backend :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"techno.png\",\n    minWidth: \"586px\",\n    maxWidth: \"586px\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Technologies backend possibles\"), \"\\n\", React.createElement(_components.h3, null, \"a.2.4) Technologies backend sélectionnées pour ce cours\"), \"\\n\", React.createElement(_components.p, null, \"Voici les technologies qui ont été choisies pour être mises en oeuvre pour développer une application backend en JS :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"techno-course.png\",\n    minWidth: \"721px\",\n    maxWidth: \"721px\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Technologies backend en JS choisies pour ce cours\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons utiliser Express comme framework pour rapidement développer des applications Node.js.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(\"a\", {\n    id: \"b\"\n  }), \"b) Introduction à Node.js\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"b1\"\n  }), \" b.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Node.js est un environnement serveur open source permettant la création d'outils et applications côté serveur en JS.\", React.createElement(_components.br), \"\\n\", \"Node.js offre une utilisation optimale des ressources des serveurs sans dépendance à un serveur http externe, tout en étant multiplateforme (Windows, Linux, Mac…).\"), \"\\n\", React.createElement(_components.p, null, \"Pour le développement d'IHM de façon modernes, vous avez déjà installé l'environnement Node.js. Mais si ce n'est pas installé, il est important que vous installiez l'environnement \", React.createElement(_components.a, {\n    href: \"https://nodejs.org/en/\"\n  }, \"Node.js en version LTS\"), \" \", React.createElement(_components.a, {\n    href: \"/js2/references/#r34\"\n  }, \"[R.34]\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Vous ne devez pas apprendre un nouveau langage pour développer des applications backend, Node.js, c'est du JS.\", React.createElement(_components.br), \"\\n\", \"Si vous avez besoin d'un rappel du langage, vous pouvez le faire ici : \", React.createElement(_components.a, {\n    href: \"/js2/intro/#e\"\n  }, \"Introduction au langage JS\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Très souvent, Node.js est codé en JS conforme au standard \", React.createElement(_components.strong, null, \"CommonJS\"), \".\", React.createElement(_components.br), \"\\n\", \"La gestion des modules est différente du JS conforme au standard \", React.createElement(_components.strong, null, \"ECMAScript\"), \", telle que nous avons appris pour du JS côté browser.\"), \"\\n\", React.createElement(_components.p, null, \"Même s'il est possible d'écrire du Node.js conforme au standard \", React.createElement(_components.strong, null, \"ECMAScript\"), \", la majorité du code que vous trouverez sur le web sera conforme à \", React.createElement(_components.strong, null, \"CommonJS\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Dès lors, nous allons vous expliquer plus tard comment gérer des modules en Node.js conforme au standard \", React.createElement(_components.strong, null, \"CommonJS\"), \".\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"b2\"\n  }), \" b.2) Ou mettre du code Node.js ?\"), \"\\n\", React.createElement(_components.h3, null, \"b.2.1) Directement dans un terminal\"), \"\\n\", React.createElement(_components.p, null, \"Il est possible d'écrire du code Node.js directement dans un terminal.\"), \"\\n\", React.createElement(_components.p, null, \"Pour rappel, nous vous conseillons d'utiliser Git Bash comme terminal au sein de VS Code.\"), \"\\n\", React.createElement(_components.p, null, \"Vous devriez déjà avoir configuré VS Code pour avoir comme Terminal par défaut\\r\\nGit Bash. Si ce n'est pas fait, nous vous rappelons la procédure :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Vous devez avoir installé Git sur votre machine.\"), \"\\n\", React.createElement(_components.li, null, \"Cliquez à droite du \", React.createElement(_components.strong, null, \"+\"), \" au sein d'un terminal ouvert dans VS Code, clic sur \", React.createElement(_components.strong, null, \"Select Default Profile\"), \", puis sélectionnez \\\"Git Bash\\\". Tous les prochains terminaux que vous ouvrirez le seront sous Git Bash, nettement plus coloré et intéressant que les autres terminaux 😎.\"), \"\\n\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"terminal-2.png\",\n    minWidth: \"933px\",\n    maxWidth: \"933px\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Choix du terminal par défaut\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez tester du code Node.js directement dans un terminal en tapant cela au sein d'un terminal de VS Code :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"node\\n\")), \"\\n\", React.createElement(_components.p, null, \"Vous avez maintenant accès au terminal de Node.js.\", React.createElement(_components.br), \"\\n\", \"Vous pouvez tenter une opération mathématique de votre choix, comme par exemple : \", React.createElement(_components.strong, null, \"2 * Math.PI\")), \"\\n\", React.createElement(_components.p, null, \"Incroyable mais vrai, vous avez maintenant accès à une nouvelle calculatrice sur tous les appareils où vous avez Node.js installé. Et si Node.js n'est pas installé, pas de panique, la console de votre Browser pourra toujours vous aider 😉.\"), \"\\n\", React.createElement(_components.p, null, \"Quand vous souhaitez sortir de l'interpréteur de commandes de Nodes, il faut taper :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"soit deux fois \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"CTRL c\"))), \"\\n\", React.createElement(_components.li, null, \"soit \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"CTRL d\"))), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"b.2.2) Dans un script\"), \"\\n\", React.createElement(_components.p, null, \"Nous écrivons généralement le code Node.js au sein d'un script externe.\"), \"\\n\", React.createElement(_components.p, null, \"Dans votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez créer un répertoire \", React.createElement(_components.strong, null, \"/tutorials/node-start\"), \" et y ajouter le fichier \", React.createElement(_components.strong, null, \"start.js\"), \" contenant ce code-ci :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"class Car {\\r\\n  constructor(brand, model) {\\r\\n    this.brand = brand;\\r\\n    this.model = model;\\r\\n    this.id = Math.random();\\r\\n  }\\r\\n\\r\\n  getDescription() {\\r\\n    return `Car's description : ${this.brand}, ${this.model} , ID:${this.id}`;\\r\\n  }\\r\\n}\\r\\n\\r\\nconst dacia = new Car('Dacia', 'Sandero');\\r\\n\\r\\nconsole.log( dacia.getDescription() );\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour lancer une application Node.js, il suffit de taper dans un terminal : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"node nomScript\")), \" (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \".js\")), \" est optionnel).\"), \"\\n\", React.createElement(_components.p, null, \"Donc pour lancer le script créé ci-dessus, veuillez ouvrir un terminal au bon endroit.\", React.createElement(_components.br), \"\\n\", \"Pour rappel, Il est possible de faire un clic droit dans l'Explorer de VS Code sur le répertoire \", React.createElement(_components.strong, null, \"node-start\"), \", \", React.createElement(_components.strong, null, \"Open in Integrated Terminal\"), \" pour ouvrir un terminal à l'endroit souhaité.\"), \"\\n\", React.createElement(_components.p, null, \"Il ne vous reste plus qu'à taper :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"node start # or node start.js\\n\")), \"\\n\", React.createElement(_components.p, null, \"Voilà, c'est une simple application Node.js qui affiche un message dans le terminal.\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"b3\"\n  }), \" b.3) Les modules CommonJS\"), \"\\n\", React.createElement(_components.h3, null, \"b.3.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Un module est une librairie JS fournissant des objets.\", React.createElement(_components.br), \"\\n\", \"Comme en JS tout est objet, un module met donc à disposition des fonctions, des constantes, des variables...\"), \"\\n\", React.createElement(_components.h3, null, \"b.3.2) Création d'un module\"), \"\\n\", React.createElement(_components.p, null, \"Pour créer un module, il suffit de créer un script JS \", React.createElement(_components.strong, null, \"nomModule.js\"), \" et d'exporter des objets au sein de ce module via \", React.createElement(_components.strong, null, \"module.exports\"), \" ou \", React.createElement(_components.strong, null, \"exports\"), \".\"), \"\\n\", React.createElement(_components.h3, null, \"b.3.3) Exporter des objets\"), \"\\n\", React.createElement(_components.h4, null, \"b.3.3.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Il existe plusieurs façons d'exporter des objets, soit à la volée, soit à la fin d'un script.\"), \"\\n\", React.createElement(_components.p, null, \"👍 Nous vous recommandons de faire vos exports à la fin du script, cela rend les scripts plus lisibles.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons néanmoins voir toutes les façons d'exporter des objets en CommonJS, car vous trouverez de tout sur le web.\"), \"\\n\", React.createElement(_components.p, null, \"On exporte toujours un seul objet principal dans un module. Cet objet peut bien sûr contenir une multitude d'objets via ses propriétés.\"), \"\\n\", React.createElement(_components.h4, null, \"b.3.3.2) Export à la fin d'un script\"), \"\\n\", React.createElement(_components.p, null, \"C'est la façon la plus propre d'exporter un seul objet :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"module.exports = router;\\n\")), \"\\n\", React.createElement(_components.p, null, \"C'est l'équivalent d'un \\\"default export\\\" tel que vu en ECMAScript.\"), \"\\n\", React.createElement(_components.p, null, \"S'il y a plusieurs objets à exporter, voici la façon recommandée de le faire :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"module.exports = {authorize, users };\\n\")), \"\\n\", React.createElement(_components.p, null, \"C'est l'équivalent d'un \\\"Named export\\\" tel que vu en ECMAScript.\"), \"\\n\", React.createElement(_components.h4, null, \"b.3.3.3) Export à la volée\"), \"\\n\", React.createElement(_components.p, null, \"Il est possible de faire des exports à la volée, c'est à dire d'exporter des objets au fur et à mesure qu'ils sont initialisés.\"), \"\\n\", React.createElement(_components.p, null, \"Voici la version longue :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"module.exports.authorize = authorize;\\r\\nmodule.exports.users = users ;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Il est aussi possible d'écourter une export à la volée :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"exports.authorize = authorize;\\r\\nexports.users = users ;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Voici quelques précisions :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"module.exports\")), \" : c'est la référence de l'objet retournée par l'appel de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"required()\")), \" (méthode qui sera utilisée pour l'import).\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"exports\")), \" : c'est la référence vers \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"module.exports\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"exports\")), \" n'est pas retourné par l'appel de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"required()\")), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"⚡ Il faut faire attention au mauvais usage de l'utilisation de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"exports\")), \".\", React.createElement(_components.br), \"\\n\", \"Voici une mauvaise utilisation :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"exports = { authorize, users }; /* exports has a new reference, \\r\\n                                   it is no longer linked to module.exports */\\n\")), \"\\n\", React.createElement(_components.h3, null, \"b.3.4) Importer des objets\"), \"\\n\", React.createElement(_components.h4, null, \"b.3.4.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Pour utiliser des objets (fonctions, constantes, objets, classes...) au sein d'un script JS provenant de modules, on le fait à l'aide de la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"required()\")), \" et du chemin vers le module à utiliser.\"), \"\\n\", React.createElement(_components.p, null, \"Il est possible d'importer tant des objets de modules que l'on a créé soi-même, que de packages mis à disposition via un gestionnaire de packages.\"), \"\\n\", React.createElement(_components.h4, null, \"b.3.4.2) Import d'un module\"), \"\\n\", React.createElement(_components.p, null, \"Lorsqu'un seul objet a été exporté, on l'importe en lui donnant le nom que l'on souhaite à l'import et en indiquant le chemin vers le module à utiliser.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const pizzaRouter = require('./routes/pizzas');\\n\")), \"\\n\", React.createElement(_components.p, null, \"Lorsque plusieurs objets ont été exportés, on importe ce que l'on souhaite en utilisant des accolades et en indiquant le chemin vers le module à utiliser.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const { users, authorize } = require('../utils/auths');\\n\")), \"\\n\", React.createElement(_components.h4, null, \"b.3.4.2) Import d'un package\"), \"\\n\", React.createElement(_components.p, null, \"Il est aussi possible d'importer des objets de packages offerts par la communauté via votre gestionnaire de package.\", React.createElement(_components.br), \"\\n\", \"Pour ce faire, il est juste nécessaire d'indiquer le nom du package lors de l'import.\"), \"\\n\", React.createElement(_components.p, null, \"Si un seul objet est exporté par un package, voici un exemple de comment le récupérer :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// module integrated to the runtime environment\\r\\nconst http = require('http');\\r\\n// module used after package installation\\r\\nconst shortid = require('shortid');\\n\")), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"b4\"\n  }), \" b.4) Introduction aux packages\"), \"\\n\", React.createElement(_components.h3, null, \"b.4.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre du développement d'IHM modernes, au module 2, nous avons découvert le gestionnaire de packages de Node.js. Nous allons résumer les concepts importants ci-dessous.\"), \"\\n\", React.createElement(_components.h3, null, \"b.4.2) Gestionnaire de packages\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"npm\"), \" est le gestionnaire de packages de Node.js.\"), \"\\n\", React.createElement(_components.p, null, \"On peut faire des recherches de packages qui serait utiles à nos application web sur \", React.createElement(_components.a, {\n    href: \"https://www.npmjs.com/\"\n  }, \"npmjs.com\"), \" \", React.createElement(_components.a, {\n    href: \"/js2/references/#r48\"\n  }, \"[R.48]\"), \".\"), \"\\n\", React.createElement(_components.h3, null, \"b.4.3) Fichier de configuration d'un projet\"), \"\\n\", React.createElement(_components.p, null, \"Tous les packages associés à une app, ses dépendances, sont données dans le fichier : \", React.createElement(_components.strong, null, \"package.json\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"C'est le fichier qui décrit la configuration d'un projet JS.\"), \"\\n\", React.createElement(_components.p, null, \"On peut manuellement créer ce fichier à l'aide de la commande \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm init\")), \" si l'on souhaite quelque chose de plus interactif ou \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm init -y\")), \" si l'on souhaite un fichier avec le minimum autogénéré.\"), \"\\n\", React.createElement(_components.p, null, \"Voici un exemple de fichier \", React.createElement(_components.strong, null, \"package.json\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-json\"\n  }, \"{\\r\\n  \\\"name\\\": \\\"api2\\\",\\r\\n  \\\"version\\\": \\\"0.0.0\\\",\\r\\n  \\\"private\\\": true,\\r\\n  \\\"scripts\\\": {\\r\\n    \\\"debug\\\": \\\"npm run dev\\\",\\r\\n    \\\"dev\\\": \\\"nodemon ./bin/www\\\",\\r\\n    \\\"start\\\": \\\"node ./bin/www\\\",\\r\\n    \\\"lint\\\": \\\"eslint **/*.js\\\",\\r\\n    \\\"lint:fix\\\": \\\"npm run lint -- --fix\\\"\\r\\n  },\\r\\n  \\\"nodemonConfig\\\": {\\r\\n    \\\"ignore\\\": [\\r\\n      \\\"data/*\\\"\\r\\n    ],\\r\\n    \\\"exec\\\": \\\"npm run lint && node\\\"\\r\\n  },\\r\\n  \\\"dependencies\\\": {\\r\\n    \\\"cookie-parser\\\": \\\"~1.4.4\\\",\\r\\n    \\\"debug\\\": \\\"~2.6.9\\\",\\r\\n    \\\"express\\\": \\\"~4.16.1\\\",\\r\\n    \\\"morgan\\\": \\\"~1.9.1\\\"\\r\\n  },\\r\\n  \\\"devDependencies\\\": {\\r\\n    \\\"eslint\\\": \\\"^8.19.0\\\",\\r\\n    \\\"eslint-config-airbnb-base\\\": \\\"^15.0.0\\\",\\r\\n    \\\"nodemon\\\": \\\"^2.0.19\\\",\\r\\n    \\\"prettier-airbnb-config\\\": \\\"^1.0.0\\\"\\r\\n  },\\r\\n  \\\"author\\\": \\\"e-Baron\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Lors de l'installation d'un package, celui-ci s'ajoute à la liste des dépendances.\", React.createElement(_components.br), \"\\n\", \"Ainsi, si des développeurs trouvent votre projet sur Git, ils n'auront qu'à exécuter \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm i\")), \" afin d'installer toutes les dépendances.\"), \"\\n\", React.createElement(_components.p, null, \"C'est dans le répertoire \", React.createElement(_components.strong, null, \"node_modules\"), \" que toutes les dépendances seront installées.\", React.createElement(_components.br), \"\\n\", \"Ces dépendances peuvent être très volumineuses. C'est donc important de ne jamais mettre ce dossier sur vos web repository, via Git.\", React.createElement(_components.br), \"\\n\", \"Pour ce faire, n'oubliez pas d'inclure un fichier \", React.createElement(_components.strong, null, \".gitignore\"), \" dans vos repos pour ignore \", React.createElement(_components.strong, null, \"node_modules\"), \".\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"package.json\"), \" indique les scripts de démarrage, en fonction de la façon dont nous souhaitons démarrer l'application.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-json\"\n  }, \"  \\\"scripts\\\": {\\r\\n    \\\"debug\\\": \\\"npm run dev\\\",\\r\\n    \\\"dev\\\": \\\"nodemon ./bin/www\\\",\\r\\n    \\\"start\\\": \\\"node ./bin/www\\\",\\r\\n    \\\"lint\\\": \\\"eslint **/*.js\\\",\\r\\n    \\\"lint:fix\\\": \\\"npm run lint -- --fix\\\"\\r\\n  },  \\n\")), \"\\n\", React.createElement(_components.p, null, \"Au regard de cette configuration, on peut démarrer l'application à l'aide de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm start\")), \" ou \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm run start\")), \", ce qui exécutera le script \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"./bin/www\")), \" à l'aide de \", React.createElement(_components.strong, null, \"node\"), \".\", React.createElement(_components.br), \"\\n\", \"On pourrait aussi démarrer l'application à l'aide de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm run dev\")), \", ce qui démarrerait l'application à l'aide de \", React.createElement(_components.strong, null, \"nodemon\"), \", un outil permettant de monitorer les changements de fichiers et de redémarrer automatiquement le serveur en cas de changement.\"), \"\\n\", React.createElement(_components.p, null, \"NB : nous verrons plus tard cet outil \", React.createElement(_components.strong, null, \"nodemon\"), \" pour simplifier le développement.\"), \"\\n\", React.createElement(_components.h3, null, \"b.4.4) Installer un package\"), \"\\n\", React.createElement(_components.p, null, \"Pour installer un package (ou une dépendance), il suffit de faire : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm i nomDuPackage\")), \" ou \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm install nomDuPackage\")), \".\"), \"\\n\", React.createElement(_components.h3, null, \"b.4.5) Dépendances installées\"), \"\\n\", React.createElement(_components.p, null, \"On a vu que \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm i\")), \" permet d'installer toutes les dépendances se trouvant dans \", React.createElement(_components.strong, null, \"package.json\"), \", ainsi que toutes les dépendances de ces dépendances...\"), \"\\n\", React.createElement(_components.p, null, \"L'arbre exact des dépendances installées, numéros de version..., se trouve dans \", React.createElement(_components.strong, null, \"package-lock.json\"), \". Ce fichier est généré automatiquement pour chaque opération modifiant \", React.createElement(_components.strong, null, \"node_modules\"), \" ou \", React.createElement(_components.strong, null, \"package.json\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"⚡ Si un fichier \", React.createElement(_components.strong, null, \"package-lock.json\"), \" est compris dans un repo, lorsque vous introduirez \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm i\")), \" pour installer toutes les dépendances, npm installera les mêmes versions que celles se trouvant dans \", React.createElement(_components.strong, null, \"package-lock.json\"), \". Cela peut poser des problèmes si votre environnement Node.js est en version différente. En cas de souci, pensez à effacer le répertoire \", React.createElement(_components.strong, null, \"node_modules\"), \" et le fichier \", React.createElement(_components.strong, null, \"package-lock.json\"), \" avant de relancer l'installation de toutes les dépendances.\"), \"\\n\", React.createElement(_components.h3, null, \"b.4.6) Localisation d'un module ou package par Node\"), \"\\n\", React.createElement(_components.p, null, \"Node va chercher dans tous les chemins spécifiés dans la variable \", React.createElement(_components.strong, null, \"module.paths\"), \" lorsque \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"required()\")), \" est appelé. Les chemins cherchés sont par exemple : \", React.createElement(_components.strong, null, \"node_modules\"), \", \", React.createElement(_components.strong, null, \"./\"), \", ...\"), \"\\n\", React.createElement(_components.h3, null, \"b.4.7) Mise à jour des packages vers leur dernière version\"), \"\\n\", React.createElement(_components.p, null, \"La mise à jour de toutes les dépendances peut parfois amener à des gros soucis.\"), \"\\n\", React.createElement(_components.p, null, \"Sans prendre trop de risques, vous pouvez tenter de mettre à jour tous vos packages en suivant la documentation de npm :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://docs.npmjs.com/updating-packages-downloaded-from-the-registry\"\n  }, \"Updating packages downloaded from the registry\"), \" \", React.createElement(_components.a, {\n    href: \"/js2/references/#r49\"\n  }, \"[R.49]\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Cela vous permettra de mettre à jour vos packages, sans devoir changer la liste de vos dépendances qui est donnée dans \", React.createElement(_components.strong, null, \"package.json\"), \". S'il y a des dépendances qui ont des \\\"breaking changes\\\", ces versions ne seront pas installées.\"), \"\\n\", React.createElement(_components.p, null, \"Si vous souhaitez tous mettre à jour d'un coup, vers la toute dernière version de chaque package, vous pouvez tentez le coup en utilisant la commande \", React.createElement(_components.strong, null, \"ncu\"), \" du package \", React.createElement(_components.a, {\n    href: \"https://www.npmjs.com/package/npm-check-updates\"\n  }, \"npm-check-updates\"), \".\", React.createElement(_components.br), \"\\n\", \"Mais attention, certains packages subissent parfois des \\\"breaking changes\\\", ce qui impose que vous deviez faire migrer votre code avant que celui-ci soit fonctionnel.\"), \"\\n\", React.createElement(_components.p, null, \"Nous vous recommandons donc, si vous rencontrer un problème lors de la mise à jour de tous vos packages d'un coup à l'aide de \", React.createElement(_components.strong, null, \"ncu\"), \", de revenir à la situation initiale, et de faire l'upgrade de chaque package listé dans \", React.createElement(_components.strong, null, \"package.json\"), \" individuellement. Pour installer la dernière version d'un package, utilisez \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"@latest\")), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm i nomPackage@latest\\n\")), \"\\n\", React.createElement(_components.h1, null, React.createElement(\"a\", {\n    id: \"c\"\n  }), \" c) Introduction à Express\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"c1\"\n  }), \"  c.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Voici le moto du framework Express: \\\"\", React.createElement(_components.strong, null, \"Fast, unopinionated, minimalist web framework for Node.js\"), \"\\\" \", React.createElement(_components.a, {\n    href: \"https://expressjs.com/\"\n  }, \"Express\"), \" \", React.createElement(_components.a, {\n    href: \"/js2/references/#r50\"\n  }, \"[R.50]\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Express est un framework qui permet de rapidement créer des applications en Node.js.\"), \"\\n\", React.createElement(_components.p, null, \"Il est possible de créer une application Express soit \\\"from scratch\\\", soit à partir d'un boilerplate.\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre de ce cours, nous allons plutôt utiliser des boilerplates pour générer des applications. Néanmoins, il est intéressant de voir comment créer une application \\\"from scratch\\\".\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"c2\"\n  }), \" c.2) Créer une application Express \\\"from scratch\\\"\"), \"\\n\", React.createElement(_components.p, null, \"Il faut d'abord créer un répertoire pour votre application.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez créer le répertoire \", React.createElement(_components.strong, null, \"/tutorials/express-static-file-server\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez, via le terminal, entrer dans ce répertoire.\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considérons que tous les chemins absolus démarrent du répertoire \", React.createElement(_components.strong, null, \"/tutorials/express-static-file-server\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Dans ce répertoire, veuillez générer le fichier de configuration du projet (\", React.createElement(_components.strong, null, \"package.json\"), \") : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm init\")), \".\", React.createElement(_components.br), \"\\n\", \"Veuillez répondre aux questions pour configurer le point d'entrée de l'application comme étant le script \", React.createElement(_components.strong, null, \"index.js\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez configurer le script de démarrage de votre application en ajoutant cette ligne au sein de \", React.createElement(_components.strong, null, \"package.json\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-json\"\n  }, \"  \\\"scripts\\\": {\\r\\n    \\\"start\\\": \\\"node index.js\\\",\\n\")), \"\\n\", React.createElement(_components.p, null, \"Ainsi, notre application pourra démarrer à l'aide de la commande \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm start\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"A ce stade-ci, voilà à quoi devrait ressembler votre \", React.createElement(_components.strong, null, \"package.json\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-json\"\n  }, \"{\\r\\n  \\\"name\\\": \\\"express-static-file-server\\\",\\r\\n  \\\"version\\\": \\\"1.0.0\\\",\\r\\n  \\\"description\\\": \\\"\\\",\\r\\n  \\\"main\\\": \\\"index.js\\\",\\r\\n  \\\"scripts\\\": {\\r\\n    \\\"start\\\": \\\"node index.js\\\",\\r\\n    \\\"test\\\": \\\"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\\\"\\r\\n  },\\r\\n  \\\"author\\\": \\\"yourName\\\",\\r\\n  \\\"license\\\": \\\"ISC\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez installer le package \", React.createElement(_components.strong, null, \"express\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm i express\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous allons créer un simple serveur de fichiers statiques à l'aide du middleware \", React.createElement(_components.strong, null, \"express.static\"), \", afin de servir tous les fichiers qui se trouveront dans le répertoire \", React.createElement(_components.strong, null, \"public\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Tout d'abord, téléchargez ce zip : \", React.createElement(LinkFile, {\n    name: \"public.zip\",\n    target: \"_blank\",\n    download: true\n  }, \"fichiers statiques\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez désarchiver ce répertoire dans votre projet afin d'avoir les fichiers statiques qui seront partagés par votre serveur au sein de \", React.createElement(_components.strong, null, \"/public\"), \".\", React.createElement(_components.br), \"\\n\", \"Vérifiez bien que vous n'avez qu'un seul répertoire \", React.createElement(_components.strong, null, \"/public\"), \" et pas un \", React.createElement(_components.strong, null, \"/public/public\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Il ne reste plus qu'à créer le serveur. Veuillez créer le fichier \", React.createElement(_components.strong, null, \"/index.js\"), \" et y ajouter ce code :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const express = require('express');\\r\\nconst app = express();\\r\\n\\r\\napp.use(express.static('public'));\\r\\n\\r\\nconst PORT = 7777;\\r\\n\\r\\napp.listen(PORT, () => {\\r\\n  console.log(`Server running on port ${PORT}`);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"On voit que juste cette ligne permet la mise en place d'un serveur de fichier statique, via le middleware \", React.createElement(_components.strong, null, \"express.static\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"app.use(express.static('public'));\\n\")), \"\\n\", React.createElement(_components.p, null, \"Et pour démarrer un serveur web qui écoute sur le port \", React.createElement(_components.strong, null, \"7777\"), \", ces lignes sont suffisantes :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"app.listen(PORT, () => {\\r\\n  console.log(`Server running on port ${PORT}`);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez lancer l'application en tapant cela dans votre terminal au sein du répertoire du projet :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm start\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour accéder au serveur de fichiers, vous pouvez le faire via un browser : \", React.createElement(_components.a, {\n    href: \"http://localhost:7777\"\n  }, \"http://localhost:7777\")), \"\\n\", React.createElement(_components.p, null, \"Si tout se passe bien, vous devriez avoir accès au site de la pizzeria développé au module 1 de ce cours.\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, \"commit\"), \" de votre repo (\", React.createElement(_components.strong, null, \"web2\"), \") avec le message \\\"\", React.createElement(_components.strong, null, \"express-static-file-server\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez accéder au code de cette démo ici :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/express-static-file-server/\"\n  }, \"express-static-file-server\"), \".\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"c3\"\n  }), \" c.3) Créer une application Express via un générateur\"), \"\\n\", React.createElement(_components.p, null, \"Le générateur d'applications \", React.createElement(_components.strong, null, \"express-generator\"), \" permet de générer le boilerplate d'une application Express de base.\"), \"\\n\", React.createElement(_components.p, null, \"A l'aide du générateur d'applications Express, vous allez créer une application Express sans \\\"view engine\\\" car nous n'allons pas faire du Server Side Rendering dans le cadre de ce cours.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez ouvrir un terminal au sein de VS Code au niveau du répertoire \", React.createElement(_components.strong, null, \"/tutorials\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Ensuite, créez une application nommée \", React.createElement(_components.strong, null, \"basic-generated-app\"), \" en tapant :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npx express-generator --no-view basic-generated-app\\n\")), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"npx\"), \" permet de directement exécuter un package en mode de commandes en installant une copie locale et temporaire de ce package (et de ses dépendances).\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez installer les dépendances de votre app et la démarrer :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"cd basic-generated-app\\r\\nnpm i \\r\\nnpm start\\n\")), \"\\n\", React.createElement(_components.p, null, \"Si vous copier / coller le contenu du répertoire \", React.createElement(_components.strong, null, \"/public\"), \" du tutoriel précédent dans le répertoire \", React.createElement(_components.strong, null, \"public\"), \" généré, l'application fournira le même résultat que la précédente, mais sur un port différent : \", React.createElement(_components.a, {\n    href: \"http://localhost:3000\"\n  }, \"http://localhost:3000\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons découvrir en détails ce qui a été généré par \", React.createElement(_components.strong, null, \"express-generator\"), \" un peu plus tard.\"), \"\\n\", React.createElement(_components.p, null, \"Actuellement, on remarquera :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"le point d'entrée de l'application est \", React.createElement(_components.strong, null, \"./bin/www\"), \" au regard de \", React.createElement(_components.strong, null, \"package.json\"), \";\"), \"\\n\", React.createElement(_components.li, null, \"que \", React.createElement(_components.strong, null, \"./bin/www\"), \" démarre un serveur web sur le port \", React.createElement(_components.strong, null, \"3000\"), \" en lui demandant de s'occuper de démarrer tous les middlewares en lui passant tout ce qui est exporté de \", React.createElement(_components.strong, null, \"app.js\"), \".\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"app.js\"), \" met aussi à disposition un serveur de fichier statiques servant le contenu du répertoire \", React.createElement(_components.strong, null, \"public\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Avant d'aller dans les détails d'Express que nous souhaitons utiliser pour développer des services web de type RESTful, nous allons voir ce que nous entendons par \", React.createElement(_components.strong, null, \"RESTful\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(\"a\", {\n    id: \"d\"\n  }), \" d) Introduction aux RESTful API\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"d1\"\n  }), \" d.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"REST\"), \" vient de \", React.createElement(_components.strong, null, \"RE\"), \"presentational \", React.createElement(_components.strong, null, \"S\"), \"tate \", React.createElement(_components.strong, null, \"T\"), \"ransfer : c'est un style architectural pour construire des applications web extensibles, où les client et serveurs sont séparés.\"), \"\\n\", React.createElement(_components.p, null, \"Dans une application REST, une \", React.createElement(_components.strong, null, \"interface uniforme\"), \" (ou API) est définie afin de permettre à des applications de coopérer.\"), \"\\n\", React.createElement(_components.p, null, \"Toute application REST se doit d'être \", React.createElement(_components.strong, null, \"stateless\"), \" : il n'y a pas d'enregistrement du contexte d'une session sur le serveur pour comprendre une requête d'un client.\", React.createElement(_components.br), \"\\n\", \"Ainsi, les requêtes clientes ne dépendent pas d'un historique de requêtes, elles sont autoportantes.\"), \"\\n\", React.createElement(_components.p, null, \"Une RESTful API met à disposition des \", React.createElement(_components.strong, null, \"opérations\"), \" sur des \", React.createElement(_components.strong, null, \"ressources\"), \" via :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"des \", React.createElement(_components.strong, null, \"URI\"), \" ; il y a donc une adresse unique pur chaque ressource ;\"), \"\\n\", React.createElement(_components.li, null, \"des \", React.createElement(_components.strong, null, \"méthodes HTTP\"), \" (GET, POST, DELETE, PATCH, PUT) représentant les opérations possibles (on parle souvent d'opérations \", React.createElement(_components.strong, null, \"CRUD\"), \", des opérations de type Create, Read, Update ou Delete) ;\"), \"\\n\", React.createElement(_components.li, null, \"des \", React.createElement(_components.strong, null, \"représentations\"), \" des ressources compréhensibles tant par les clients que les serveurs ; les ressources sont représentées par leur \\\"Media type\\\" : \", React.createElement(_components.strong, null, \"JSON\"), \", \", React.createElement(_components.strong, null, \"XML\"), \", \", React.createElement(_components.strong, null, \"HTML\"), \", \", React.createElement(_components.strong, null, \"TXT\"), \", \", React.createElement(_components.strong, null, \"JPEG\"), \"... ; dans le cadre de ce cours, les ressources seront quasi toujours représentées via du \", React.createElement(_components.strong, null, \"JSON\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"d2\"\n  }), \" d.2) Conventions REST\"), \"\\n\", React.createElement(_components.p, null, \"Le type d'opération CRUD (Create, Read, Update ou Delete) sur une ressource est défini via la méthode http de la requête.\", React.createElement(_components.br), \"\\n\", \"Les opérations possibles sont :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"GET = Read\"), \"\\n\", React.createElement(_components.li, null, \"POST = Create\"), \"\\n\", React.createElement(_components.li, null, \"DELETE = Delete 😉\"), \"\\n\", React.createElement(_components.li, null, \"PATCH / PUT = Update\", \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"PATCH = Update d'une ou plusieurs propriété(s) de la ressources\"), \"\\n\", React.createElement(_components.li, null, \"PUT = Update de toutes les propriétés de la ressources, ou création si la ressource n'existe pas\"), \"\\n\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Voici un exemple d'application de ces conventions REST dans le cadre d'une RESTful API permettant de gérer des films :\"), \"\\n\", React.createElement(_components.p, null, \"| URI | Méthode HTTP | Opération |\\r\\n|---|---|---|\\r\\n| \", React.createElement(_components.strong, null, \"films\"), \" | GET | READ ALL : Lire toutes les ressources de la collection |\\r\\n| \", React.createElement(_components.strong, null, \"films?minimum-duration=value\"), \" | GET | READ ALL FILTERED : Lire toutes les ressources de la collection selon le filtre donné |\\r\\n| \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\")), \" | GET | READ ONE : Lire la ressource identifiée |\\r\\n| \", React.createElement(_components.strong, null, \"films\"), \" | POST | CREATE ONE : Créer une ressource basée sur les données de la requête |\\r\\n| \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\")), \" | DELETE | DELETE ONE : Effacer la ressource identifiée |\\r\\n| \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\")), \" | PUT | UPDATE ONE : Remplacer l'entièreté de la ressource par les données de la requête |\"), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.p, null, \"Si cette API est hébergée à l'URL racine \", React.createElement(_components.strong, null, \"http://ilovemoovies.org\"), \", alors nous pourrions identifier une ressource de type \", React.createElement(_components.strong, null, \"films\"), \" de cette façons : \", React.createElement(_components.strong, null, \"http://ilovemoovies.org/films/10\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour lire cette ressource, il faudrait faire une requête http de type \", React.createElement(_components.strong, null, \"GET\"), \" sur cette \", React.createElement(_components.strong, null, \"URL\"), \" : \", React.createElement(_components.strong, null, \"http://ilovemoovies.org/films/10\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(\"a\", {\n    id: \"e\"\n  }), \" e) Introduction aux RESTful API via Express\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e1\"\n  }), \" e.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Nous avons précédemment généré une application Express à l'aide du générateur d'applications.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez avoir devant vous le code de cette application car nous allons découvrir le rôle des répertoires et fichiers importants générés par \", React.createElement(_components.strong, null, \"express-generator\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant nous attarder à comprendre les concepts associés à l'utilisation d'Express, mais en focalisant sur ceux utiles aux applications REST.\"), \"\\n\", React.createElement(_components.p, null, \"Voici comment une requête faite à une application Express est traitée :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"express-flow.png\",\n    minWidth: \"800px\",\n    maxWidth: \"800px\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Flux d'une requête vers une application Express [R.51]\"), \"\\n\", React.createElement(_components.p, null, \"Dans ce flux de traitement d'une requête, la responsabilité des développeurs est de s'occuper de la partie \\\"Middleware\\\".\"), \"\\n\", React.createElement(_components.p, null, \"La grande majorité du code écrit sera du \\\"routing middleware\\\" : notre code s'occupera de répondre à des requêtes clientes pour différentes URLs et méthodes HTTP (GET, POST...).\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e2\"\n  }), \" e.2) Configuration et démarrage d'une application Express\"), \"\\n\", React.createElement(_components.p, null, \"On l'a déjà vu, la configuration d'une application Express, comme toutes applications Node.js, est faite au sein de \", React.createElement(_components.strong, null, \"package.json\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"En fonction de comment est configuré l'application, on la démarrera via \", React.createElement(_components.strong, null, \"npm start\"), \", \", React.createElement(_components.strong, null, \"npm run dev\"), \"...\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e3\"\n  }), \" e.3) Serveur web intégré\"), \"\\n\", React.createElement(_components.p, null, \"Un serveur web intégré à nos applications Express est démarré au sein du fichier \", React.createElement(_components.strong, null, \"bin/www\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"C'est ce fichier que vous devez mettre à jour si par exemple vous souhaitez que votre application fonctionne sur un port différent que le port par défaut \", React.createElement(_components.strong, null, \"3000\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Un serveur intégré est différent d'une application web offerte par un serveur standalone comme Apache, Tomcat... C'est un serveur très léger dédié à votre application.\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e4\"\n  }), \" e.4) Les fonctions middleware en Express\"), \"\\n\", React.createElement(_components.h3, null, \"e.4.1) C'est quoi une fonction middleware ?\"), \"\\n\", React.createElement(_components.p, null, \"Les fonctions middleware s'occupent du traitement des requêtes des clients et de la préparation des réponses :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"middlewares.jpg\",\n    minWidth: \"638px\",\n    maxWidth: \"638px\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Les fonctions Middleware et Express [R.52]\"), \"\\n\", React.createElement(_components.p, null, \"Une fonction middleware a accès aux objets de la requête et de la réponse et peut utiliser la requête et la réponse pour ajouter, par exemple, un log, pour autoriser un utilisateur, pour parser des données Json vers des objets JS, pour servir des fichiers statiques, pour faire un traitement pour une route bien spécifique...\"), \"\\n\", React.createElement(_components.p, null, \"Si une fonction middleware ne termine pas le cycle de requête-réponse, elle doit appeler \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"next()\")), \" pour permettre à d'autres fonctions qui sont dans la queue de pouvoir être exécutées.\"), \"\\n\", React.createElement(_components.p, null, \"Voici les éléments associés à l'appel d'une fonction middleware :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"middleware-function.png\",\n    minWidth: \"944px\",\n    maxWidth: \"944px\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Une fonction middleware [R.53]\"), \"\\n\", React.createElement(_components.p, null, \"Il existe différent types de fonctions middleware ayant différents cas d'utilisation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Application-level middleware\"), \" : la fonction middleware est liée à l'objet \", React.createElement(_components.strong, null, \"app\"), \" ;\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Router-level middleware\"), \" : la fonction middleware est liée à un objet de type \", React.createElement(_components.strong, null, \"express.router()\"), \", elle est très similaire au \\\"application-level middleware\\\" ;\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Error-handling middleware\"), \" : fonction de gestion des erreurs qui se définit comme les fonctions app ou router level middleware, mais qui contient un quatrième paramètre nommé \", React.createElement(_components.strong, null, \"error\"), \".\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Built-in middleware\"), \" : fonctions middleware mises à disposition par Express directement :\", \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"express.static\"), \" : pour servir des assets statiques ;\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"express.json\"), \" : pour parser le body de requêtes en JSON vers des objets JS ;\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"express.urlencoded\"), \" : pour parser des requêtes dont le body est de type \\\"urlencoded\\\" (type par défaut des formulaires) vers des objets JS.\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Third-party middleware\"), \" : fonctions mises à disposition par la communauté et installables via npm, comme par exemple la fonction middleware \", React.createElement(_components.strong, null, \"cookieParser\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Si vous souhaitez approfondir, nous vous conseillons \", React.createElement(_components.a, {\n    href: \"https://expressjs.com/en/guide/using-middleware.html#middleware.third-party\"\n  }, \"la documentation d'Express\"), \" \", React.createElement(_components.a, {\n    href: \"/js2/references/#r54\"\n  }, \"[R.54]\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"La suite fournit quelques exemples de fonctions middleware qui seront soit plus tard rencontrées dans notre code, soit sont extraites de \", React.createElement(_components.a, {\n    href: \"/js2/references/#r54\"\n  }, \"Using middleware [R.54]\"), \".\"), \"\\n\", React.createElement(_components.h3, null, \"e.4.2) Application-level middleware : exemple\"), \"\\n\", React.createElement(_components.p, null, \"Voici une fonction middleware qui sera exécutée à chaque fois qu'il y a une requête, quelque soit le chemin (ou path) associé à la requête :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"var express = require('express');\\r\\nvar app = express();\\r\\napp.use((req, res, next) => {\\r\\n  console.log('Time:', Date.now());\\r\\n  next();\\r\\n});\\n\")), \"\\n\", React.createElement(_components.h3, null, \"e.4.3) Router-level middleware : exemple\"), \"\\n\", React.createElement(_components.p, null, \"Voici une partie du code qui se trouverait au sein d'un router de pizzas, dans le fichier \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"var router = express.Router();\\r\\n\\r\\nrouter.use((req, res, next) => {\\r\\n  console.log('Time:', Date.now());\\r\\n  next();\\r\\n});\\r\\n\\r\\nrouter.get('/',(req, res, next) => {\\r\\n  return res.json(menu);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"La première fonction middleware ne contient pas de méthode HTTP, ni de chemin, elle s'applique donc à toutes les routes associées au router de pizzas.\", React.createElement(_components.br), \"\\n\", \"Voici le code qui permettrait, dans \", React.createElement(_components.strong, null, \"/app.js\"), \", d'appeler le router de pizzas :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"var pizzaRouter = require('./routes/pizzas');\\r\\napp.use('/pizzas', pizzaRouter);\\n\")), \"\\n\", React.createElement(_components.p, null, \"Si le router est utilisé de cette façon, en relisant l'avant-dernier snippet, on voit que :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"la première fonction (où il y a un \", React.createElement(_components.code, null, \"console.log\"), \") s'applique donc à toutes les routes qui commencent par '/pizzas' ;\"), \"\\n\", React.createElement(_components.li, null, \"la deuxième fonction middleware s'appliquent seulement aux requêtes de type GET sur la route (ou le chemin) '/pizzas' (équivalent de la route '/pizzas/').\"), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"e.4.4) Error-handling middleware : exemple\"), \"\\n\", React.createElement(_components.p, null, \"Ce type de middleware est à définir après tous les middlewares pouvant générer une erreur et est appelé via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"next(err)\")), \" dans une fonction middleware où un souci est détecté.\"), \"\\n\", React.createElement(_components.p, null, \"Voici la définition d'un \\\"error handler\\\" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"app.use((err, req, res, next) => {\\r\\n  console.error(err.stack)\\r\\n  res.status(500).send('Something broke!')\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Attention, il y a bien 4 paramètres au lieu des 3 habituels pour les autres types de fonctions middleware.\"), \"\\n\", React.createElement(_components.h3, null, \"e.4.5) Built-in middleware & third-party middleware : exemple\"), \"\\n\", React.createElement(_components.p, null, \"Dans \", React.createElement(_components.strong, null, \"app.js\"), \", on trouve pas mal d'exemples de ces types de middleware. Ils sont commentés ci-dessous dans le code :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"var express = require('express');\\r\\nvar path = require('path');\\r\\nvar cookieParser = require('cookie-parser');\\r\\nvar logger = require('morgan');\\r\\n\\r\\nvar app = express();\\r\\n\\r\\napp.use(logger('dev')); // HTTP request logger\\r\\napp.use(express.json()); // Parse requests with JSON payloads\\r\\napp.use(express.urlencoded({ extended: false })); // Parse requests with URL-\\r\\n                                                  // encoded payload \\r\\napp.use(cookieParser()); // Parse cookie header (req.cookies)\\r\\napp.use(express.static(path.join(__dirname, 'public'))); // Serve static assets\\n\")), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e5\"\n  }), \" e.5) Définition d'une route en Express\"), \"\\n\", React.createElement(_components.h3, null, \"e.5.1) Définition d'une route\"), \"\\n\", React.createElement(_components.p, null, \"Le \\\"Routing\\\", ou routage, contrôle la réponse à une requête client pour un \", React.createElement(_components.strong, null, \"endpoint\"), \" / \", React.createElement(_components.strong, null, \"URI\"), \" / \", React.createElement(_components.strong, null, \"PATH\"), \" et une méthode HTTP.\"), \"\\n\", React.createElement(_components.p, null, \"On va définir une route soit sur l'objet \", React.createElement(_components.strong, null, \"app\"), \", soit sur un \", React.createElement(_components.strong, null, \"router\"), \".\", React.createElement(_components.br), \"\\n\", \"Un objet de type \", React.createElement(_components.strong, null, \"router\"), \" permet de regrouper toutes les routes associées à un type de ressources.\"), \"\\n\", React.createElement(_components.p, null, \"On définit une route de cette façon : \", React.createElement(_components.strong, null, \"app.\"), \" ou \", React.createElement(_components.strong, null, \"router.\"), \"  \", React.createElement(_components.strong, null, \"METHOD(PATH, MIDDLEWARE_FUNCTION)\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"👍 Dans notre cours, nous vous recommandons d'organiser vos routes par type de ressources et donc de mettre en place un router.\"), \"\\n\", React.createElement(_components.h3, null, \"e.5.2) Création d'un projet\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant réaliser un tutoriel pour créer notre toute première RESTful API.\", React.createElement(_components.br), \"\\n\", \"Nous allons créer une API pour permettre à notre site web de la pizzeria de bénéficier d'opérations sur des ressources de type \\\"pizzas\\\".\"), \"\\n\", React.createElement(_components.p, null, \"Dans votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez créer le répertoire \", React.createElement(_components.strong, null, \"/tutorials/pizzeria/api\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez ouvrir un terminal au niveau de ce répertoire.\"), \"\\n\", React.createElement(_components.p, null, \"Dans ce répertoire, veuillez générer une application express nommée \", React.createElement(_components.strong, null, \"basic\"), \".\", React.createElement(_components.br), \"\\n\", \"Pour ce faire :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npx express-generator --no-view basic\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez installer les dépendances :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"cd basic\\r\\nnpm i\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considérons que tous les chemins absolus démarrent du répertoire \", React.createElement(_components.strong, null, \"/tutorials/pizzeria/api/basic\"), \" (ou \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/api/basic\"), \" si l'on considère le nom du répertoire du repo).\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons développer des RESTful API qui ne possèdent pas de serveur de fichiers statiques.\", React.createElement(_components.br), \"\\n\", \"On n'a donc pas besoin d'avoir un répertoire \", React.createElement(_components.strong, null, \"/public\"), \" ni d'un serveur statique.\", React.createElement(_components.br), \"\\n\", \"On peut donc effacer le répertoire \", React.createElement(_components.strong, null, \"/public\"), \" et supprimer le middleware de serveur de fichiers statiques au sein de \", React.createElement(_components.strong, null, \"/app.js\"), \" (en supprimant cette ligne) :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"app.use(express.static(path.join(__dirname, 'public'))); \\n\")), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e6\"\n  }), \" e.6) Opération de lecture\"), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons par commencer à développer une opération permettant de lire toutes les ressources de type \\\"pizzas\\\". En effet, nous aimerions plus tard que notre IHM reçoive de notre API le menu des pizzas.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez créer un router pour traiter des ressources \", React.createElement(_components.strong, null, \"/pizzas\"), \" au sein de \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \".\", React.createElement(_components.br), \"\\n\", \"Le plus simple est d'adapter \", React.createElement(_components.strong, null, \"indexRouter\"), \" dans \", React.createElement(_components.strong, null, \"app.js\"), \" en \", React.createElement(_components.strong, null, \"pizzaRouter\"), \" et \", React.createElement(_components.strong, null, \"/routers/index.js\"), \" en \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \".\", React.createElement(_components.br), \"\\n\", \"Il est aussi possible de partir de rien et de créer \", React.createElement(_components.strong, null, \"pizzaRouter\"), \" dans \", React.createElement(_components.strong, null, \"app.js\"), \" et \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour l'opération de lecture de toutes les pizzas, selon les conventions REST, il faut faire une requête de type \", React.createElement(_components.strong, null, \"GET /pizzas\"), \".\", React.createElement(_components.br), \"\\n\", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \" doit donc offrir une route renvoyant toutes les pizzas qui existent dans le menu.\", React.createElement(_components.br), \"\\n\", \"Pour démarrer, nous souhaitons une application basique qui ne gère pas la persistance des données. Le menu est donc un Array d'objets, dont chaque objet représente une pizza.\"), \"\\n\", React.createElement(_components.p, null, \"Notre opération de lecture de pizza va renvoyer du JSON au client, c'est à dire une représentation textuelle du menu. Nous verrons plus tard ce qu'est réellement le JSON. A ce stade-ci, il est suffisant de connaître la fonction d'Express qui permet à un objet JS de circuler sur le réseau : \", React.createElement(_components.strong, null, \"res.json()\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Voici le code du router \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"var express = require('express');\\r\\nvar router = express.Router();\\r\\n\\r\\nconst MENU = [\\r\\n  {\\r\\n    id: 1,\\r\\n    title: '4 fromages',\\r\\n    content: 'Gruyère, Sérac, Appenzel, Gorgonzola, Tomates',\\r\\n  },\\r\\n  {\\r\\n    id: 2,\\r\\n    title: 'Vegan',\\r\\n    content: 'Tomates, Courgettes, Oignons, Aubergines, Poivrons',\\r\\n  },\\r\\n  {\\r\\n    id: 3,\\r\\n    title: 'Vegetarian',\\r\\n    content: 'Mozarella, Tomates, Oignons, Poivrons, Champignons, Olives',\\r\\n  },\\r\\n  {\\r\\n    id: 4,\\r\\n    title: 'Alpage',\\r\\n    content: 'Gruyère, Mozarella, Lardons, Tomates',\\r\\n  },\\r\\n  {\\r\\n    id: 5,\\r\\n    title: 'Diable',\\r\\n    content: 'Tomates, Mozarella, Chorizo piquant, Jalapenos',\\r\\n  },\\r\\n];\\r\\n\\r\\n// Read all the pizzas from the menu\\r\\nrouter.get('/', (req, res, next) => {\\r\\n  console.log('GET /pizzas');\\r\\n  res.json(MENU);\\r\\n});\\r\\n\\r\\nmodule.exports = router;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Et voici le code de \", React.createElement(_components.strong, null, \"app.js\"), \" (les parties modifiées sont surlignées) :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"var express = require('express');\\r\\nvar path = require('path');\\r\\nvar cookieParser = require('cookie-parser');\\r\\nvar logger = require('morgan');\\r\\n\\r\\nvar pizzaRouter = require('./routes/pizzas');\\r\\nvar usersRouter = require('./routes/users');\\r\\n\\r\\nvar app = express();\\r\\n\\r\\napp.use(logger('dev'));\\r\\napp.use(express.json());\\r\\napp.use(express.urlencoded({ extended: false }));\\r\\napp.use(cookieParser());\\r\\n\\r\\napp.use('/pizzas', pizzaRouter);\\r\\napp.use('/users', usersRouter);\\r\\n\\r\\nmodule.exports = app;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Notons que nous pourrions effacer le router s'occupant des ressources de type \\\"users\\\", mais nous préférons le garder car plus tard nous souhaiterons gérer l'authentification d'utilisateurs.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez démarrer l'API (par défaut elle est configurée sur le port 3000 au sein de \", React.createElement(_components.strong, null, \"bin/www\"), \") :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm start\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour consommer l'opération de lecture via un browser, nous pouvons lire toutes les ressources de type \\\"pizzas\\\" ici :\\r\\n\", React.createElement(_components.a, {\n    href: \"http://localhost:3000/pizzas\"\n  }, \"http://localhost:3000/pizzas\")), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e7\"\n  }), \" e.7) Chemin et paramètres de route\"), \"\\n\", React.createElement(_components.p, null, \"Les \\\"route parameters\\\" sont des segments d'une URL qui sont utilisés pour capturer une valeur spécifiée à leur position dans l'URL. On récupère ces paramètres via l'objet \", React.createElement(_components.strong, null, \"req.params\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour notre pizzeria, nous souhaitons pouvoir lire une pizza identifiée par son \", React.createElement(_components.strong, null, \"id\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons donc ajouter le paramètre de route \", React.createElement(_components.strong, null, \"id\"), \".\", React.createElement(_components.br), \"\\n\", \"En respect des conventions REST, un client, pour faire appel à cette opération, devra faire une requête du genre : \", React.createElement(_components.strong, null, \"GET /pizzas/2\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Voici la nouvelle route permettant de traiter de cette opération, à ajouter dans le router \", React.createElement(_components.strong, null, \"/routes/pizza.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// Read the pizza identified by an id in the menu\\r\\nrouter.get('/:id', (req, res) => {\\r\\n  console.log(`GET /pizzas/${req.params.id}`);\\r\\n\\r\\n  const indexOfPizzaFound = MENU.findIndex((pizza) => pizza.id == req.params.id);\\r\\n\\r\\n  if (indexOfPizzaFound < 0) return res.sendStatus(404);\\r\\n\\r\\n  res.json(MENU[indexOfPizzaFound]);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez redémarrer l'API (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"CTRL c\")), \" puis \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm start\")), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour consommer cette nouvelle opération via un browser, nous pouvons lire la ressource de type \\\"pizzas\\\" identifiée par \", React.createElement(_components.strong, null, \"2\"), \" dans le menu ainsi :\\r\\n\", React.createElement(_components.a, {\n    href: \"http://localhost:3000/pizzas/2\"\n  }, \"http://localhost:3000/pizzas/2\")), \"\\n\", React.createElement(_components.p, null, \"Le browser fait bien une requête du genre : \", React.createElement(_components.strong, null, \"GET /pizzas/2\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Le paramètre de la route \\\"2\\\" est récupéré dans l'URL de la route par Express et est offert via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"req.params.id\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"N'hésitez pas à faire une requête pour un identifiant n'existant pas de le menu pour voir ce qui se passe : \", React.createElement(_components.a, {\n    href: \"http://localhost:3000/pizzas/666\"\n  }, \"http://localhost:3000/pizzas/666\")), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e8\"\n  }), \" e.8) Chemin et paramètres de requête\"), \"\\n\", React.createElement(_components.p, null, \"Les \\\"query parameters\\\" sont des paramètres qui peuvent être ajoutés à une URL.\", React.createElement(_components.br), \"\\n\", \"On récupère ces paramètres via l'objet \", React.createElement(_components.strong, null, \"req.query\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour notre pizzeria, nous souhaitons pouvoir lire toutes les ressources de type \\\"pizzas\\\" triées par ordre ascendant ou descendant du titre.\"), \"\\n\", React.createElement(_components.p, null, \"En respect des conventions REST, un client, pour faire appel à cette opération, devra faire une requête du genre : \", React.createElement(_components.strong, null, \"GET /pizzas?order=title\"), \" pour le tri ascendant ou \", React.createElement(_components.strong, null, \"GET /pizzas?order=-title\"), \" pour le tri descendant .\"), \"\\n\", React.createElement(_components.p, null, \"Il n'y a donc pas de nouvelle route à ajouter ici. En effet, ça reste une requête de type GET sur la route \\\"/pizzas\\\".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez donc mettre à jour \", React.createElement(_components.strong, null, \"/routes/pizza.js\"), \" pour la lecture de toutes les pizzas :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"/* Read all the pizzas from the menu\\r\\n   GET /pizzas?order=title : ascending order by title\\r\\n   GET /pizzas?order=-title : descending order by title\\r\\n*/\\r\\nrouter.get('/', (req, res, next) => {\\r\\n  const orderByTitle =\\r\\n    req?.query?.order?.includes('title')\\r\\n      ? req.query.order\\r\\n      : undefined;\\r\\n  let orderedMenu;\\r\\n  console.log(`order by ${orderByTitle ?? 'not requested'}`);\\r\\n  if (orderByTitle)\\r\\n    orderedMenu = [...MENU].sort((a, b) => a.title.localeCompare(b.title));\\r\\n  if (orderByTitle === '-title') orderedMenu = orderedMenu.reverse();\\r\\n\\r\\n  console.log('GET /pizzas');\\r\\n  res.json(orderedMenu ?? MENU);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez redémarrer l'API (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"CTRL c\")), \" puis \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"npm start\")), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour consommer cette nouvelle opération via un browser, nous pouvons lire toutes les ressources de type \\\"pizzas\\\" triée par leur titre de manière descendante ainsi :\\r\\n\", React.createElement(_components.a, {\n    href: \"http://localhost:3000/pizzas?order=-title\"\n  }, \"http://localhost:3000/pizzas?order=-title\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"N'hésitez pas à tester d'autres tris.\"), \"\\n\", React.createElement(_components.p, null, \"💭 Est-ce qu'il y a un morceau de code que vous ne comprenez pas dans ce code-ci et cela vous gêne ? Si oui, vous trouverez plus d'info ici : \", React.createElement(_components.a, {\n    href: \"#f2\"\n  }, \"f.2) Spread operator au niveau d'un array\"), \".\", React.createElement(_components.br), \"\\n\", \"Si non, c'est OK de ne pas comprendre tous les éléments du code à ce stade-ci.\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e9\"\n  }), \" e.9) Opération de création & parsing du body\"), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons développer une opération permettant de créer une ressource de type \\\"pizzas\\\".\", React.createElement(_components.br), \"\\n\", \"Selon les conventions REST, il faut faire une requête de type \", React.createElement(_components.strong, null, \"POST /pizzas\"), \" qui offre une représentation de la ressource à créer. La représentation utilisée est le JSON que nous verrons plus en détails plus tard.\", React.createElement(_components.br), \"\\n\", \"Si nous souhaitons créer une ressource dont le titre est \\\"Magic Green\\\" et le contenu est \\\"Epinards, Brocolis, Olives vertes, Basilic\\\", la représentation de la ressource à créer sera la suivante :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-json\"\n  }, \"{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Selon les conventions REST, une requête de création est de type POST et contient ses paramètres\\r\\nau sein du body de la requête.\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \" doit offrir une nouvelle route permettant d'ajouter une nouvelle pizza au menu, qui est un array d'objets. Une nouvelle pizza doit donc être ajoutée à une variable, un array, qui est contenu dans la mémoire vive de votre machine.\", React.createElement(_components.br), \"\\n\", \"Lorsque l'ajout d'une pizza au menu a réussi, nous souhaitons renvoyer la représentation de la nouvelle ressource au client. Ainsi, le client aura notamment accès à l'id de la pizza créé par l'API.\"), \"\\n\", React.createElement(_components.p, null, \"Voici le code du router \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \" pour la nouvelle opération, veuillez le rajouter dans votre application :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// Create a pizza to be added to the menu.\\r\\nrouter.post('/', (req, res) => {\\r\\n  const title = req?.body?.title?.length !== 0 ? req.body.title : undefined;\\r\\n  const content = req?.body?.content?.length !== 0 ? req.body.content : undefined;\\r\\n\\r\\n  console.log('POST /pizzas');\\r\\n\\r\\n  if (!title || !content) return res.sendStatus(400); // error code '400 Bad request'\\r\\n\\r\\n  const lastItemIndex = MENU?.length !== 0 ? MENU.length - 1 : undefined;\\r\\n  const lastId = lastItemIndex !== undefined ? MENU[lastItemIndex]?.id : 0;\\r\\n  const nextId = lastId + 1;\\r\\n\\r\\n  const newPizza = {\\r\\n    id: nextId,\\r\\n    title: title,\\r\\n    content: content,\\r\\n  };\\r\\n\\r\\n  MENU.push(newPizza);\\r\\n\\r\\n  res.json(newPizza);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"La représentation de la ressource à créer est parsée dans l'objet \", React.createElement(_components.strong, null, \"req.body\"), \" grâce à la fonction middleware \", React.createElement(_components.strong, null, \"express.json()\"), \" appelée dans \", React.createElement(_components.strong, null, \"/app.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"app.use(express.json());\\n\")), \"\\n\", React.createElement(_components.p, null, \"Il est donc important de ne pas retirer cette ligne lorsque l'on crée une RESTful API.\"), \"\\n\", React.createElement(_components.p, null, \"OK, c'est bien, mais comment tester ce nouveau code ?\"), \"\\n\", React.createElement(_components.p, null, \"Le browser permet de facilement créer des requêtes de type GET, mais pas des requêtes de type POST...\", React.createElement(_components.br), \"\\n\", \"Nous avons donc besoin d'un client léger permettant de faire des requêtes HTTP.\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e10\"\n  }), \" e.10) Client REST\"), \"\\n\", React.createElement(_components.h3, null, \"e.10.1) Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre de ce cours, tout comme généralement dans un environnement professionnel, nous souhaitons pouvoir développer une API indépendamment du développement d'une IHM.\"), \"\\n\", React.createElement(_components.p, null, \"En effet, cela prendrait trop de temps de devoir développer un frontend (HTML / JavaScript / CSS) pour tester nos API.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons donc utiliser un client léger permettant de faire des requêtes à nos API.\", React.createElement(_components.br), \"\\n\", \"Il en existe de nombreux, comme REST Client \", React.createElement(_components.a, {\n    href: \"/js2/references/#r55\"\n  }, \"[R.55]\"), \" ou Postman \", React.createElement(_components.a, {\n    href: \"/js2/references/#r56\"\n  }, \"[R.56]\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour ce cours, nous vous présentons et recommandons d'utiliser REST Client pour écrire et exécuter vos requêtes HTTP.\"), \"\\n\", React.createElement(_components.h3, null, \"e.10.2) REST Client\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre de ce cours, nous utilisons REST Client \", React.createElement(_components.a, {\n    href: \"/js2/references/#r55\"\n  }, \"[R.55]\"), \" de Visual Studio Code pour tester nos API.\"), \"\\n\", React.createElement(_components.p, null, \"Pour installer REST Client au sein de VS Code, veuillez cliquer sur l'onglet \", React.createElement(_components.strong, null, \"Extensions\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Recherchez l'extension \", React.createElement(_components.strong, null, \"REST Client\"), \" et cliquez sur \", React.createElement(_components.strong, null, \"Install\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Quelques notions pour utiliser REST Client :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Il faut créer un fichier \", React.createElement(_components.strong, null, \".http\"), \" (ou \", React.createElement(_components.strong, null, \".rest\"), \") contenant les requêtes vers vos RESTful APIs.\", React.createElement(_components.br), \"\\n\", \"NB : Il est approprié de créer un fichier par par type de ressources.\"), \"\\n\", React.createElement(_components.li, null, \"Chaque requête est introduite par \", React.createElement(_components.strong, null, \"###\"), \" (3 \\\"\", React.createElement(_components.strong, null, \"#\"), \"\\\"\\\" ou plus) ; voici la requête permettant de lire toutes les pizzas :\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Read all pizzas\\r\\nGET http://localhost:3000/pizzas\\n\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Pour exécuter une requête, il suffit de cliquer sur \", React.createElement(_components.strong, null, \"Send Request\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Lorsqu'on envoie des données au format JSON, il est important d'avoir un espace avant les accolades (avant le \\\"\", React.createElement(_components.strong, null, \"{\"), \"\\\" ).\"), \"\\n\", React.createElement(_components.li, null, \"On peut définir des \\\"\", React.createElement(_components.strong, null, \"File variables\"), \"\\\" via ce genre de syntaxe : \", React.createElement(_components.strong, null, \"@baseUrl = http://localhost:3000\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Pour utiliser la variable \", React.createElement(_components.strong, null, \"baseUrl\"), \", il suffit de la mettre entre double accolades. Par exemple, voici la requête permettant de lire toutes les pizzas :\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Read all pizzas with File variable\\r\\n@baseUrl = http://localhost:3000\\r\\nGET {{baseUrl}}/pizzas\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant tester l'API de la pizzeria que nous avons créée pour toutes ses opérations.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de VS Code, dans votre projet \", React.createElement(_components.strong, null, \"/tutorials/pizzeria/api/basic\"), \", veuillez créer un répertoire nommé \", React.createElement(_components.strong, null, \"REST Client\"), \". Dans ce répertoire, veuillez créer un fichier nommé \", React.createElement(_components.strong, null, \"pizzas.http\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Dans \", React.createElement(_components.strong, null, \"pizzas.http\"), \", veuillez ajouter cette requête pour la lecture de toutes les pizzas et exécutez la :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Read all pizzas with File variable\\r\\n@baseUrl = http://localhost:3000\\r\\nGET {{baseUrl}}/pizzas\\n\")), \"\\n\", React.createElement(_components.p, null, \"Est-ce que cela fonctionne bien ?  Avez vous bien démarré votre API ?\", React.createElement(_components.br), \"\\n\", \"Vous devriez obtenir le même résultat que si vous accédiez à votre API à l'aide du browser.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, \"pizzas.http\"), \", veuillez ajouter ces deux requêtes pour la lecture de toutes les pizzas en les triant selon leur titre :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Read all pizzas sorted by title (ascending)\\r\\nGET {{baseUrl}}/pizzas/?order=+title\\r\\n\\r\\n### Read all pizzas sorted by title (descending)\\r\\nGET {{baseUrl}}/pizzas/?order=-title\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez exécuter ces deux requêtes.\"), \"\\n\", React.createElement(_components.p, null, \"Il semble que nous sommes prêts pour créer une requête appelant l'opération de création d'une pizza.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, \"pizzas.http\"), \", veuillez ajouter cette requête pour la création d'une pizza :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Create a pizza\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"On remarque qu'il est important de mettre une ligne vide avant les accolades représentant le body de la requête.  N'hésitez pas à tester cette requête avec ou sans la ligne vide pour y croire.\"), \"\\n\", React.createElement(_components.p, null, \"💭 Comment tester que le bon fonctionnement de l'opération de création ?\"), \"\\n\", React.createElement(_components.p, null, \"Et bien il suffit d'exécuter l'opération de lecture de toutes les pizzas 😎 !\\r\\nSi la nouvelle ressource apparaît, c'est qu'elle a bien été créée !\\r\\nFaites le test.\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e11\"\n  }), \" e.11) Répondre avec un code de statut HTTP\"), \"\\n\", React.createElement(_components.p, null, \"On ne peut pas toujours renvoyer du JSON suite à une requête client ainsi qu'un code HTTP correspondant au fait que tout est OK (\\\"200 OK\\\").\"), \"\\n\", React.createElement(_components.p, null, \"Quand vous exécutez cette requête :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Read all pizzas with File variable\\r\\nGET {{baseUrl}}/pizzas\\n\")), \"\\n\", React.createElement(_components.p, null, \"Vous faites appel à l'opération de lecture de toutes les pizzas. La dernière ligne de cette opération est la suivante :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"res.json(orderedMenu ?? MENU);\\n\")), \"\\n\", React.createElement(_components.p, null, \"En fait, la fonction \", React.createElement(_components.strong, null, \"json\"), \" renvoie une réponse au format JSON, mais de plus, elle renvoie un \\\"status code\\\" \", React.createElement(_components.strong, null, \"200\"), \" indiquant au client que tout s'est bien passé.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, \"pizzas.http\"), \", veuillez ajouter cette requête pour tenter de créer une pizza en oubliant un paramètre :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Create a pizza which lacks a property\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez exécuter cette requête. Que se passe-t-il ?\", React.createElement(_components.br), \"\\n\", \"On récupère un code d'erreur \\\"400 Bad Request\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En effet, lorsqu'on omet un paramètre dans la représentation de la ressource à créer, voici les lignes de code amenant au renvoi du code d'erreur 400 au sein de \", React.createElement(_components.strong, null, \"pizzas.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// Create a pizza to be added to the menu.\\r\\nrouter.post('/', (req, res) => {\\r\\n  const title = req?.body?.title?.length !== 0 ? req.body.title : undefined;\\r\\n  const content = req?.body?.content?.length !== 0 ? req.body.content : undefined;\\r\\n\\r\\n  console.log('POST /pizzas');\\r\\n\\r\\n  if (!title || !content) return res.sendStatus(400); // error code '400 Bad request'\\r\\n\\r\\n  const lastItemIndex = MENU?.length !== 0 ? MENU.length - 1 : undefined;\\r\\n  const lastId = lastItemIndex !== undefined ? MENU[lastItemIndex]?.id : 0;\\r\\n  const nextId = lastId + 1;\\r\\n\\r\\n  const newPizza = {\\r\\n    id: nextId,\\r\\n    title: title,\\r\\n    content: content,\\r\\n  };\\r\\n\\r\\n  MENU.push(newPizza);\\r\\n\\r\\n  res.json(newPizza);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Le client est donc bien informé qu'il y a eu un problème lors de l'exécution de l'opération.\", React.createElement(_components.br), \"\\n\", \"Il pourrait par exemple utiliser cette information pour présenter un message d'erreur au niveau d'une IHM.\"), \"\\n\", React.createElement(_components.p, null, \"Voici les grandes catégories de \\\"status codes\\\" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Réponses informatives : \", React.createElement(_components.strong, null, \"100-199\")), \"\\n\", React.createElement(_components.li, null, \"Réponses en cas de succès : \", React.createElement(_components.strong, null, \"200-299\")), \"\\n\", React.createElement(_components.li, null, \"Redirections : \", React.createElement(_components.strong, null, \"300-399\")), \"\\n\", React.createElement(_components.li, null, \"Erreurs du client : \", React.createElement(_components.strong, null, \"400-499\")), \"\\n\", React.createElement(_components.li, null, \"Erreurs du serveur : \", React.createElement(_components.strong, null, \"500-599\")), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Voici les \\\"status codes\\\" que nous allons généralement utiliser :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"200 OK\"), \" : tout s'est bien passé, Express ajoute ce code automatiquement pour nous quand nous utilisons une méthode comme \", React.createElement(_components.strong, null, \"res.json()\"), \".\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"400 Bad Request\"), \" : pour indiquer au client que la requête contient des paramètres non valides ou n'est pas complète.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"401 Unauthorized\"), \" : pour indiquer au client qu'il doit s'authentifier pour accéder à cette opération. On renvoie aussi ce code d'erreur quand un client fournit un mauvais username ou password.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"403 Forbidden\"), \" : le client est connu du serveur, mais il n'a pas les privilèges pour accéder à cette opération (par exemple, le client n'est pas admin et tente d'accéder à une opération seulement accessible à un admin).\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"404 Not Found\"), \" : la ressource demandée n'existe pas, bien que l'URL semble valide.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"409 Conflict\"), \" : l'état du serveur entre en conflit avec la requête. Par exemple, la requête demande de créer un utilisateur qui existe déjà.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"500 Internal Server Error\"), \" : le serveur a rencontré une erreur qu'il ne peut pas régler. Par exemple, le serveur de base de données ne répond pas et ne permet donc pas d'accéder aux ressources.\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e12\"\n  }), \" e.12) Opération de suppression\"), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons développer une opération permettant de supprimer une ressource de type \\\"pizzas\\\" à l'aide de son identifiant.\", React.createElement(_components.br), \"\\n\", \"Selon les conventions REST, il faut faire une requête de type \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"DELETE /pizzas/{id}\")), \" contenant l'identifiant de la ressource à supprimer au sein de l'URL comme \\\"path parameter\\\".\"), \"\\n\", React.createElement(_components.p, null, \"Une opération de suppression ne contient donc pas de body et est de type DELETE.\"), \"\\n\", React.createElement(_components.p, null, \"Voici le code du router \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \" pour la nouvelle opération, veuillez la rajouter dans votre application :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// Delete a pizza from the menu based on its id\\r\\nrouter.delete('/:id', (req, res) => {\\r\\n  console.log(`DELETE /pizzas/${req.params.id}`);\\r\\n\\r\\n  const foundIndex = MENU.findIndex(pizza => pizza.id == req.params.id);\\r\\n\\r\\n  if (foundIndex < 0) return res.sendStatus(404);\\r\\n\\r\\n  const itemsRemovedFromMenu = MENU.splice(foundIndex, 1);\\r\\n  const itemRemoved = itemsRemovedFromMenu[0];\\r\\n\\r\\n  res.json(itemRemoved);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, \"pizzas.http\"), \", veuillez ajouter cette requête pour supprimer la pizza possédant l'identifiant \\\"2\\\" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Delete pizza identified by 2\\r\\nDELETE {{baseUrl}}/pizzas/2\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez exécuter cette requête et vérifier que la pizza a bien été supprimée.\"), \"\\n\", React.createElement(_components.h2, null, React.createElement(\"a\", {\n    id: \"e13\"\n  }), \" e.13) Opération de modification\"), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons développer une opération permettant de modifier une ressource de type \\\"pizzas\\\" à l'aide de son identifiant et de nouvelles valeurs pour ses propriétés.\", React.createElement(_components.br), \"\\n\", \"Selon les conventions REST, comme on accepte de modifier que certaines des propriétés d'une pizza, qu'il ne faut pas fournir toutes les propriétés d'une pizza, il faut faire une requête de type \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"PATCH /pizzas/{id}\")), \" contenant\\r\\nl'identifiant de la ressource à supprimer au sein de l'URL comme \\\"path parameter\\\" ainsi que les nouvelles données au sein du body de la requête.\"), \"\\n\", React.createElement(_components.p, null, \"Si nous souhaitons modifier une ressource identifiée par 6 en fournissant un nouveau titre \\\"Magic Green 2\\\", la représentation des données de la ressource à modifier sera la suivante :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-json\"\n  }, \"{\\r\\n    \\\"title\\\":\\\"Magic Green 2\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Selon les conventions REST, la requête de modification est de type PATCH et contient ses paramètres au sein du body de la requête.\"), \"\\n\", React.createElement(_components.p, null, \"Voici le code du router \", React.createElement(_components.strong, null, \"/routes/pizzas.js\"), \" pour la nouvelle opération, veuillez la rajouter dans votre application :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// Update a pizza based on its id and new values for its parameters\\r\\nrouter.patch('/:id', (req, res) => {\\r\\n  console.log(`PATCH /pizzas/${req.params.id}`);\\r\\n\\r\\n  const title = req?.body?.title;\\r\\n  const content = req?.body?.content;\\r\\n\\r\\n  console.log('POST /pizzas');\\r\\n\\r\\n  if ((!title && !content) || title?.length === 0 || content?.length === 0) return res.sendStatus(400);\\r\\n\\r\\n  const foundIndex = MENU.findIndex(pizza => pizza.id == req.params.id);\\r\\n\\r\\n  if (foundIndex < 0) return res.sendStatus(404);\\r\\n\\r\\n  const updatedPizza = {...MENU[foundIndex], ...req.body};\\r\\n\\r\\n  MENU[foundIndex] = updatedPizza;\\r\\n\\r\\n  res.json(updatedPizza);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, \"pizzas.http\"), \", veuillez ajouter cette requête pour modifier la pizza possédant l'identifiant \\\"6\\\" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Update the pizza identified by 6\\r\\nPATCH {{baseUrl}}/pizzas/6\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green 2\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez exécuter cette requête et vérifier que la pizza a bien été modifiée.\"), \"\\n\", React.createElement(_components.p, null, \"💭 Cela ne fonctionne pas ?\", React.createElement(_components.br), \"\\n\", \"Avez vous précédemment exécuté la requête permettant de créer une sixième pizza.\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, \"commit\"), \" de votre repo (\", React.createElement(_components.strong, null, \"web2\"), \") avec le message \\\"\", React.createElement(_components.strong, null, \"api-basic\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez accéder au code du tutoriel ici : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/basic\"\n  }, \"api-basic\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(\"a\", {\n    id: \"g\"\n  }), \" g) Exercice 4.1 : Création d'une RESTfull API non protégée pour myMovies\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez continuer le développement de \", React.createElement(_components.strong, null, \"myMovies\"), \". Vous allez créer la première version de la RESTful API de \", React.createElement(_components.strong, null, \"myMovies\"), \", sous Express, afin de mettre à disposition toutes les opération de type CRUD sur des films.\"), \"\\n\", React.createElement(_components.p, null, \"Afin de réaliser cet exercice, voici les contraintes d'implémentation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Veuillez créer une RESTful API pour la collection de films, qui réponde sur le port par défaut d'une application Express (3000), et qui couvre ces opérations :\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"| URI | Méthode HTTP | Opération |\\r\\n|---|---|---|\\r\\n| \", React.createElement(_components.strong, null, \"films\"), \" | GET | READ ALL : Lire toutes les ressources de la collection |\\r\\n| \", React.createElement(_components.strong, null, \"films?minimum-duration=value\"), \" | GET | READ ALL FILTERED : Lire toutes les ressources de la collection selon le filtre donné |\\r\\n| \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\")), \" | GET | READ ONE : Lire la ressource identifiée |\\r\\n| \", React.createElement(_components.strong, null, \"films\"), \" | POST | CREATE ONE : Créer une ressource basée sur les données de la requête |\\r\\n| \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\")), \" | DELETE | DELETE ONE : Effacer la ressource identifiée |\\r\\n| \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\")), \" | PATCH | UPDATE ONE : Mettre à jour les propriétés de la ressource par les valeurs données dans la requête, pour une ou plusieurs propriétés |\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Une ressource de type \", React.createElement(_components.strong, null, \"films\"), \" doit contenir les propriétés suivantes :\", \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"id\"), \" : un entier\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"title\"), \" : titre du film (String)\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"duration\"), \" : durée du film en minutes ; elle doit être un nombre positif (pas une string !).\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"budget\"), \" : pour informer du coût qu'a couté la production du film, en millions ; le budget doit être un nombre positif (pas une string !).\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"link\"), \" : pour donner une URL vers la description du film (lien vers imdb, rottentomatoes ou autre)\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"Les ressources ne doivent pas persister : dès lors, ajoutez les données associées aux films dans un array.\"), \"\\n\", React.createElement(_components.li, null, \"Veuillez bien valider les paramètres reçu par les opérations de vos API (vérifier par exemple que \", React.createElement(_components.strong, null, \"budget\"), \" et \", React.createElement(_components.strong, null, \"duration\"), \" sont des \", React.createElement(_components.strong, null, \"number\"), \" positifs) et veuillez renvoyer les bons status codes en cas d'erreur.\"), \"\\n\", React.createElement(_components.li, null, \"Veuillez tester toutes les fonctions de la RESTful API pour la collection de films à l'aide du REST Client dans VS Code (extension à installer au sein de VS Code). Veuillez ajouter vos requêtes au sein du fichier \", React.createElement(_components.strong, null, \"films.http\"), \" dans le répertoire \", React.createElement(_components.strong, null, \"REST Client\"), \" du dossier associé à cet exercice.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, \"🤝 Tips\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"N'hésitez pas à utiliser le générateur d'applications d'Express pour initier votre projet.\"), \"\\n\", React.createElement(_components.li, null, \"Développez les opérations de votre API de manière incrémentale : testez une opération via REST Client avant de passer à une nouvelle opération.\"), \"\\n\", React.createElement(_components.li, null, \"Pour le filtre sur les films, vous allez récupérer un paramètre de requête.\", React.createElement(_components.br), \"\\n\", \"⚡ Attention, le signe \", React.createElement(_components.strong, null, \"-\"), \" est un opérateur en JS, vous ne pouvez pas récupérer le paramètre de requête via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"req.query.minimum-duration\")), \"...\", React.createElement(_components.br), \"\\n\", \"💭 Mais alors comment faire ?\", React.createElement(_components.br), \"\\n\", \"On accède aussi au propriété d'un objet à l'aide d'un array, ici ça serait via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"req.query['minimum-duration']\")), \".\"), \"\\n\", React.createElement(_components.li, null, \"N'hésitez pas à vous inspirer du code du tutoriel \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/basic\"\n  }, \"api-basic\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Pour vérifier le type d'une variable, n'hésitez pas à utiliser l'opérateur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"typeof\")), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Le code de votre application web doit se trouver dans votre repository local et votre web repository (normalement appelé \", React.createElement(_components.strong, null, \"web2\"), \") dans le répertoire nommé \", React.createElement(_components.strong, null, \"/exercises/module4/4.1\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez faire un \", React.createElement(_components.strong, null, \"commit\"), \" de votre code avec le message suivant :\\r\\n\\\"\", React.createElement(_components.strong, null, \"myMovies : module 4 : basic API\"), \"\\\".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(\"a\", {\n    id: \"h\"\n  }), \" h) 🍬 Exercice 4.2 : Gestion de la pagination, de l'ordre de présentation et du filtrage de films\"), \"\\n\", React.createElement(_components.p, null, \"N'hésitez pas, c'est optionnel, de gérer de nouvelles opérations au sein de votre RESTful API de \", React.createElement(_components.strong, null, \"myMovies\"), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Filtrez tous les films qui commencent par une certaines chaînes de caractères.\"), \"\\n\", React.createElement(_components.li, null, \"Gérez l'ordre de présentation des films.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, \"🤝 Tips\"), \"\\n\", React.createElement(_components.p, null, \"Besoin d'inspiration pour l'aspect filtrage et la gestion de l'ordre des ressources ? \", React.createElement(_components.a, {\n    href: \"https://dev.to/drminnaar/rest-api-guide-14n2\"\n  }, \"REST API Guide\"), \" \", React.createElement(_components.a, {\n    href: \"/js2/references/#r58\"\n  }, \"[R.58]\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez faire un \", React.createElement(_components.strong, null, \"commit\"), \" de votre code avec le message suivant : \\\"\", React.createElement(_components.strong, null, \"myMovies : module 4 : ordering & filtrering\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"🍬 Et si vraiment vous avez encore du temps et souhaitez déjà approfondir les RESTful APIs, n'hésitez pas aussi à implémenter la gestion de la pagination.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","import GATSBY_COMPILED_MDX from \"D:/Vinci/code/web2/js-course/frontend/src/mdx-pages/modules/4.fr.mdx\";\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport {MDXProvider} from '@mdx-js/react';\nimport {Link} from 'gatsby';\nimport MainLayout from '../components/main-layout.js';\nimport Image from '../components/image.js';\nimport Section from '../components/section.js';\nimport Content from '../components/content.js';\nimport Background from '../components/background.js';\nimport SectionHeader from '../components/section-header.js';\nimport SectionFooter from '../components/section-footer.js';\nimport PageHeader from '../components/page-header.js';\nimport {withFrontmatter} from '../components/hoc/hoc.js';\nimport CodeBlock from '../components/codeblock/codeblock.js';\nimport LinkFile from '../components/file/link-file.js';\nimport ScrollableImage from '../components/image/scrollable-image';\nimport PublicProjectsView from '../components/public-projects/public-projects-view';\nimport {AuthenticatedTemplate, UnauthenticatedTemplate} from '@azure/msal-react';\nimport AuthenticatedBlock from '../components/auth/authenticated-block.js';\nimport UnAuthenticatedBlock from '../components/auth/unauthenticated-block.js';\nimport NestedMdxBlock from '../components/mdx/nested-mdx-block.js';\nimport YoutubeImage from '../components/image/youtube-image.js';\nimport InternalPageMenu from '../components/internal-page-menu/internal-page-menu.js';\nimport InternalPageMenuItem from '../components/internal-page-menu/internal-page-menu-item.js';\nimport InternalPageTitle from '../components/internal-page-menu/menu-title.js';\nimport {PathViewer, PathViewerItem} from '../components/path-viewer/path-viewer.js';\nconst shortcodes = {\n  Link,\n  Image,\n  Section,\n  Content,\n  Background,\n  SectionHeader,\n  SectionFooter,\n  PageHeader,\n  CodeBlock,\n  LinkFile,\n  ScrollableImage,\n  PublicProjectsView,\n  AuthenticatedBlock,\n  UnAuthenticatedBlock,\n  NestedMdxBlock,\n  YoutubeImage,\n  InternalPageMenu,\n  InternalPageMenuItem,\n  InternalPageTitle,\n  PathViewer,\n  PathViewerItem\n};\nfunction PageTemplate({data: {mdx, allImages}, children}) {\n  shortcodes.PageHeader = withFrontmatter(PageHeader, mdx?.frontmatter);\n  return React.createElement(MainLayout, Object.assign({}, mdx?.frontmatter ? {\n    frontmatter: mdx.frontmatter\n  } : {}, mdx?.frontmatter?.navbarExtraStyles ? {\n    navbarExtraStyles: mdx.frontmatter.navbarExtraStyles\n  } : {}, mdx?.frontmatter?.headerImage ? {\n    headerImage: mdx.frontmatter.headerImage\n  } : {}, mdx?.frontmatter?.featuredImage ? {\n    featuredImage: mdx.frontmatter.featuredImage\n  } : {}, mdx?.frontmatter?.title ? {\n    pageTitle: mdx.frontmatter.title\n  } : {}, allImages && allImages.length > 0 ? {\n    allImages: allImages\n  } : {}), React.createElement(MDXProvider, {\n    components: shortcodes\n  }, React.createElement(\"div\", {\n    className: mdx?.frontmatter?.autoMargin ? 'page page--auto-margin' : 'page'\n  }, children)));\n}\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PageTemplate, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const pageQuery = graphql`\n  query pagesAndImages($slug: String) {\n    mdx(fields: { slug: { eq: $slug } }) {\n      id\n      body\n      fields {\n        slug\n      }\n\n      frontmatter {\n        title\n        date\n        navbarExtraStyles\n        headerImage\n        featuredImage\n        description\n        autoMargin\n      }\n    }\n    allImages: allFile(\n      filter: {\n        sourceInstanceName: { eq: \"images\" }\n        extension: { nin: [\"ico\", \"svg\"] }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData(\n              quality: 90\n              layout: FULL_WIDTH\n              placeholder: TRACED_SVG\n              tracedSVGOptions: { color: \"green\", background: \"grey\" }\n            )\n          }\n          base\n        }\n      }\n    }\n  }\n`;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","p","ul","li","a","h2","strong","h3","br","pre","code","h4","_provideComponents","components","ScrollableImage","LinkFile","_missingMdxReference","React","href","id","name","minWidth","maxWidth","className","target","download","wrapper","MDXLayout","component","Error","shortcodes","Link","Image","Section","Content","Background","SectionHeader","SectionFooter","PageHeader","CodeBlock","PublicProjectsView","AuthenticatedBlock","UnAuthenticatedBlock","NestedMdxBlock","YoutubeImage","InternalPageMenu","InternalPageMenuItem","InternalPageTitle","PathViewer","PathViewerItem","PageTemplate","data","mdx","allImages","children","withFrontmatter","frontmatter","MainLayout","navbarExtraStyles","headerImage","featuredImage","title","pageTitle","length","MDXProvider","autoMargin","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}