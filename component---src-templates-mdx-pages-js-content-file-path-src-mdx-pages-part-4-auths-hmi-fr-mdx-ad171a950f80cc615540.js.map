{"version":3,"file":"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-4-auths-hmi-fr-mdx-ad171a950f80cc615540.js","mappings":"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","sources":["webpack://myjscourse/./src/mdx-pages/part4/auths-hmi.fr.mdx","webpack://myjscourse/./src/templates/mdx-pages.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    br: \"br\",\n    strong: \"strong\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    code: \"code\",\n    a: \"a\",\n    pre: \"pre\",\n    ul: \"ul\",\n    li: \"li\",\n    em: \"em\",\n    h2: \"h2\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components), {InternalPageMenu, PathViewer, PathViewerItem, InternalPageMenuItem, InternalPageTitle, UnAuthenticatedBlock, AuthenticatedBlock} = _components;\n  if (!AuthenticatedBlock) _missingMdxReference(\"AuthenticatedBlock\", true);\n  if (!InternalPageMenu) _missingMdxReference(\"InternalPageMenu\", true);\n  if (!InternalPageMenuItem) _missingMdxReference(\"InternalPageMenuItem\", true);\n  if (!InternalPageTitle) _missingMdxReference(\"InternalPageTitle\", true);\n  if (!PathViewer) _missingMdxReference(\"PathViewer\", true);\n  if (!PathViewerItem) _missingMdxReference(\"PathViewerItem\", true);\n  if (!UnAuthenticatedBlock) _missingMdxReference(\"UnAuthenticatedBlock\", true);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, null, \"c) Authentification & utilisation d'opérations protégées par JWT au sein d'une IHM\"), \"\\n\", React.createElement(InternalPageMenu, null, React.createElement(PathViewer, null, React.createElement(PathViewerItem, {\n    to: \"/\"\n  }, \" web2course \"), React.createElement(PathViewerItem, {\n    to: \"/part4\"\n  }, \" Partie 4 \"), React.createElement(PathViewerItem, {\n    selected: true\n  }, \" c) HMI & JWT \")), React.createElement(InternalPageMenuItem, null, \" Authentification d'un utilisateur via une IHM & JWT \"), React.createElement(InternalPageMenuItem, null, \" Autorisation de l'appel à une opération protégée \"), React.createElement(InternalPageMenuItem, null, \" Mise en place du localStorage pour sauvegarder les données de session  \"), React.createElement(InternalPageMenuItem, null, \" Projet 4.3 : Authentification et appel d'opérations protégées par JWT \"), React.createElement(InternalPageMenuItem, null, \" 🍬 Persistance de données de session via des cookies \")), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Authentification d'un utilisateur via une IHM & JWT \")), \"\\n\", React.createElement(_components.p, null, \"Pour authentifier un utilisateur via une IHM, il suffit de faire une requête à une RESTful API.\"), \"\\n\", React.createElement(_components.p, null, \"Généralement, l'utilisateur devra d'abord créer son compte. Il utilisera un formulaire demandant au minimum un identifiant (username, adresse e-mail ou autres) et un password.\", React.createElement(_components.br), \"\\n\", \"Dans le cadre d'une SPA, l'IHM fera appel à une opération de type \", React.createElement(_components.strong, null, \"register\"), \" lorsque l'utilisateur soumet le formulaire.\"), \"\\n\", React.createElement(_components.p, null, \"Par la suite, lorsque le compte de l'utilisateur existe, l'IHM fera appel à une opération de type \", React.createElement(_components.strong, null, \"login\"), \" lorsque l'utilisateur tentera de se connecter à l'aide d'un formulaire.\"), \"\\n\", React.createElement(_components.p, null, \"Dans les deux cas, \", React.createElement(_components.strong, null, \"register\"), \" ou \", React.createElement(_components.strong, null, \"login\"), \", le développeur devra connaître les opérations mises à disposition par l'API.\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre du site de la pizzeria, nous savons que l'API met à disposition ces deux opérations :\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"URI\"), React.createElement(_components.th, null, \"Méthode HTTP\"), React.createElement(_components.th, null, \"Opération\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths/login\"))), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"POST\")), React.createElement(_components.td, null, \"Vérifier les credentials d'une ressource de type \\\"users\\\" et renvoyer le username et un token JWT si les credentials sont OK\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths/register\"))), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"POST\")), React.createElement(_components.td, null, \"Créer une ressource de type \\\"users\\\" et renvoyer le username et un token JWT\")))), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.p, null, \"Pour ce nouveau tutoriel, nous allons continuer le développement de l'IHM \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/async-await\"\n  }, \"async-await-hmi\"), \" (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/async-await\")), \") pour que le formulaire de register et de login fassent appelle à l'API et sauve temporairement le token renvoyé.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \", veuillez créer le projet nommé \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/jwt-fetch\")), \" sur base d'un copié/collé de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/async-await\")), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/basic-fetch\"\n  }, \"async-await-hmi\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez démarrer la version \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/api/safe\")), \" de la RESTful API de la pizzeria. En cas de souci, vous pouvez utiliser ce code-ci :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"api-safe\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considérons que tous les chemins absolus démarrent du répertoire\\r\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/jwt-fetch\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez mettre à jour le code de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"RegisterPage\")), \" afin de faire appel à la méthode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"POST /auths/register\")), \" et, si tout est OK, rediriger l'utilisateur vers la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"HomePage\")), \" via la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navigate\")), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"2,34-63\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst RegisterPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Register');\\r\\n  renderRegisterForm();\\r\\n};\\r\\n\\r\\nfunction renderRegisterForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const username = document.createElement('input');\\r\\n  username.type = 'text';\\r\\n  username.id = 'username';\\r\\n  username.placeholder = 'username';\\r\\n  username.required = true;\\r\\n  username.className = 'form-control mb-3';\\r\\n  const password = document.createElement('input');\\r\\n  password.type = 'password';\\r\\n  password.id = 'password';\\r\\n  password.required = true;\\r\\n  password.placeholder = 'password';\\r\\n  password.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Register';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(username);\\r\\n  form.appendChild(password);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onRegister);\\r\\n}\\r\\n\\r\\nasync function onRegister(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const username = document.querySelector('#username').value;\\r\\n  const password = document.querySelector('#password').value;\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      username,\\r\\n      password,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/auths/register', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const authenticatedUser = await response.json();\\r\\n\\r\\n  console.log('Newly registered & authenticated user : ', authenticatedUser);\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default RegisterPage;\\r\\n\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez exécuter le frontend et vous assurer que l'utilisateur que vous tentez de créer est bien créé par votre API. Si tout fonctionne, vous aurez une confirmation dans la console de votre browser.\"), \"\\n\", React.createElement(_components.p, null, \"Bien, nous souhaitons pour l'instant sauvegarder \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authenticatedUser\")), \" de manière temporaire, car cet objet contient comme info le username et le token de l'utilisateur.\"), \"\\n\", React.createElement(_components.p, null, \"💭 Comment faire pour que cet objet soit disponible dans d'autres modules ?\\r\\nCette question nous permet d'explorer un propriété importante des \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"export\")), \" d'objets via ECMAScript : ce sont des objets immuables, c'est-à-dire dont vous ne pouvez pas directement changer leurs valeurs. Comment faire alors pour offrir \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authenticatedUser\")), \" ?\", React.createElement(_components.br), \"\\n\", \"Nous allons offrir quatre nouvelles fonctions :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"une fonction qui renverra l'état de la variable \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authenticatedUser\")), \" ;\"), \"\\n\", React.createElement(_components.li, null, \"une fonction qui permettra de modifier la variable \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authenticatedUser\")), \" ;\"), \"\\n\", React.createElement(_components.li, null, \"une fonction qui indiquera si l'utilisateur est authentifié ou pas ;\"), \"\\n\", React.createElement(_components.li, null, \"une fonction qui permettra de faire un reset de l'utilisateur en cours (on utilisera cette fonction lors d'un logout).\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez créer le fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/src/utils/auths.js\")), \" et y ajouter le code suivant :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"let currentUser;\\r\\n\\r\\nconst getAuthenticatedUser = () => currentUser;\\r\\n\\r\\nconst setAuthenticatedUser = (authenticatedUser) => {\\r\\n  currentUser = authenticatedUser;\\r\\n};\\r\\n\\r\\nconst isAuthenticated = () => currentUser !== undefined;\\r\\n\\r\\nconst clearAuthenticatedUser = () => {\\r\\n  currentUser = undefined;\\r\\n};\\r\\n\\r\\n// eslint-disable-next-line object-curly-newline\\r\\nexport { getAuthenticatedUser, setAuthenticatedUser, isAuthenticated, clearAuthenticatedUser };\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez mettre à jour le code de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"RegisterPage\")), \" afin de sauver en mémoire vive l'utilisateur authentifié. Nous allons aussi préparer la suite afin d'avoir une \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" qui s'adaptera lorsqu'un utilisateur est authentifié, c'est pourquoi nous allons appeler le composant \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,3,66,68\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { setAuthenticatedUser } from '../../utils/auths';\\r\\nimport { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navbar from '../Navbar/Navbar';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst RegisterPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Register');\\r\\n  renderRegisterForm();\\r\\n};\\r\\n\\r\\nfunction renderRegisterForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const username = document.createElement('input');\\r\\n  username.type = 'text';\\r\\n  username.id = 'username';\\r\\n  username.placeholder = 'username';\\r\\n  username.required = true;\\r\\n  username.className = 'form-control mb-3';\\r\\n  const password = document.createElement('input');\\r\\n  password.type = 'password';\\r\\n  password.id = 'password';\\r\\n  password.required = true;\\r\\n  password.placeholder = 'password';\\r\\n  password.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Register';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(username);\\r\\n  form.appendChild(password);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onRegister);\\r\\n}\\r\\n\\r\\nasync function onRegister(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const username = document.querySelector('#username').value;\\r\\n  const password = document.querySelector('#password').value;\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      username,\\r\\n      password,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/auths/register', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const authenticatedUser = await response.json();\\r\\n\\r\\n  console.log('Newly registered & authenticated user : ', authenticatedUser);\\r\\n\\r\\n  setAuthenticatedUser(authenticatedUser);\\r\\n\\r\\n  Navbar();\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default RegisterPage;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"LoginPage\")), \", les modifications à faire sont les mêmes :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,3-4,36-69\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { setAuthenticatedUser } from '../../utils/auths';\\r\\nimport { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navbar from '../Navbar/Navbar';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst LoginPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Login');\\r\\n  renderRegisterForm();\\r\\n};\\r\\n\\r\\nfunction renderRegisterForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const username = document.createElement('input');\\r\\n  username.type = 'text';\\r\\n  username.id = 'username';\\r\\n  username.placeholder = 'username';\\r\\n  username.required = true;\\r\\n  username.className = 'form-control mb-3';\\r\\n  const password = document.createElement('input');\\r\\n  password.type = 'password';\\r\\n  password.id = 'password';\\r\\n  password.required = true;\\r\\n  password.placeholder = 'password';\\r\\n  password.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Login';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(username);\\r\\n  form.appendChild(password);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onLogin);\\r\\n}\\r\\n\\r\\nasync function onLogin(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const username = document.querySelector('#username').value;\\r\\n  const password = document.querySelector('#password').value;\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      username,\\r\\n      password,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/auths/login', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const authenticatedUser = await response.json();\\r\\n\\r\\n  console.log('Authenticated user : ', authenticatedUser);\\r\\n\\r\\n  setAuthenticatedUser(authenticatedUser);\\r\\n\\r\\n  Navbar();\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default LoginPage;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons maintenant faire en sorte que la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" affiche des éléments différents si l'utilisateur est authentifié ou pas :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"s'il est authentifié : on affiche \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Home\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Login\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Register\")), \" et le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"username\")), \" de l'utilisateur connecté.\"), \"\\n\", React.createElement(_components.li, null, \"s'il est anonyme : on affiche \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Home\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Add a pizza\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Logout\")), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons mettre à jour la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" pour s'adapter à l'authentification d'un utilisateur :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// eslint-disable-next-line no-unused-vars\\r\\nimport { Navbar as BootstrapNavbar } from 'bootstrap';\\r\\nimport { getAuthenticatedUser, isAuthenticated } from '../../utils/auths';\\r\\n\\r\\nconst Navbar = () => {\\r\\n  renderNavbar();\\r\\n};\\r\\n\\r\\nfunction renderNavbar() {\\r\\n  const authenticatedUser = getAuthenticatedUser();\\r\\n\\r\\n  const anonymousUserNavbar = `\\r\\n<nav class=\\\"navbar navbar-expand-lg navbar-light bg-danger\\\">\\r\\n      <div class=\\\"container-fluid\\\">\\r\\n        <a class=\\\"navbar-brand\\\" href=\\\"#\\\">e-Pizzeria</a>\\r\\n        <button\\r\\n          class=\\\"navbar-toggler\\\"\\r\\n          type=\\\"button\\\"\\r\\n          data-bs-toggle=\\\"collapse\\\"\\r\\n          data-bs-target=\\\"#navbarSupportedContent\\\"\\r\\n          aria-controls=\\\"navbarSupportedContent\\\"\\r\\n          aria-expanded=\\\"false\\\"\\r\\n          aria-label=\\\"Toggle navigation\\\"\\r\\n        >\\r\\n          <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n        </button>\\r\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarSupportedContent\\\">\\r\\n          <ul class=\\\"navbar-nav me-auto mb-2 mb-lg-0\\\">\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link active\\\" aria-current=\\\"page\\\" href=\\\"#\\\" data-uri=\\\"/\\\">Home</a>\\r\\n            </li>\\r\\n            <li id=\\\"loginItem\\\" class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/login\\\">Login</a>\\r\\n            </li>\\r\\n            <li id=\\\"registerItem\\\" class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/register\\\">Register</a>\\r\\n            </li>            \\r\\n          </ul>\\r\\n        </div>\\r\\n      </div>\\r\\n    </nav>\\r\\n`;\\r\\n\\r\\n  const authenticatedUserNavbar = `\\r\\n<nav class=\\\"navbar navbar-expand-lg navbar-light bg-danger\\\">\\r\\n      <div class=\\\"container-fluid\\\">\\r\\n        <a class=\\\"navbar-brand\\\" href=\\\"#\\\">e-Pizzeria</a>\\r\\n        <button\\r\\n          class=\\\"navbar-toggler\\\"\\r\\n          type=\\\"button\\\"\\r\\n          data-bs-toggle=\\\"collapse\\\"\\r\\n          data-bs-target=\\\"#navbarSupportedContent\\\"\\r\\n          aria-controls=\\\"navbarSupportedContent\\\"\\r\\n          aria-expanded=\\\"false\\\"\\r\\n          aria-label=\\\"Toggle navigation\\\"\\r\\n        >\\r\\n          <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n        </button>\\r\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarSupportedContent\\\">\\r\\n          <ul class=\\\"navbar-nav me-auto mb-2 mb-lg-0\\\">\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link active\\\" aria-current=\\\"page\\\" href=\\\"#\\\" data-uri=\\\"/\\\">Home</a>\\r\\n            </li>          \\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/add-pizza\\\">Add a pizza</a>\\r\\n            </li>\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/logout\\\">Logout</a>\\r\\n            </li>    \\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link disabled\\\" href=\\\"#\\\">${authenticatedUser?.username}</a>\\r\\n            </li>           \\r\\n          </ul>\\r\\n        </div>\\r\\n      </div>\\r\\n    </nav>\\r\\n`;\\r\\n\\r\\n  const navbar = document.querySelector('#navbarWrapper');\\r\\n\\r\\n  navbar.innerHTML = isAuthenticated() ? authenticatedUserNavbar : anonymousUserNavbar;\\r\\n}\\r\\n\\r\\nexport default Navbar;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Ce code est quasi entièrement neuf. On a rajouté l'élément qui permettra de réaliser le logout d'un utilisateur. Avant d'aller plus loin, veuillez tester l'application.\", React.createElement(_components.br), \"\\n\", \"Loguez-vous avec l'utilisateur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \" (et le password \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \") et vérifiez que vous êtes bien redirigé vers la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"HomePage\")), \" une fois authentifié, que la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" contient bien les éléments attendus, dont le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"username\")), \".\", React.createElement(_components.br), \"\\n\", \"Veuillez maintenant tester un clic sur l'élément \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Add a pizza\")), \" de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \". Il ne se passe rien...\"), \"\\n\", React.createElement(_components.p, null, \"💭 Pourquoi les clics ne sont plus pris en compte ?\", React.createElement(_components.br), \"\\n\", \"En fait, regardons le code de notre \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Router\")), \", pour la gestion des clics sur la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"function onNavBarClick() {\\r\\n  const navItems = document.querySelectorAll('.nav-link');\\r\\n\\r\\n  navItems.forEach((item) => {\\r\\n    item.addEventListener('click', (e) => {\\r\\n      e.preventDefault();\\r\\n      const uri = e.target?.dataset?.uri;\\r\\n      const componentToRender = routes[uri];\\r\\n      if (!componentToRender) throw Error(`The ${uri} ressource does not exist.`);\\r\\n\\r\\n      componentToRender();\\r\\n      window.history.pushState({}, '', uri);\\r\\n    });\\r\\n  });\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Tant dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"LoginPage\")), \" que dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"RegisterPage\")), \", nous faisons appel à la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" qui fait un \\\"rerender\\\" (réaffichage) de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \". Ainsi, tous les éléments de la barre de navigation sont \\\"rerender\\\", et donc comme le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Router\")), \" n'est pas réappelé, la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"onNavBarClick\")), \" n'est pas réexécutée. Ainsi, même si les nouveaux éléments de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" ont la classe CSS \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"nav-link\")), \", leurs écouteurs d'événements de type \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"click\")), \" n'existent plus.\"), \"\\n\", React.createElement(_components.p, null, \"💭 Comment corriger cela ?\", React.createElement(_components.br), \"\\n\", \"On pourrait se dire qu'il suffit de faire appel à la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"onNavBarClick\")), \" dans la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \". Cette solution ne fonctionnerait pas car nous aurions des dépendances cycliques, la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" devrait faire appel aux routes, qui elles font appel aux pages, les pages faisant appel à la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \"...\", React.createElement(_components.br), \"\\n\", \"Dès lors, le mieux serait de mettre un écouteur d'événements au niveau du wrapper de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \".\", React.createElement(_components.br), \"\\n\", \"Comme le wrapper n'est jamais réinitialisé, tout sera en ordre.\", React.createElement(_components.br), \"\\n\", \"Veuillez donc mettre à jour la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"onNavBarClick\")), \" de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/src/Components/Router/Router.js\")), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"2,4,6-8\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"function onNavBarClick() {\\r\\n  const navbarWrapper = document.querySelector('#navbarWrapper');\\r\\n\\r\\n  navbarWrapper.addEventListener('click', (e) => {\\r\\n    e.preventDefault();\\r\\n    const navBarItemClicked = e.target;\\r\\n    const uri = navBarItemClicked?.dataset?.uri;\\r\\n    if (uri) {\\r\\n      const componentToRender = routes[uri];\\r\\n      if (!componentToRender) throw Error(`The ${uri} ressource does not exist.`);\\r\\n\\r\\n      componentToRender();\\r\\n      window.history.pushState({}, '', uri);\\r\\n    }\\r\\n  });\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez noter que le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"navbarWrapper\")), \" est initialisé au sein du composant \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Header\")), \".\", React.createElement(_components.br), \"\\n\", \"Dans la nouvelle version du code du \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Router\")), \", le gestionnaire de clics est ajouté au niveau de ce wrapper. Grâce à l'event objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"e\")), \", on accède à l'élément sur lequel on a cliqué grâce à la propriété \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"target\")), \". On retrouve donc l'élément de la navbar sur lequel on a cliqué très facilement.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez tester votre IHM et vérifier qu'une fois logué, vous puissiez bien voyager entre les pages.\"), \"\\n\", React.createElement(_components.p, null, \"Il reste maintenant à créer un composant permettant de faire un logout. On souhaite que ce composant de logout supprime l'utilisateur authentifié, réaffiche la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" pour un utilisateur anonyme et redirige l'utilisateur vers la page de login.\"), \"\\n\", React.createElement(_components.p, null, \"Pour ce faire, veuillez créer le dossier et le fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/src/Components/Logout/Logout.js\")), \" et y ajouter ce code :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { clearAuthenticatedUser } from '../../utils/auths';\\r\\nimport Navbar from '../Navbar/Navbar';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst Logout = () => {\\r\\n  clearAuthenticatedUser();\\r\\n  Navbar();\\r\\n  Navigate('/login');\\r\\n};\\r\\n\\r\\nexport default Logout;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Attention, même si nous avons mis à jour la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" et créé le composant \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Logout\")), \", le boilerplate du frontend impose de rajouter une route au sein du \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Router\")), \" pour qu'un clic sur l'élément \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Logout\")), \" de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" amène à appeler le composant \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Logout\")), \".\\r\\nVeuillez donc mettre à jour \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"routes\")), \" au sein de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/src/Components/Router/Router.js\")), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"1,12\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import Logout from '../Logout/Logout';\\r\\nimport AddPizzaPage from '../Pages/AddPizzaPage';\\r\\nimport HomePage from '../Pages/HomePage';\\r\\nimport LoginPage from '../Pages/LoginPage';\\r\\nimport RegisterPage from '../Pages/RegisterPage';\\r\\n\\r\\nconst routes = {\\r\\n  '/': HomePage,\\r\\n  '/login': LoginPage,\\r\\n  '/register': RegisterPage,\\r\\n  '/add-pizza': AddPizzaPage,\\r\\n  '/logout': Logout,\\r\\n};\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez maintenant tester le login et le logout. Tout devrait être fonctionnel !\", React.createElement(_components.br), \"\\n\", \"Il nous reste à faire en sorte que l'on puisse autoriser l'opération de création de pizza.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Autorisation de l'appel à une opération protégée  \")), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant voir comment, à partir d'une IHM, nous pouvons utiliser un token pour accéder à une opération d'une RESTful API.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez vous assurer que la version \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/api/safe\")), \" de la RESTful API de la pizzeria est bien démarrée. En cas de souci, vous pouvez utiliser ce code-ci :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"api-safe\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez vous connecter à l'IHM du tutoriel en cours (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/jwt-fetch\")), \") à l'aide du compte \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"manager\")), \" et tentez d'ajouter une pizza. Cela ne devrait pas fonctionner.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez regarder dans la console : il devrait y avoir une erreur qui s'affiche avec le \\\"status code\\\" \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"401 : Unauthorized\")), \".\", React.createElement(_components.br), \"\\n\", \"En effet, l'API attend un token pour autoriser l'opération de création d'une pizza.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons donc mettre à jour \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/src/Components/Pages/AddPizzaPage.js\")), \" pour ajouter le token de l'utilisateur authentifié au sein du header de la requête (il n'y a que trois lignes à rajouter) :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,44,54\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { getAuthenticatedUser } from '../../utils/auths';\\r\\nimport { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst AddPizzaPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Add a pizza to the menu');\\r\\n  renderAddPizzaForm();\\r\\n};\\r\\n\\r\\nfunction renderAddPizzaForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const title = document.createElement('input');\\r\\n  title.type = 'text';\\r\\n  title.id = 'title';\\r\\n  title.placeholder = 'title of your pizza';\\r\\n  title.required = true;\\r\\n  title.className = 'form-control mb-3';\\r\\n  const content = document.createElement('input');\\r\\n  content.type = 'text';\\r\\n  content.id = 'content';\\r\\n  content.required = true;\\r\\n  content.placeholder = 'Content of your pizza';\\r\\n  content.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Add pizza to the menu';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(title);\\r\\n  form.appendChild(content);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onAddPizza);\\r\\n}\\r\\n\\r\\nasync function onAddPizza(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const title = document.querySelector('#title').value;\\r\\n  const content = document.querySelector('#content').value;\\r\\n\\r\\n  const authenticatedUser = getAuthenticatedUser();\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      title,\\r\\n      content,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n      Authorization: authenticatedUser.token,\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/pizzas', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const newPizza = await response.json();\\r\\n\\r\\n  console.log('New pizza added : ', newPizza);\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default AddPizzaPage;\\r\\n\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez vous connecter à l'IHM à l'aide du compte \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"manager\")), \" et tenter d'ajouter une pizza. Cela ne devrait toujours pas fonctionner. Veuillez regarder dans la console : il devrait y avoir une erreur qui s'affiche avec le \\\"status code\\\" \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"403 : Forbidden\")), \".\", React.createElement(_components.br), \"\\n\", \"En effet, l'API attend un token pour autoriser l'opération de création d'une pizza, mais seulement \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \" a le privilège d'ajouter une pizza au menu !\"), \"\\n\", React.createElement(_components.p, null, \"Déconnectez-vous (logout), reconnectez-vous à l'aide du compte \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \", et ajoutez une pizza.\\r\\nVoila ! Le site devrait être entièrement fonctionnel !\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"commit\")), \" de votre repo (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \") avec comme message : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jwt-fetch-hmi tutorial\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch\"\n  }, \"jwt-fetch-hmi\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"api-safe\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"💭 Est-ce que c'est \\\"safe\\\" que notre IHM affiche le menu \\\"Add a pizza\\\" pour un utilisateur qui n'est pas l'admin ?\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"En fait oui, c'est \\\"safe\\\", vous l'avez testé. L'API ne doit jamais faire confiance aux applications clientes pour appliquer la sécurité. Ainsi, même si le frontend autorise l'accès à des opérations qui ne devraient pas être permises, au regard des autorisations appliquées par l'API, ça n'a pas d'importance point de vue sécurité.\", React.createElement(_components.br), \"\\n\", \"De la même façon, c'est pour ça qu'une API doit aussi toujours valider les paramètres qu'elle reçoit. Elle ne peut pas faire confiance aux applications clientes, comme par exemple à une application web tournant dans un browser, pour valider tous les champs d'un formulaire.\", React.createElement(_components.br), \"\\n\", \"La raison est simple, l'API est développée indépendamment des applications clientes, elle ne peut pas supposer que les requêtes seront toujours bien construites.\")), \"\\n\", React.createElement(_components.p, null, \"💭 OK, tout est \\\"safe\\\" si l'API fait toutes les vérifications nécessaires. Néanmoins, n'y a-t-il pas des règles de bonnes pratiques au niveau des IHM, pour ne pas permettre de faire n'importe quelles requêtes vers des API ?\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"Et bien oui, au niveau des IHM, pour des questions d'\", React.createElement(_components.strong, null, \"ergonomie\"), \", d'expérience utilisateur, on va faire en sorte :\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.em, null, \"de ne pas offrir des opérations qui ne seront pas autorisées. Par exemple, dans le cadre de ce tutoriel sur un site permettant de gérer une pizzeria, il ne faut pas \\\"frustrer\\\" les utilisateurs en leur faisant croire qu'ils ont accès à l'opération de créer une pizza ! Imaginez-vous, vous créez une nouvelle pizza de 32 ingrédients, et lors de la soumission, vous recevez un message comme quoi vous n'êtes pas l'admin du site et que vous n'avez donc pas le droit de créer une pizza 😲!\")), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.em, null, \"de ne pas demander du travail à une API quand l'IHM peut détecter que ce n'est pas utile.\\r\\nAinsi, quand une IHM offre des formulaires, qui amèneront à des requêtes vers des API, on évitera d'autoriser la soumission des données tant que les champs n'ont pas été validés. Tout ce que l'IHM peut valider côté client, elle doit le faire. Le feedback sera plus rapide pour l'utilisateur, et les ressources de l'API seront économisées (pas d'appel inutile).\")), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"N'hésitez donc pas à mettre à jour ce tutoriel pour faire en sorte de n'afficher \\\"Add a pizza\\\" que si l'utilisateur est \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"💭 Ca n'est pas un peu \\\"cheap\\\" que seul l'utilisateur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \" puisse avoir le privilège d'administrateur du site ?\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"Hé bien oui, c'est \\\"cheap\\\". Généralement, dans le cadre d'applications plus robustes, nous allons ajouter un ou plusieurs rôle(s) aux utilisateurs. Par exemple, dans le cadre d'applications où les rôles sont simples, qu'il n'y a jamais qu'un seul rôle associé à un utilisateur, il suffirait d'ajouter au niveau de l'API la propriété \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"role\")), \" aux utilisateurs. La majorité des utilisateurs pourrait avoir un rôle dont la valeur serait \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"default\")), \", et une minorité d'utilisateur auraient le rôle d'\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \"...\")), \"\\n\", React.createElement(_components.p, null, \"On n'affiche actuellement \", React.createElement(_components.strong, null, \"pas de message d'erreur\"), \" à l'utilisateur lorsque la réponse d'une API renvoie une erreur. Pour améliorer l'expérience de l'utilisateur, ce serait une amélioration à faire.\"), \"\\n\", React.createElement(_components.p, null, \"Finalement, lorsqu'on ferme le browser et revient sur l'application par la suite, on n'est plus authentifié. Nous allons donc prochainement voir comment nous pourrions sauvegarder des données de session (le token et le username) côté-client, dans le browser.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Mise en place du localStorage pour sauvegarder les données de session \")), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre du site nous permettant de gérer une pizzeria, nous allons faire en sorte de sauvegarder les données de session au sein du \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"localStorage\")), \", et plus juste en mémoire vive. Nous allons appliquer ce que nous avons appris dans la partie sur \", React.createElement(_components.a, {\n    href: \"../../part2/sessions/\"\n  }, \"Les sessions côté client\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez démarrer la version \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/api/safe\")), \" de la RESTful API de la pizzeria. En cas de souci, vous pouvez utiliser ce code-ci :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"api-safe\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Pour ce nouveau tutoriel, au sein de votre repo \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \", veuillez créer le projet nommé \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/web-storage\")), \" sur base d'un copier/coller de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/jwt-fetch\")), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch\"\n  }, \"jwt-fetch-hmi\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considérons que tous les chemins absolus démarrent du répertoire\\r\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/web-storage\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Afin de sauvegarder les données de session, c'est à dire l'objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authenticatedUser\")), \" contenant un token et un username, nous devons juste mettre à jour le fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/usr/utils/auths.js\")), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,7,10,15-16,24\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const STORE_NAME = 'user';\\r\\nlet currentUser;\\r\\n\\r\\nconst getAuthenticatedUser = () => {\\r\\n  if (currentUser !== undefined) return currentUser;\\r\\n\\r\\n  const serializedUser = localStorage.getItem(STORE_NAME);\\r\\n  if (!serializedUser) return undefined;\\r\\n\\r\\n  currentUser = JSON.parse(serializedUser);\\r\\n  return currentUser;\\r\\n};\\r\\n\\r\\nconst setAuthenticatedUser = (authenticatedUser) => {\\r\\n  const serializedUser = JSON.stringify(authenticatedUser);\\r\\n  localStorage.setItem(STORE_NAME, serializedUser);\\r\\n\\r\\n  currentUser = authenticatedUser;\\r\\n};\\r\\n\\r\\nconst isAuthenticated = () => currentUser !== undefined;\\r\\n\\r\\nconst clearAuthenticatedUser = () => {\\r\\n  localStorage.removeItem(STORE_NAME);\\r\\n  currentUser = undefined;\\r\\n};\\r\\n\\r\\n// eslint-disable-next-line object-curly-newline\\r\\nexport { getAuthenticatedUser, setAuthenticatedUser, isAuthenticated, clearAuthenticatedUser };\\n\")), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"getAuthenticatedUser\")), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"on fait un premier check afin d'éviter d'aller lire dans le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"localStorage\")), \" si la variable \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"currentUser\")), \" est déjà initialisée.\"), \"\\n\", React.createElement(_components.li, null, \"on parse l'utilisateur authentifié et sérialisé qui est retrouvé dans le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"localStorage\")), \" via la clé \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"STORE_NAME\")), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"setAuthenticatedUser\")), \", on sérialise \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authenticatedUser\")), \" avant d'ajouter une paire clé/valeur au \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"localStorage\")), \".  Ces données restent dans le browser, peu importe le nombre de fois que l'on redémarre son browser.\"), \"\\n\", React.createElement(_components.p, null, \"Dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"clearAuthenticatedUser\")), \", on efface la paire clé/valeur associée à l'utilisateur authentifié (via la clé \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"STORE_NAME\")), \").\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez bien mettre à jour votre code et tester l'application.\", React.createElement(_components.br), \"\\n\", \"Connectez-vous à l'aide de l'utilisateur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"manager\")), \".  Veuillez fermer votre browser.\", React.createElement(_components.br), \"\\n\", \"Veuillez le réouvrir.\", React.createElement(_components.br), \"\\n\", \"Vous devriez automatiquement être authentifié : veuillez observer l'état de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" pour vous en assurer.\"), \"\\n\", React.createElement(_components.p, null, \"💭 Où puis-je observer l'état des données sauvegardées dans le web storage de mon browser ?\", React.createElement(_components.br), \"\\n\", \"Tout en ayant la fenêtre de votre application ouverte, via Chrome, allez dans vos outils de développeurs : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"F12\")), \".\", React.createElement(_components.br), \"\\n\", \"Puis, dans l'onglet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Application\")), \", vous trouverez dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Storage\")), \" : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Local Storage\")), \" et \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Session Storage\")), \".\", React.createElement(_components.br), \"\\n\", \"Ici, nous utilisons le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Local Storage\")), \", donc cliquez dessus, vous verrez apparaître \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"http://localhost:8080\")), \". Cliquez sur cette URL, et vous verrez vos données de session, quelque chose du style \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"{\\\"username\\\":\\\"manager\\\",\\\"token\\\":\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hbmFnZXIiLCJpYXQiOjE2NjE3NjM3MDksImV4cCI6MTc0ODE2MzcwOX0.jAxH0WsOgiK5vf4QduDZ8JgTR-SKC42G9aPieV_OTOo\\\"}\")), \".\", React.createElement(_components.br), \"\\n\", \"N'hésitez pas à faire un clic droit sur l'URL \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"http://localhost:8080\")), \", puis \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Clear\")), \".\", React.createElement(_components.br), \"\\n\", \"Si vous faites ensuite un refresh de votre page, comme votre session aura été effacée, votre utilisateur ne sera plus connecté. Votre \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" affichera le menu pour un utilisateur anonyme !\", React.createElement(_components.br), \"\\n\", \"Faites ce test, c'est intéressant 😉.\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"commit\")), \" de votre repo (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \") avec comme message :\\r\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web-storage-hmi tutorial\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/web-storage\"\n  }, \"web-storage-hmi\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"api-safe\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Projet 4.3 : Authentification et appel d'opérations protégées par JWT \")), \"\\n\", React.createElement(_components.h2, null, \"Mise en place du projet\"), \"\\n\", React.createElement(_components.p, null, \"Vous devez mettre à jour votre frontend afin qu'il consomme les nouvelles opérations de votre API qui ont été développées pour \", React.createElement(_components.a, {\n    href: \"../security-api/#projet_4_2_securisation_d_api\"\n  }, \"Projet 4.2\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Le code de votre frontend doit se trouver dans votre repository local et votre web repository (normalement appelé \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \") dans le répertoire nommé \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/project/4.3/hmi\")), \" sur base d'un copier/coller du code de \", React.createElement(_components.a, {\n    href: \"../../part3/#projet_3_1_deploiement_de_votre_frontend_de_votre_backend\"\n  }, \"Projet 3.1\"), \".\"), \"\\n\", React.createElement(_components.h2, null, \"Authentification et appel d'opérations nécessitant une autorisation JWT\"), \"\\n\", React.createElement(_components.p, null, \"Même si votre projet ne nécessite pas d'authentification, afin d'apprendre les concepts associés à \\\"JWT auths\\\", veuillez créer un prototype de frontend introduisant ces cas d'utilisation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \" : les utilisateurs doivent pouvoir créer un compte.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \" : les utilisateur doivent pouvoir se loguer.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"logout\")), \" : les utilisateurs doivent pouvoir se déconnecter.\"), \"\\n\"), \"\\n\", React.createElement(UnAuthenticatedBlock, null, React.createElement(_components.p, null, \"Si vous avez choisi comme projet d'approfondir le développement de l'application \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"myMovies\")), \", celle-ci doit maintenant autoriser les opérations suivantes que pour des utilisateurs authentifiés :\"), React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"UC2 : l'ajout d'une ressource de type films via un formulaire d'ajout d'un film.\"), \"\\n\", React.createElement(_components.li, null, \"UC3 : la suppression d'un film.\"), \"\\n\", React.createElement(_components.li, null, \"UC4 : la mise à jour des données d'un film (à l'exception de l'id associé à un film).\"), \"\\n\"), React.createElement(_components.p, null, \"Comme auparavant, cette opération est permise pour tous les utilisateurs, anonymes ou authentifiés :\"), React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"UC1 : l'affichage, sous forme de tableau, de toutes les ressources de type films.\"), \"\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pensez à bien mettre à jour votre \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" pour afficher les bons menus en fonction que l'utilisateur est authentifié ou pas.\"), \"\\n\", React.createElement(_components.p, null, \"Faites attention, il n'est pas autorisé, pour des raisons d'ergonomie, que le frontend offre les fonctionnalités d'écriture de ressources pour les utilisateur non authentifiés. Vous devez donc rendre invisible les opérations non autorisées aux utilisateurs.\"), \"\\n\", React.createElement(UnAuthenticatedBlock, null, React.createElement(_components.p, null, \"UC2 (create), UC3 (delete) et UC4 (update) doivent être invisibles pour les utilisateurs anonymes.\")), \"\\n\", React.createElement(_components.p, null, \"Dans un premier temps, veuillez faire en sorte de rajouter dans le web storage ces nouvelles données de session lors du login ou du register : le token et le username.\", React.createElement(_components.br), \"\\n\", \"NB : précédemment vous aviez des données de session à gérer pour le thème et pour un message concernant le respect de la vie privée.\"), \"\\n\", React.createElement(AuthenticatedBlock, null, React.createElement(_components.p, null, \"Veuillez travailler avec les membres de votre groupe et vous partager le travail :\"), React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"certains membres peuvent travailler sur le frontend ;\"), \"\\n\", React.createElement(_components.li, null, \"d'autres membres peuvent travailler sur le backend s'il vous reste des opérations à rajouter.\"), \"\\n\"), React.createElement(_components.p, null, \"Un peu avant la fin de la séance, veuillez discuter :\"), React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"présenter ce que vous avez appris au niveau de la sécurisation aux membres qui ont travaillé sur autre chose.\"), \"\\n\")), \"\\n\", React.createElement(_components.p, null, \"Quand votre prototype de frontend offre l'authentification (register & login) et utilise toutes les opérations sécurisées de votre API, que les sessions sont bien sauvegardées, veuillez faire un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"commit\")), \" de votre code avec comme message : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"4.3.1 : hmi jwt auths\")), \".\"), \"\\n\", React.createElement(_components.h4, null, \"🤝 Tips\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"N'hésitez pas à copier/coller les fichiers utiles trouvés dans le tutoriel associé à cette partie : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"RegisterPage\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"LoginPage\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Logout\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" (différent affichage pour un utilisateur anonyme que pour un utilisateur connecté)....\"), \"\\n\", React.createElement(_components.li, null, \"Attention à ne pas oublier de mettre à jour votre \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Router\")), \" : nouvelles pages pour le register, le login et le logout, la Navbar...\"), \"\\n\", React.createElement(_components.li, null, \"Ajoutez les tokens dans le header de vos requêtes \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"fetch\")), \"...\"), \"\\n\", React.createElement(_components.li, null, \"Concernant le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Router\")), \", il faut mettre à jour \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"onNavBarClick\")), \" pour que les gestionnaires d'evénéments restent attachés même quand la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" est réaffichée.\"), \"\\n\", React.createElement(_components.li, null, \"💭 Comment rendre invisible les opérations d'écriture de certaines ressources au sein du frontend ?\", React.createElement(_components.br), \"\\n\", \"Par exemple, vous pourriez afficher des boutons de type \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Delete\")), \" ou \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Save\")), \" que si l'utilisateur est authentifié.\", React.createElement(_components.br), \"\\n\", \"De même, si l'utilisateur est anonyme, les ressources ne devraient pas être éditables.\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"🍬 Gestion de session & remember me\"), \"\\n\", React.createElement(_components.p, null, \"Vous pourriez ajouter une fonction \\\"remember me\\\" à votre formulaire de \\\"login\\\" et de \\\"register\\\" et faire en sorte que vos données de session soient sauvegardées :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"dans le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"localStorage\")), \" si l'on clique sur une checkbox \\\"Remember me\\\" ;\"), \"\\n\", React.createElement(_components.li, null, \"dans le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"sessionStorage\")), \" si l'on ne clique pas sur la checkbox \\\"Remember me\\\" lors du login ou du register.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Quand votre prototype de frontend est finalisé, veuillez faire un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"commit\")), \" de votre code avec comme message : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"4.3.2 : remember me\")), \".\"), \"\\n\", React.createElement(_components.h4, null, \"🤝 Tips\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Vous allez pouvoir refaire un peu de gestion d'événements pour détecter les clics sur une checkbox. N'hésitez pas à voir ce que propose \", React.createElement(_components.strong, null, \"Bootstrap 5\"), \" pour les \", React.createElement(_components.strong, null, \"checkboxes\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Prenez un moment pour voir comment gérer la persistance de l'info 'Remember me'...\", React.createElement(_components.br), \"\\n\", \"Est-ce que ce n'est pas une donnée de session qui doit persister lorsque l'utilisateur ferme son browser ?\", React.createElement(_components.br), \"\\n\", \"En effet, point de vue ergonomie, il est intéressant que le dernier choix de l'utilisateur soit toujours présenté. La checkbox devrait donc rester \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"checked\")), \" ou pas, tant que l'utilisateur ne change pas son état, via un clic, ou via un Logout ; et cet état doit subsister aux travers des connexions (ouvertures / fermetures du browser).\"), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" 🍬 Persistance de données de session via des cookies \")), \"\\n\", React.createElement(_components.h2, null, \"Authentification & autorisation JWT à l'aide de cookies\"), \"\\n\", React.createElement(_components.p, null, \"Dans la partie optionnelle sur l'\", React.createElement(_components.a, {\n    href: \"../security-api/#%F0%9F%8D%AC_authentification_autorisation_jwt_a_laide_de_cookies\"\n  }, \"Authentification & autorisation JWT à l'aide de cookies\"), \", nous avons vu comment mettre à jour l'API afin d'intégrer les tokens JWT aux cookies.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez démarrer la version \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/api/cookies\")), \" de la RESTful API de la pizzeria. En cas de souci, vous pouvez utiliser ce code-ci :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/cookies\"\n  }, \"api-cookies\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons voir maintenant comment le frontend peut utiliser ces cookies.\"), \"\\n\", React.createElement(_components.h2, null, \"Gestion de session côté client via une IHM et des cookies\"), \"\\n\", React.createElement(_components.p, null, \"Pour ce nouveau tutoriel, nous allons repartir de la dernière version de notre frontend.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \", veuillez créer le projet nommé \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/cookies\")), \" sur base d'un copié/collé de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/web-storage\")), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/web-storage\"\n  }, \"web-storage-hmi\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considérons que tous les chemins absolus démarrent du répertoire\\r\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/hmi/cookies\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Afin de sauvegarder les données de session, c'est à dire l'objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authenticatedUser\")), \" contenant juste un username, nous ne devons même pas mettre à jour le fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/usr/utils/auths.js\")), \". En effet, l'API \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"cookies\")), \" renvoie un objet du genre \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"{username: \\\"manager\\\"}\")), \". Au niveau de l'IHM, le code est donc toujours fonctionnel pour sauvegarder le username grâce à \", React.createElement(_components.code, null, \"authenticatedUser\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Il ne reste donc qu'à changer le code où nous avons besoin d'une autorisation. Pour l'application de gestion de la pizzeria, il s'agit de la création de pizza.\", React.createElement(_components.br), \"\\n\", \"Veuillez donc mettre à jour \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/src/Components/AddPizzaPage.js\")), \" en enlevant ces deux lignes :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"l'authenticatedUser : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"const authenticatedUser = getAuthenticatedUser();\")), \" et l'import associé (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"import { getAuthenticatedUser } from '../../utils/auths';\")), \"),\"), \"\\n\", React.createElement(_components.li, null, \"la ligne s'occupant de l'authorization header : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Authorization: authenticatedUser.token\")), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez tester votre dernière version du frontend.\\r\\nLoguez-vous avec l'utilisateur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \" (et le password \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \").\", React.createElement(_components.br), \"\\n\", \"Ajoutez une pizza et vérifiez qu'elle s'affiche bien.\"), \"\\n\", React.createElement(_components.p, null, \"💭 Comment vérifier le cookie ?\", React.createElement(_components.br), \"\\n\", \"Tout en ayant la fenêtre de votre application ouverte, via Chrome, allez dans vos outils de développeurs : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"F12\")), \".\", React.createElement(_components.br), \"\\n\", \"Puis, dans l'onglet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Application\")), \", cliquez sur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Cookies\")), \", vous verrez apparaître \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"http://localhost:8080\")), \". Cliquez sur cette URL, et vous verrez vos 2 cookies de session, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"user.sig\")), \" et \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"user\")), \".\", React.createElement(_components.br), \"\\n\", \"N'hésitez pas à aller décoder la valeur du cookie \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"user\")), \" sur \", React.createElement(_components.a, {\n    href: \"https://www.base64decode.org/\"\n  }, \"base64decode\"), \" en faisant un copier / coller de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Value\")), \". Vous devriez voir quelque chose apparaître du style \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"{\\\"username\\\":\\\"manager\\\",\\\"token\\\":\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hbmFnZXIiLCJpYXQiOjE2NjE3NzUxMDgsImV4cCI6MTc0ODE3NTEwOH0.sAZqq6vbrjCCZZoLH-n8hJKBoXJJJ8jEoupk8xKu5WI\\\"}\")), \"  !\"), \"\\n\", React.createElement(_components.p, null, \"Toujours dans l'onglet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Application\")), \" des outils de développeurs de Chrome, faites un clear des cookies : clic droit sur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"http://localhost:8080\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Clear\")), \".\", React.createElement(_components.br), \"\\n\", \"Tentez maintenant d'ajouter une pizza... Ca ne fonctionne plus, et c'est bien normal, car il n'y a plus de token qui est envoyé à l'API !\"), \"\\n\", React.createElement(_components.p, null, \"Suite à ces tests, si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"commit\")), \" de votre repo (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \") avec comme message : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"cookies-hmi tutorial\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/cookies\"\n  }, \"cookies-hmi\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/cookies\"\n  }, \"api-cookies\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"💭 Notons que cette version de notre frontend pourrait être améliorée. Actuellement, lorsqu'on fait un logout, on n'efface pas le cookie du browser.\", React.createElement(_components.br), \"\\n\", \"Comment feriez vous ?\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"Vous pourriez par exemple appeler la méthode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"GET /auths/logout\")), \" 😉.\")));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","import GATSBY_COMPILED_MDX from \"D:/Vinci/code/web2/js-course/frontend/src/mdx-pages/part4/auths-hmi.fr.mdx\";\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport {MDXProvider} from '@mdx-js/react';\nimport {Link} from 'gatsby';\nimport MainLayout from '../components/main-layout.js';\nimport Image from '../components/image.js';\nimport Section from '../components/section.js';\nimport Content from '../components/content.js';\nimport Background from '../components/background.js';\nimport SectionHeader from '../components/section-header.js';\nimport SectionFooter from '../components/section-footer.js';\nimport PageHeader from '../components/page-header.js';\nimport {withFrontmatter} from '../components/hoc/hoc.js';\nimport CodeBlock from '../components/codeblock/codeblock.js';\nimport LinkFile from '../components/file/link-file.js';\nimport ScrollableImage from '../components/image/scrollable-image';\nimport PublicProjectsView from '../components/public-projects/public-projects-view';\nimport {AuthenticatedTemplate, UnauthenticatedTemplate} from '@azure/msal-react';\nimport AuthenticatedBlock from '../components/auth/authenticated-block.js';\nimport UnAuthenticatedBlock from '../components/auth/unauthenticated-block.js';\nimport NestedMdxBlock from '../components/mdx/nested-mdx-block.js';\nimport YoutubeImage from '../components/image/youtube-image.js';\nimport InternalPageMenu from '../components/internal-page-menu/internal-page-menu.js';\nimport InternalPageMenuItem from '../components/internal-page-menu/internal-page-menu-item.js';\nimport InternalPageTitle from '../components/internal-page-menu/menu-title.js';\nimport {PathViewer, PathViewerItem} from '../components/path-viewer/path-viewer.js';\nconst shortcodes = {\n  Link,\n  Image,\n  Section,\n  Content,\n  Background,\n  SectionHeader,\n  SectionFooter,\n  PageHeader,\n  CodeBlock,\n  LinkFile,\n  ScrollableImage,\n  PublicProjectsView,\n  AuthenticatedBlock,\n  UnAuthenticatedBlock,\n  NestedMdxBlock,\n  YoutubeImage,\n  InternalPageMenu,\n  InternalPageMenuItem,\n  InternalPageTitle,\n  PathViewer,\n  PathViewerItem\n};\nfunction PageTemplate({data: {mdx, allImages}, children}) {\n  shortcodes.PageHeader = withFrontmatter(PageHeader, mdx?.frontmatter);\n  return React.createElement(MainLayout, Object.assign({}, mdx?.frontmatter ? {\n    frontmatter: mdx.frontmatter\n  } : {}, mdx?.frontmatter?.navbarExtraStyles ? {\n    navbarExtraStyles: mdx.frontmatter.navbarExtraStyles\n  } : {}, mdx?.frontmatter?.headerImage ? {\n    headerImage: mdx.frontmatter.headerImage\n  } : {}, mdx?.frontmatter?.featuredImage ? {\n    featuredImage: mdx.frontmatter.featuredImage\n  } : {}, mdx?.frontmatter?.title ? {\n    pageTitle: mdx.frontmatter.title\n  } : {}, allImages && allImages.length > 0 ? {\n    allImages: allImages\n  } : {}), React.createElement(MDXProvider, {\n    components: shortcodes\n  }, React.createElement(\"div\", {\n    className: mdx?.frontmatter?.autoMargin ? 'page page--auto-margin ' : 'page'\n  }, children)));\n}\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PageTemplate, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const pageQuery = graphql`\n  query pagesAndImages($slug: String) {\n    mdx(fields: { slug: { eq: $slug } }) {\n      id\n      body\n      fields {\n        slug\n      }\n\n      frontmatter {\n        title\n        date\n        navbarExtraStyles\n        headerImage\n        featuredImage\n        description\n        autoMargin\n      }\n    }\n    allImages: allFile(\n      filter: {\n        sourceInstanceName: { eq: \"images\" }\n        extension: { nin: [\"ico\", \"svg\"] }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData(\n              quality: 90\n              layout: FULL_WIDTH\n              placeholder: TRACED_SVG\n              tracedSVGOptions: { color: \"green\", background: \"grey\" }\n            )\n          }\n          base\n        }\n      }\n    }\n  }\n`;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","p","br","strong","table","thead","tr","th","tbody","td","code","a","pre","ul","li","em","h2","h4","_provideComponents","components","InternalPageMenu","PathViewer","PathViewerItem","InternalPageMenuItem","InternalPageTitle","UnAuthenticatedBlock","AuthenticatedBlock","_missingMdxReference","React","to","selected","href","numbered","highlighting","className","MDXLayout","wrapper","id","component","Error","shortcodes","Link","Image","Section","Content","Background","SectionHeader","SectionFooter","PageHeader","CodeBlock","LinkFile","ScrollableImage","PublicProjectsView","NestedMdxBlock","YoutubeImage","PageTemplate","data","mdx","allImages","children","withFrontmatter","frontmatter","MainLayout","navbarExtraStyles","headerImage","featuredImage","title","pageTitle","length","MDXProvider","autoMargin","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}