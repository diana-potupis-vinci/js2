{"componentChunkName":"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-4-auths-hmi-fr-mdx","path":"/part4/auths-hmi/","result":{"data":{"mdx":{"id":"b83ff750-e3d1-5e62-b119-75f87124b2fa","body":"\r\n<PathViewer>\r\n    <PathViewerItem to=\"/\"> web2course </PathViewerItem>\r\n    <PathViewerItem to=\"/part4\"> Partie 4 </PathViewerItem>\r\n    <PathViewerItem selected> b) HMI & JWT </PathViewerItem>\r\n</PathViewer>\r\n\r\n# b) Authentification & utilisation d'op√©rations prot√©g√©es par JWT au sein d'une IHM\r\n\r\n<InternalPageMenu>\r\n  <InternalPageMenuItem> Authentification d'un utilisateur via une IHM & JWT </InternalPageMenuItem>\r\n  <InternalPageMenuItem> Autorisation de l'appel √† une op√©ration prot√©g√©e </InternalPageMenuItem>\r\n  <InternalPageMenuItem> Probl√®mes de s√©curit√© </InternalPageMenuItem>\r\n  <InternalPageMenuItem> Exercice 4.2 : Authentification & autorisation au sein de myMovies </InternalPageMenuItem> \r\n</InternalPageMenu>\r\n\r\n# <InternalPageTitle> Authentification d'un utilisateur via une IHM & JWT </InternalPageTitle>\r\n\r\nPour authentifier un utilisateur via une IHM, il suffit de faire une requ√™te √† une RESTful API.\r\n\r\nG√©n√©ralement, l'utilisateur devra d'abord cr√©er son compte. Il utilisera un formulaire demandant au minimum un identifiant (username, adresse e-mail ou autres) et un password.  \r\nDans le cadre d'une SPA, l'IHM fera appel √† une op√©ration de type **register** lorsque l'utilisateur soumet le formulaire.\r\n\r\nPar la suite, lorsque le compte de l'utilisateur existe, l'IHM fera appel √† une op√©ration de type **login** lorsque l'utilisateur tentera de se connecter √† l'aide d'un formulaire.\r\n\r\nDans les deux cas, **register** ou **login**, le d√©veloppeur devra conna√Ætre les op√©rations mises √† disposition par l'API. \r\n\r\nDans le cadre du site de la pizzeria, nous savons que l'API met √† disposition ces deux op√©rations :\r\n\r\n| URI | M√©thode HTTP | Op√©ration |\r\n|---|---|---|\r\n| **auths/login** | POST | V√©rifier les credentials d'une ressource de type \"users\" et renvoyer le username et un token JWT si les credentials sont OK |\r\n| **auths/register** | POST | Cr√©er une ressource de type \"users\" et renvoyer le username et un token JWT |\r\n\r\n<br/>\r\n\r\nVeuillez d√©marrer la derni√®re version de la RESTful API de la pizzeria. En cas de souci, vous pouvez utiliser ce code-ci :\r\n[auths](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths).\r\n\r\nNous allons maintenant continuer le d√©veloppement de l'IHM [async-await](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/async-await) pour que le formulaire de register et de login fassent appelle √† l'API et sauve temporairement le token renvoy√©.\r\n\r\nAu sein de votre repo **web2**, veuillez cr√©er le projet nomm√© **/web2/tutorials/pizzeria/hmi/jwt-fetch** sur base d'un copi√© coll√© de **/web2/tutorials/pizzeria/hmi/async-await** (ou [async-await](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/basic-fetch)).\r\n\r\nPour la suite du tutoriel, nous consid√©rons que tous les chemins absolus d√©marrent du r√©pertoire\r\n**/web2/tutorials/pizzeria/hmi/jwt-fetch**.\r\n\r\nVeuillez mettre √† jour le code de la **RegisterPage** afin de faire appel √† la m√©thode **POST /auths/register** et, si tout est OK, renvoyer l'utilisateur vers la **HomePage** via la fonction **Navigate** :\r\n```js numbered highlighting=\"2,34-63\"\r\nimport { clearPage, renderPageTitle } from '../../utils/render';\r\nimport Navigate from '../Router/Navigate';\r\n\r\nconst RegisterPage = () => {\r\n  clearPage();\r\n  renderPageTitle('Register');\r\n  renderRegisterForm();\r\n};\r\n\r\nfunction renderRegisterForm() {\r\n  const main = document.querySelector('main');\r\n  const form = document.createElement('form');\r\n  form.className = 'p-5';\r\n  const username = document.createElement('input');\r\n  username.type = 'text';\r\n  username.id = 'username';\r\n  username.placeholder = 'username';\r\n  username.required = true;\r\n  username.className = 'form-control mb-3';\r\n  const password = document.createElement('input');\r\n  password.type = 'password';\r\n  password.id = 'password';\r\n  password.required = true;\r\n  password.placeholder = 'password';\r\n  password.className = 'form-control mb-3';\r\n  const submit = document.createElement('input');\r\n  submit.value = 'Register';\r\n  submit.type = 'submit';\r\n  submit.className = 'btn btn-danger';\r\n  form.appendChild(username);\r\n  form.appendChild(password);\r\n  form.appendChild(submit);\r\n  main.appendChild(form);\r\n  form.addEventListener('submit', onRegister);\r\n}\r\n\r\nasync function onRegister(e) {\r\n  e.preventDefault();\r\n\r\n  const username = document.querySelector('#username').value;\r\n  const password = document.querySelector('#password').value;\r\n\r\n  const options = {\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n\r\n  const response = await fetch('/api/auths/register', options);\r\n\r\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\r\n\r\n  const authenticatedUser = await response.json();\r\n\r\n  console.log('Newly registered & authenticated user : ', authenticatedUser);\r\n\r\n  Navigate('/');\r\n}\r\n\r\nexport default RegisterPage;\r\n\r\n```\r\n\r\nVeuillez ex√©cuter le frontend et vous assurer que l'utilisateur que vous tentez de cr√©er est bien cr√©√© par votre API. Si tout fonctionne, vous aurez une confirmation dans la console de votre browser.\r\n\r\nBien, nous souhaitons pour l'instant sauvegarder **authenticatedUser** de mani√®re temporaire, car cet objet contient comme info le username et le token de l'utilisateur.\r\n\r\nüí≠ Comment faire pour que cet objet soit disponible dans d'autres modules ?\r\nCette question nous permet d'explorer un propri√©t√© importante des **export** d'objets via ECMAScript : ce sont des objets immuables, c'est-√†-dire dont vous ne pouvez pas directement changer leurs valeurs. Comment faire alors pour offrir **authenticatedUser** ?  \r\nNous allons offrir quatre nouvelles fonctions : \r\n- une fonction qui renverra l'√©tat d'une variable **authenticatedUser** ;\r\n- une fonction qui permettra de modifier la variable **authenticatedUser** ;\r\n- une fonction qui indiquera si l'utilisateur est authentifi√© ou pas ;\r\n- une fonction qui permettra de faire un reset de l'utilisateur en cours (on utilisera cette fonction lors d'un logout).\r\n\r\nVeuillez cr√©er le fichier **/src/utils/auths.js** et y ajouter le code suivant :\r\n```js numbered\r\nlet currentUser;\r\n\r\nconst getAuthenticatedUser = () => currentUser;\r\n\r\nconst setAuthenticatedUser = (authenticatedUser) => {\r\n  currentUser = authenticatedUser;\r\n};\r\n\r\nconst isAuthenticated = () => currentUser !== undefined;\r\n\r\nconst clearAuthenticatedUser = () => {\r\n  currentUser = undefined;\r\n};\r\n\r\n// eslint-disable-next-line object-curly-newline\r\nexport { getAuthenticatedUser, setAuthenticatedUser, isAuthenticated, clearAuthenticatedUser };\r\n```\r\n\r\nVeuillez mettre √† jour le code de la **RegisterPage** afin de sauver en m√©moire vive l'utilisateur authentifi√©. Nous allons aussi pr√©parer la suite afin d'avoir une Navbar qui s'adaptera lorsqu'un utilisateur est authentifi√©, c'est pourquoi nous allons appeler le composant **Navbar** :\r\n```js numbered highlighting=\"1,3,66,68\"\r\nimport { setAuthenticatedUser } from '../../utils/auths';\r\nimport { clearPage, renderPageTitle } from '../../utils/render';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport Navigate from '../Router/Navigate';\r\n\r\nconst RegisterPage = () => {\r\n  clearPage();\r\n  renderPageTitle('Register');\r\n  renderRegisterForm();\r\n};\r\n\r\nfunction renderRegisterForm() {\r\n  const main = document.querySelector('main');\r\n  const form = document.createElement('form');\r\n  form.className = 'p-5';\r\n  const username = document.createElement('input');\r\n  username.type = 'text';\r\n  username.id = 'username';\r\n  username.placeholder = 'username';\r\n  username.required = true;\r\n  username.className = 'form-control mb-3';\r\n  const password = document.createElement('input');\r\n  password.type = 'password';\r\n  password.id = 'password';\r\n  password.required = true;\r\n  password.placeholder = 'password';\r\n  password.className = 'form-control mb-3';\r\n  const submit = document.createElement('input');\r\n  submit.value = 'Register';\r\n  submit.type = 'submit';\r\n  submit.className = 'btn btn-danger';\r\n  form.appendChild(username);\r\n  form.appendChild(password);\r\n  form.appendChild(submit);\r\n  main.appendChild(form);\r\n  form.addEventListener('submit', onRegister);\r\n}\r\n\r\nasync function onRegister(e) {\r\n  e.preventDefault();\r\n\r\n  const username = document.querySelector('#username').value;\r\n  const password = document.querySelector('#password').value;\r\n\r\n  const options = {\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n\r\n  const response = await fetch('/api/auths/register', options);\r\n\r\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\r\n\r\n  const authenticatedUser = await response.json();\r\n\r\n  console.log('Newly registered & authenticated user : ', authenticatedUser);\r\n\r\n  setAuthenticatedUser(authenticatedUser);\r\n\r\n  Navbar();\r\n\r\n  Navigate('/');\r\n}\r\n\r\nexport default RegisterPage;\r\n```\r\n\r\nPour la **LoginPage**, les modifications √† faire sont les m√™mes :\r\n```js numbered highlighting=\"1,3-4,36-69\"\r\nimport { setAuthenticatedUser } from '../../utils/auths';\r\nimport { clearPage, renderPageTitle } from '../../utils/render';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport Navigate from '../Router/Navigate';\r\n\r\nconst LoginPage = () => {\r\n  clearPage();\r\n  renderPageTitle('Login');\r\n  renderRegisterForm();\r\n};\r\n\r\nfunction renderRegisterForm() {\r\n  const main = document.querySelector('main');\r\n  const form = document.createElement('form');\r\n  form.className = 'p-5';\r\n  const username = document.createElement('input');\r\n  username.type = 'text';\r\n  username.id = 'username';\r\n  username.placeholder = 'username';\r\n  username.required = true;\r\n  username.className = 'form-control mb-3';\r\n  const password = document.createElement('input');\r\n  password.type = 'password';\r\n  password.id = 'password';\r\n  password.required = true;\r\n  password.placeholder = 'password';\r\n  password.className = 'form-control mb-3';\r\n  const submit = document.createElement('input');\r\n  submit.value = 'Login';\r\n  submit.type = 'submit';\r\n  submit.className = 'btn btn-danger';\r\n  form.appendChild(username);\r\n  form.appendChild(password);\r\n  form.appendChild(submit);\r\n  main.appendChild(form);\r\n  form.addEventListener('submit', onLogin);\r\n}\r\n\r\nasync function onLogin(e) {\r\n  e.preventDefault();\r\n\r\n  const username = document.querySelector('#username').value;\r\n  const password = document.querySelector('#password').value;\r\n\r\n  const options = {\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n\r\n  const response = await fetch('/api/auths/login', options);\r\n\r\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\r\n\r\n  const authenticatedUser = await response.json();\r\n\r\n  console.log('Authenticated user : ', authenticatedUser);\r\n\r\n  setAuthenticatedUser(authenticatedUser);\r\n\r\n  Navbar();\r\n\r\n  Navigate('/');\r\n}\r\n\r\nexport default LoginPage;\r\n```\r\n\r\nNous souhaitons maintenant faire en sorte que la Navbar affiche des √©l√©ments diff√©rents si l'utilisateur est authentifi√© au pas :\r\n- s'il est authentifi√© : on affiche **Home**, **Login**, **Register** et le **username** de l'utilisateur connect√©.\r\n- s'il est anonyme : on affiche **Home**, **Add a pizza**, **Logout**.\r\n\r\nNous allons mettre √† jour la **Navbar** pour s'adapter √† l'authentification d'un utilisateur :\r\n```js\r\n// eslint-disable-next-line no-unused-vars\r\nimport { Navbar as BootstrapNavbar } from 'bootstrap';\r\nimport { getAuthenticatedUser, isAuthenticated } from '../../utils/auths';\r\n\r\nconst Navbar = () => {\r\n  renderNavbar();\r\n};\r\n\r\nfunction renderNavbar() {\r\n  const authenticatedUser = getAuthenticatedUser();\r\n\r\n  const anonymousUserNavbar = `\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-danger\">\r\n      <div class=\"container-fluid\">\r\n        <a class=\"navbar-brand\" href=\"#\">e-Pizzeria</a>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link active\" aria-current=\"page\" href=\"#\" data-uri=\"/\">Home</a>\r\n            </li>\r\n            <li id=\"loginItem\" class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\" data-uri=\"/login\">Login</a>\r\n            </li>\r\n            <li id=\"registerItem\" class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\" data-uri=\"/register\">Register</a>\r\n            </li>            \r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n`;\r\n\r\n  const authenticatedUserNavbar = `\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-danger\">\r\n      <div class=\"container-fluid\">\r\n        <a class=\"navbar-brand\" href=\"#\">e-Pizzeria</a>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link active\" aria-current=\"page\" href=\"#\" data-uri=\"/\">Home</a>\r\n            </li>          \r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\" data-uri=\"/add-pizza\">Add a pizza</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\" data-uri=\"/logout\">Logout</a>\r\n            </li>    \r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link disabled\" href=\"#\">${authenticatedUser?.username}</a>\r\n            </li>           \r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n`;\r\n\r\n  const navbar = document.querySelector('#navbarWrapper');\r\n\r\n  navbar.innerHTML = isAuthenticated() ? authenticatedUserNavbar : anonymousUserNavbar;\r\n}\r\n\r\nexport default Navbar;\r\n```\r\n\r\nCe code est quasi enti√®rement neuf. On a rajout√© l'√©l√©ment qui permettra de r√©aliser le logout d'un utilisateur. Avant d'aller plus loin, veuillez tester l'application.  \r\nLoguez-vous avec l'utilisateur **admin** (et le password **admin**) et v√©rifier que vous √™tes bien redirig√© vers la HomePage une fois authentifi√©, que la Navbar contient bien les √©l√©ments attendus, dont le **username**.  \r\nVeuillez maintenant tester un clic sur l'√©l√©ment **Add a pizza** de la Navbar. Il ne se passe rien...  \r\nüí≠ Pourquoi les clics ne sont plus pris en compte ?  \r\nEn fait, regardons le code de notre **Router**, pour la gestion des clics sur la **Navbar** :\r\n```js\r\nfunction onNavBarClick() {\r\n  const navItems = document.querySelectorAll('.nav-link');\r\n\r\n  navItems.forEach((item) => {\r\n    item.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      const uri = e.target?.dataset?.uri;\r\n      const componentToRender = routes[uri];\r\n      if (!componentToRender) throw Error(`The ${uri} ressource does not exist.`);\r\n\r\n      componentToRender();\r\n      window.history.pushState({}, '', uri);\r\n    });\r\n  });\r\n}\r\n```\r\n\r\nEn fait, tant dans **LoginPage** que dans **RegisterPage**, nous faisons appel √† la fonction **`Navbar`** qui fait un \"rerender\" (r√©affichage) de la Navbar. Ainsi, tous les √©l√©ments de la barre de navigation sont \"rerender\", et donc comme le **Router** n'est pas r√©appel√©, la fonction **`onNavBarClick`** n'est pas r√©ex√©cut√©e. Ainsi, m√™me si les nouveaux √©l√©ments de la Navbar ont la classe CSS **`nav-link`**, leurs √©couteurs d'√©v√©nements de type click n'existent pas.\r\n\r\nüí≠ Comment corriger cela ?\r\nOn pourrait se dire qu'il suffit de faire appel √† la fonction **`onNavBarClick`** dans la **Navbar**. Cette solution ne fonctionnerait pas car nous aurions des d√©pendances cycliques, la Navbar devrait faire appel aux routes, qui elles font appel aux pages, les pages faisant appel √† la Navbar...  \r\nD√®s lors, le mieux serait de mettre un √©couteur d'√©v√©nements au niveau du wrapper de la Navbar.  \r\nComme le wrapper n'est jamais r√©initialis√©, tout sera en ordre.  \r\nVeuillez donc mettre √† jour la fonction **`onNavBarClick`** de **/src/Components/Router/Router.js** :\r\n```js highlighting=\"2,4,6-8\"\r\nfunction onNavBarClick() {\r\n  const navbarWrapper = document.querySelector('#navbarWrapper');\r\n\r\n  navbarWrapper.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    const navBarItemClicked = e.target;\r\n    const uri = navBarItemClicked?.dataset?.uri;\r\n    if (uri) {\r\n      const componentToRender = routes[uri];\r\n      if (!componentToRender) throw Error(`The ${uri} ressource does not exist.`);\r\n\r\n      componentToRender();\r\n      window.history.pushState({}, '', uri);\r\n    }\r\n  });\r\n}\r\n```\r\n\r\nVeuillez noter que le **navbarWrapper** est initialis√© au sein du composant **Header**.  \r\nDans la nouvelle version du code du **Router**, le gestionnaire de clic est ajout√© au niveau de ce wrapper. Gr√¢ce √† l'event objet **`e`**, on acc√®de √† l'√©l√©ment sur lequel on a cliqu√© gr√¢ce √† la propri√©t√© **`target`**. On retrouve donc l'√©l√©ment de la navbar sur lequel on a cliqu√© tr√®s facilement. \r\n\r\nVeuillez tester votre IHM et v√©rifier qu'une fois logu√©, vous puissiez bien voyager entre les pages.\r\n\r\nIl reste maintenant √† cr√©er un composant permettant de faire un logout. On souhaite que ce composant de logout supprime l'utilisateur authentifi√©, r√©affiche la Navbar pour un utilisateur anonyme et redirige l'utilisateur vers la page de login.\r\n\r\nPour ce faire, veuillez cr√©er le dossier et le fichier **/src/Components/Logout/Logout.js** et y ajouter ce code :\r\n```js\r\nimport { clearAuthenticatedUser } from '../../utils/auths';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport Navigate from '../Router/Navigate';\r\n\r\nconst Logout = () => {\r\n  clearAuthenticatedUser();\r\n  Navbar();\r\n  Navigate('/login');\r\n};\r\n\r\nexport default Logout;\r\n```\r\n\r\nAttention, m√™me si nous avons mis √† jour la **Navbar** et cr√©√© le composant **Logout**, le boilerplate du frontend impose de rajouter une route au sein du **Router** pour qu'un clic sur l'√©l√©ment **Logout** de la **Navbar** am√®ne √† appeler le composant **Logout**.\r\nVeuillez donc mettre √† jour **`routes`** au sein de **/src/Components/Router/Router.js** :\r\n```js highlighting=\"1,12\"\r\nimport Logout from '../Logout/Logout';\r\nimport AddPizzaPage from '../Pages/AddPizzaPage';\r\nimport HomePage from '../Pages/HomePage';\r\nimport LoginPage from '../Pages/LoginPage';\r\nimport RegisterPage from '../Pages/RegisterPage';\r\n\r\nconst routes = {\r\n  '/': HomePage,\r\n  '/login': LoginPage,\r\n  '/register': RegisterPage,\r\n  '/add-pizza': AddPizzaPage,\r\n  '/logout': Logout,\r\n};\r\n```\r\n\r\nVeuillez maintenant tester le login et le logout. Tout devrait √™tre fonctionnel !  \r\nIl nous reste √† faire en sorte que l'on puisse autoriser l'op√©ration de cr√©ation de pizza.\r\n\r\n# <InternalPageTitle> Autorisation de l'appel √† une op√©ration prot√©g√©e  </InternalPageTitle>\r\n\r\nNous allons maintenant voir comment, √† partir d'une IHM, nous pouvons utiliser un token pour acc√©der √† une op√©ration d'une RESTful API.\r\n\r\nVeuillez vous assurer que la derni√®re version de la RESTful API de la pizzeria est bien d√©marr√©e. En cas de souci, vous pouvez utiliser ce code-ci :\r\n[auths](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths).\r\n\r\nVeuillez vous connecter √† l'IHM **jwt-fetch** √† l'aide du compte **manager** et tentez d'ajouter une pizza. Cela ne devrait pas fonctionner. Veuillez regarder dans la console : il devrait y avoir une erreur qui s'affiche avec le \"status code\" **401 : Unauthorized**.  \r\nEn effet, l'API attend un token pour autoriser l'op√©ration de cr√©ation d'une pizza.\r\n\r\nNous allons donc mettre √† jour **/src/Components/Pages/AddPizzaPage.js** pour ajouter le token de l'utilisateur authentifi√© au sein du header de la requ√™te (il n'y a que trois lignes √† rajouter) :\r\n```js numbered highlighting=\"1,44,54\"\r\nimport { getAuthenticatedUser } from '../../utils/auths';\r\nimport { clearPage, renderPageTitle } from '../../utils/render';\r\nimport Navigate from '../Router/Navigate';\r\n\r\nconst AddPizzaPage = () => {\r\n  clearPage();\r\n  renderPageTitle('Add a pizza to the menu');\r\n  renderAddPizzaForm();\r\n};\r\n\r\nfunction renderAddPizzaForm() {\r\n  const main = document.querySelector('main');\r\n  const form = document.createElement('form');\r\n  form.className = 'p-5';\r\n  const title = document.createElement('input');\r\n  title.type = 'text';\r\n  title.id = 'title';\r\n  title.placeholder = 'title of your pizza';\r\n  title.required = true;\r\n  title.className = 'form-control mb-3';\r\n  const content = document.createElement('input');\r\n  content.type = 'text';\r\n  content.id = 'content';\r\n  content.required = true;\r\n  content.placeholder = 'Content of your pizza';\r\n  content.className = 'form-control mb-3';\r\n  const submit = document.createElement('input');\r\n  submit.value = 'Add pizza to the menu';\r\n  submit.type = 'submit';\r\n  submit.className = 'btn btn-danger';\r\n  form.appendChild(title);\r\n  form.appendChild(content);\r\n  form.appendChild(submit);\r\n  main.appendChild(form);\r\n  form.addEventListener('submit', onAddPizza);\r\n}\r\n\r\nasync function onAddPizza(e) {\r\n  e.preventDefault();\r\n\r\n  const title = document.querySelector('#title').value;\r\n  const content = document.querySelector('#content').value;\r\n\r\n  const authenticatedUser = getAuthenticatedUser();\r\n\r\n  const options = {\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      title,\r\n      content,\r\n    }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: authenticatedUser.token,\r\n    },\r\n  };\r\n\r\n  const response = await fetch('/api/pizzas', options);\r\n\r\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\r\n\r\n  const newPizza = await response.json();\r\n\r\n  console.log('New pizza added : ', newPizza);\r\n\r\n  Navigate('/');\r\n}\r\n\r\nexport default AddPizzaPage;\r\n\r\n```\r\n\r\nVeuillez vous connecter √† l'IHM √† l'aide du compte **manager** et tentez d'ajouter une pizza. Cela ne devrait toujours pas fonctionner. Veuillez regarder dans la console : il devrait y avoir une erreur qui s'affiche avec le \"status code\" **403 : Forbidden**.  \r\nEn effet, l'API attend un token pour autoriser l'op√©ration de cr√©ation d'une pizza, mais seulement **admin** a le privil√®ge d'ajouter une pizza au menu !\r\n\r\nD√©connectez-vous (logout), reconnectez-vous √† l'aide du compte **admin**, et ajoutez une pizza.\r\nVoila ! Le site devrait √™tre enti√®rement fonctionnel !\r\n\r\nSi tout fonctionne bien, faites un **commit** de votre repo (**web2**) avec le message\r\n\"**jwt-fetch**\".\r\n\r\nEn cas de souci, vous pouvez utiliser le code du tutoriel :\r\n\r\n- pour le frontend : [jwt-fetch](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch).\r\n- pour l'API : [auths](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths).\r\n\r\nüí≠ Est-ce que c'est \"safe\" que notre IHM affiche le menu \"Add a pizza\" pour un utilisateur qui n'est pas l'admin ?  \r\nEn fait oui, c'est \"safe\", vous l'avez test√©. L'API ne doit jamais faire confiance aux applications clientes pour appliquer la s√©curit√©. Ainsi, m√™me si le frontend autorise l'acc√®s √† des op√©rations qui ne devraient pas √™tre permises, au regard des autorisations appliqu√©es par l'API, √ßa n'a pas d'importance point de vue s√©curit√©.  \r\nDe la m√™me fa√ßon, c'est pour √ßa qu'une API doit aussi toujours valider les param√®tres qu'elle re√ßoit. Elle ne peut pas faire confiance aux applications clientes, comme par exemple √† une application web tournant dans un browser, pour valider tous les champs d'un formulaire avant de faire la requ√™te.  \r\nLa raison est simple, l'API est d√©velopp√©e ind√©pendamment des applications clientes, elle ne peut pas supposer que les requ√™tes seront toujours bien construites.\r\n\r\nüí≠ OK, tout est \"safe\" si l'API fait toutes les v√©rifications n√©cessaires. N√©anmoins, n'y a-t-il pas des r√®gles de bonnes pratiques au niveau des IHM, pour ne pas permettre de faire n'importe quelles requ√™tes vers des API ?  \r\nEt bien oui, au niveau des IHM, pour des questions d'**ergonomie**, d'exp√©rience utilisateur, on va faire en sorte :\r\n- de ne pas offrir des op√©rations qui ne seront pas autoris√©es. Par exemple, dans le cadre de ce tutoriel sur un site permettant de g√©rer une pizzeria, si l'utilisateur n'est pas **admin**, alors il ne faut pas frustrer les utilisateurs en leur faisant croire qu'ils ont acc√®s √† l'op√©ration de cr√©er une pizza ! Imaginez-vous, vous cr√©er une nouvelle pizza de 32 ingr√©dients, et lors de la soumission, vous recevez un message comme quoi vous n'√™tes pas l'admin du site et que vous n'avez donc pas le droit de cr√©er une pizza üò≤!\r\n- de ne pas demander du travail √† une API quand l'IHM peut d√©tecter que ce n'est pas utile. \r\nAinsi, quand une IHM offre des formulaires, qui am√®neront √† des requ√™tes vers des API, on √©vitera d'autoriser la soumission des donn√©es tant que les champs n'ont pas √©t√© valid√©s. Tout ce que l'IHM peut valider c√¥t√© client, elle doit le faire. Le feedback sera plus rapide pour l'utilisateur, et les ressources de l'API seront √©conomis√©es (pas d'appel inutile).\r\n\r\nN'h√©sitez donc pas √† mettre √† jour ce tutoriel pour faire en sorte de n'afficher \"Add a pizza\" que si l'utilisateur est **admin**.\r\n\r\nüí≠ Ca n'est pas un peu \"cheap\" que seul l'utilisateur **admin** puisse avoir le privil√®ge d'administrateur du site ?  \r\nH√© bien oui, c'est \"cheap\". G√©n√©ralement, dans le cadre d'applications plus robustes, nous allons ajouter un ou plusieurs r√¥les aux utilisateurs. Par exemple, dans le cadre d'applications o√π les r√¥les sont simples, qu'il n'y a jamais qu'un seul r√¥le associ√© √† un utilisateur, il suffirait d'ajouter au niveau de l'API la propri√©t√© **role** aux utilisateurs. Par exemple, la majorit√© des utilisateurs pourrait avoir un r√¥le dont la valeur serait **default**, et une minorit√© d'utilisateur auraient le r√¥le d'**admin**...\r\n\r\nOn n'affiche actuellement **pas de message d'erreur** √† l'utilisateur lorsque la r√©ponse d'une API renvoie une erreur. Pour am√©liorer l'exp√©rience de l'utilisateur, ce serait une am√©lioration √† faire.\r\n\r\nFinalement, lorsqu'on ferme le browser et revient sur l'application par la suite, on n'est plus authentifi√©. Nous allons donc prochainement voir comment nous pourrions sauvegarder des donn√©es de session c√¥t√©-client, dans le browser.\r\n\r\n# <InternalPageTitle> Probl√®mes de s√©curit√©  </InternalPageTitle>\r\n\r\nIl y a un probl√®me de s√©curit√© majeur actuellement. Nous pourrions √™tre victime d'attaques de type XSS : des injections de JS malicieux sont possibles üò® !  \r\nDe plus, si quelqu'un a acc√®s au fichier **/data/users.json** pr√©sent sur l'API, il a acc√®s √† tous les passwords des utilisateurs en clair üò® !\r\n\r\nNous allons r√©aliser un exercice avant de traiter des probl√®mes de s√©curit√©.\r\n\r\n# <InternalPageTitle> Mise en place du localStorage pour sauvegarder les donn√©es de session </InternalPageTitle>\r\n\r\nDans le cadre du site nous permettant de g√©rer une pizzeria, nous allons faire en sorte de sauvegarder les donn√©es de session au sein du **localStorage**, et plus juste en m√©moire vive.\r\n\r\nVeuillez d√©marrer la derni√®re version de la RESTful API de la pizzeria. En cas de souci, vous pouvez utiliser ce code-ci :\r\n[safe](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe).\r\n\r\nNous allons maintenant finaliser le d√©veloppement de l'IHM [jwt-fetch](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch).\r\n\r\nAu sein de votre repo **web2**, veuillez cr√©er le projet nomm√© **/web2/tutorials/pizzeria/hmi/web-storage** sur base d'un copier-coller de **/web2/tutorials/pizzeria/hmi/jwt-fetch** (ou [jwt-fetch](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch)).\r\n\r\nPour la suite du tutoriel, nous consid√©rons que tous les chemins absolus d√©marrent du r√©pertoire\r\n**/web2/tutorials/pizzeria/hmi/web-storage**.\r\n\r\nAfin de sauvegarder les donn√©es de session, c'est √† dire l'objet **authenticatedUser** contenant un token et un username, nous devons juste mettre √† jour le fichier **/usr/utils/auths.js** :\r\n\r\n```js numbered highlighting=\"1,7,10,15-16,24\"\r\nconst STORE_NAME = 'user';\r\nlet currentUser;\r\n\r\nconst getAuthenticatedUser = () => {\r\n  if (currentUser !== undefined) return currentUser;\r\n\r\n  const serializedUser = localStorage.getItem(STORE_NAME);\r\n  if (!serializedUser) return undefined;\r\n\r\n  currentUser = JSON.parse(serializedUser);\r\n  return currentUser;\r\n};\r\n\r\nconst setAuthenticatedUser = (authenticatedUser) => {\r\n  const serializedUser = JSON.stringify(authenticatedUser);\r\n  localStorage.setItem(STORE_NAME, serializedUser);\r\n\r\n  currentUser = authenticatedUser;\r\n};\r\n\r\nconst isAuthenticated = () => currentUser !== undefined;\r\n\r\nconst clearAuthenticatedUser = () => {\r\n  localStorage.removeItem(STORE_NAME);\r\n  currentUser = undefined;\r\n};\r\n\r\n// eslint-disable-next-line object-curly-newline\r\nexport { getAuthenticatedUser, setAuthenticatedUser, isAuthenticated, clearAuthenticatedUser };\r\n```\r\n\r\nAu sein de **`getAuthenticatedUser`** : \r\n- on fait un premier check afin d'√©viter d'aller lire dans le **localStorage** si la variable **currentUser** est d√©j√† initialis√©e.\r\n- on parse l'utilisateur authentifi√© et s√©rialis√© qui est retrouv√© dans le **localStorage** via la cl√© **STORE_NAME**.\r\n\r\nAu sein de **`setAuthenticatedUser`**, on s√©rialise **authenticatedUser** avant d'ajouter une paire cl√© / valeur au **localStorage**.  Ces donn√©es restent dans le browser, peu importe le nombre de fois que l'on ferme son browser. \r\n\r\nDans **`clearAuthenticatedUser`**, on efface la cl√© / valeur associ√©e √† l'utilisateur authentifi√© (via la cl√© **STORE_NAME**).\r\n\r\nVeuillez bien mettre √† jour votre code et tester l'application.  \r\nConnectez-vous √† l'aide de l'utilisateur **manager**.  Veuillez fermer votre browser.  \r\nVeuillez le r√©ouvrir.  \r\nVoil√†, vous devriez automatiquement √™tre authentifi√©, veuillez observer l'√©tat de la Navbar pour vous en assurer.\r\n\r\nüí≠ O√π puis-je observer l'√©tat des donn√©es sauvegard√©es dans le web storage de mon browser ?  \r\nTout en ayant la fen√™tre de votre application ouverte, via Chrome, allez dans vos outils de d√©veloppeurs : **F12**.  \r\nPuis, dans l'onglet **Application**, vous trouverez dans **Storage** : **Local Storage** et **Session Storage**.  \r\nIci, nous utilisons le **Local Storage**, donc cliquez dessus, vous verrez appara√Ætre `http://localhost:8080`. Cliquez sur cette URL, et vous verrez vos donn√©es de session, quelque chose du style `{\"username\":\"manager\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hbmFnZXIiLCJpYXQiOjE2NjE3NjM3MDksImV4cCI6MTc0ODE2MzcwOX0.jAxH0WsOgiK5vf4QduDZ8JgTR-SKC42G9aPieV_OTOo\"}`.  \r\nN'h√©sitez pas √† faire un clic droit sur l'URL `http://localhost:8080`, puis **Clear**.  \r\nSi vous faites ensuite un refresh de votre page, comme votre session aura √©t√© effac√©e, votre utilisateur ne sera plus connect√©. Votre Navbar afficher le menu pour un utilisateur anonyme !  \r\nFaites ce test, c'est int√©ressant üòâ.\r\n\r\nSi tout fonctionne bien, faites un **commit** de votre repo (**web2**) avec le message\r\n\"**web storage**\".\r\n\r\nEn cas de souci, vous pouvez utiliser le code du tutoriel :\r\n\r\n- pour le frontend : [web-storage](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/web-storage).\r\n- pour l'API : [safe](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe).\r\n\r\n# <InternalPageTitle> üç¨ Persistance de donn√©es de session via des cookies </InternalPageTitle>\r\n\r\nUn cookie repr√©sente des donn√©es qu'un serveur envoie √† un browser.  \r\nLe browser peut sauver ce cookie. Pour chaque requ√™te faite au serveur sur la m√™me origine (que l'origine o√π le cookie a √©t√© re√ßu), le cookie sera automatiquement envoy√© au serveur.\r\n\r\nIl fut un temps o√π les cookies √©taient utilis√©s comme un m√©canisme g√©n√©ral de stockage de donn√©es c√¥t√© client. \r\n\r\nüëç Actuellement, si les cookies sont utilis√©s pour sauvegarder les donn√©es de session, il faut se prot√©ger contre les attaques XSS et rendre les cookies inaccessibles au JavaScript. On utilise donc les cookies **HttpOnly** qui sont inaccessibles √† la **Document.cookie API**. \r\n\r\nDu coup, si des donn√©es de session doivent √™tre utilis√©e pour l'IHM, on ne peut pas se passer du **web storage** !\r\n\r\nPour la suite, on va donc voir :\r\n- comment utiliser Express pour cr√©er des cookies au niveau d'une API ;\r\n- comment rendre ces cookies inaccessibles aux attaques XSS en configurant **`HttpOnly`** ;\r\n- que, comme les cookies sont envoy√©s automatiquement au serveur, il faudra mettre √† jour notre IHM pour ne plus envoyer le token via un authorization header. L'API va charger le token dans le cookie, et comme le cookie sera automatiquement envoy√© au serveur via le browser, le code de l'IHM et les fetch seront plus simples. \r\n- l'emb√™tant dans ce que nous allons faire, c'est que comme nous allons s√©curiser le cookie, nous n'aurons pas acc√®s au **username** via le cookie... Nous pourrions :\r\n    - soit toujours utiliser le web storage pour sauvegarder le **username**, \r\n    - soit accepter de ne plus afficher le **username** et avoir aucun nouveau code √† ajouter au niveau du frontend (juste enlever les authorization header inutiles) ;\r\n    - soit mettre √† jour l'API pour offrir une route de type **GET /users/me** qui renvoie les donn√©es d'un utilisateur √† la demande d'une requ√™te cliente. Dans ce cas-l√†, √† chaque fois que l'utilisateur ouvre le browser, la premi√®re chose √† faire serait d'appeler cette op√©ration de l'API.\r\n\r\nPour le tutoriel, nous avons choisi la premi√®re option. Dans vos exercices optionnels, n'h√©sitez pas √† explorer une autre option.\r\n\r\nüí≠ Mais pourquoi s√©curiser le cookie et le rendre inaccessible au JS ?  \r\nH√© bien, imaginez qu'un attaquant arrive √† faire une attaque XSS, via un JS malicieux, renvoyant le cookie de chaque utilisateur qui affiche le menu des pizzas vers un serveur malicieux...  \r\nVia ce cookie, qui contient le token de l'utilisateur, le pirate peut se faire passer pour l'utilisateur pirat√© !  \r\nBon, pour la pizzeria, c'est p-e pas si grave, mais imaginez si c'est le token associ√© √† votre compte banquaire !  \r\nSi le cookie est inaccessible au JS, il est donc impossible pour un hackeur, via du JS malicieux, d'acc√©der au token, et donc, de l'envoyer üòå.\r\n\r\n# <InternalPageTitle> üç¨ Gestion de sessions c√¥t√© client via Express pour une API </InternalPageTitle>\r\n\r\n## Intro\r\n\r\nNous allons donc cr√©er une nouvelle version de l'API sauvegardant le token d'un utilisateur au sein d'un cookie, ainsi que son username, sans que ces infos soient accessible au JS c√¥t√© client.\r\n\r\nPour ce faire nous allons utiliser la librairie [cookie-session](https://github.com/expressjs/cookie-session) qui permet d'enregistrer des donn√©es de session dans des cookies.\r\n\r\nNous allons maintenant continuer le d√©veloppement de l'API [safe](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe).\r\n\r\nAu sein de votre repo **web2**, veuillez cr√©er le projet nomm√© **/web2/tutorials/pizzeria/api/cookies** sur base d'un copi√© coll√© de **/web2/tutorials/pizzeria/api/safe** (ou [safe](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe)).\r\n\r\nPour la suite du tutoriel, nous consid√©rons que tous les chemins absolus d√©marrent du r√©pertoire\r\n**/web2/tutorials/pizzeria/api/cookies**.\r\n\r\nVeuillez installer la librairie **cookie-session** au sein de votre nouveau projet **auths** :\r\n```bash\r\nnpm i cookie-session\r\n```\r\n\r\n## Utilisation de la fonction middleware `cookieSession`\r\n\r\nVeuillez mettre √† jour **/app.json** pour mettre en place la gestion de cookies :\r\n\r\n```js highlighting=\"4,12-23\"\r\nconst express = require('express');\r\nconst cookieParser = require('cookie-parser');\r\nconst logger = require('morgan');\r\nconst cookieSession = require('cookie-session');\r\n\r\nconst usersRouter = require('./routes/users');\r\nconst pizzaRouter = require('./routes/pizzas');\r\nconst authsRouter = require('./routes/auths');\r\n\r\nconst app = express();\r\n\r\nconst expiryDateIn3Months = new Date(Date.now() + 1000 * 60 * 60 * 24 * 30 * 3);\r\nconst cookieSecreteKey = 'YouWouldnot!not!like!mypizza';\r\napp.use(\r\n  cookieSession({\r\n    name: 'user',\r\n    keys: [cookieSecreteKey],\r\n    cookie: {\r\n      httpOnly: true,\r\n      expires: expiryDateIn3Months,\r\n    },\r\n  }),\r\n);\r\n\r\napp.use(logger('dev'));\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: false }));\r\napp.use(cookieParser());\r\n\r\napp.use('/users', usersRouter);\r\napp.use('/pizzas', pizzaRouter);\r\napp.use('/auths', authsRouter);\r\n\r\nmodule.exports = app;\r\n```\r\n\r\nNous avons donc bien indiqu√© que le cookie est inaccessible au JS via : `httpOnly: true`.\r\n\r\nNous avons fait en sorte que le cookie soit sign√© via la cl√© `cookieSecreteKey`.  \r\nLe m√©canisme de signature correspond √† ce qui a √©t√© vu dans le cadre des tokens JWT.  \r\nAinsi, si un cookie venait √™tre modifi√© par un utilisateur, lors de la v√©rification du cookie, cela sera automatiquement d√©tect√© par la fonction middleware `cookieSession` et la session ne sera pas cr√©√©e.\r\n\r\nPour info, la fonction middleware `cookieSession` va cr√©er deux cookies :\r\n- un cookie portant comme nom la valeur de `name` ; il est encod√© en base64. N'h√©sitez pas √† vous amuser √† d√©coder un cookie g√©n√©r√© par `cookieSession` sur [base64decode](https://www.base64decode.org/).\r\n- un cookie portant comme nom la valeur de `name` + `.sig` : c'est la signature qui pr√©vient contre le \"tempering\" (acte intentionnel mais non autoris√© qui am√®ne √† la modification d'un syst√®me ou de donn√©es).\r\n\r\n## Lecture et ajout de donn√©es de session via `req.session`\r\nPour cr√©er des donn√©es de session, il suffit de simplement les ajouter √† l'objet **`req.session`**.\r\n\r\nDans le cadre de la RESTful API g√©rant les pizzas, cela est fait lors d'une op√©ration de type **register** ou **login**.\r\n\r\nVeuillez mettre √† jour le router **/routes/auths.js** :\r\n\r\n```js numbered highlighting=\"17,19,33,35,38-42,44-47\"\r\nconst express = require('express');\r\nconst { register, login } = require('../models/users');\r\n\r\nconst router = express.Router();\r\n\r\n/* Register a user */\r\nrouter.post('/register', async (req, res) => {\r\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\r\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\r\n\r\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Request\r\n\r\n  const authenticatedUser = await register(username, password);\r\n\r\n  if (!authenticatedUser) return res.sendStatus(409); // 409 Conflict\r\n\r\n  createCookieSessionData(req, authenticatedUser);\r\n\r\n  return res.json({ username: authenticatedUser.username });\r\n});\r\n\r\n/* Login a user */\r\nrouter.post('/login', async (req, res) => {\r\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\r\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\r\n\r\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Reques\r\n\r\n  const authenticatedUser = await login(username, password);\r\n\r\n  if (!authenticatedUser) return res.sendStatus(401); // 401 Unauthorized\r\n\r\n  createCookieSessionData(req, authenticatedUser);\r\n\r\n  return res.json({ username: authenticatedUser.username });\r\n});\r\n\r\n/* Logout a user */\r\nrouter.get('/logout', (req, res) => {\r\n  req.session = null;\r\n  return res.sendStatus();\r\n});\r\n\r\nfunction createCookieSessionData(req, authenticatedUser) {\r\n  req.session.username = authenticatedUser.username;\r\n  req.session.token = authenticatedUser.token;\r\n}\r\n\r\nmodule.exports = router;\r\n```\r\n\r\nDans le code ci-dessus, nous pr√©parons les donn√©es de session qui seront √©crites dans le cookie √† l'aide de l'objet `req.session`.  \r\nLorsque nous renvoyons du JSON aux clients, nous ne renvoyons plus le token, mais juste le username de l'utilisateur. L'application cliente, le browser, pourra utiliser cette info pour afficher le nom de l'utilisateur. Pour rappel, le browser n'a pas acc√®s, via le JS, √† l'info se trouvant dans le cookie.\r\n\r\nQuand nous g√©rons une session via des cookies, il n'est pas √©vident de bien cl√¥re une session. Nous avons cr√©√© une nouvelle op√©ration de type **GET /auths/logout** qui permet d'effacer les donn√©es de session d'un utilisateur.\r\n\r\nIl nous reste √† changer le m√©canisme d'autorisation.\r\nLes tokens ne seront plus re√ßu via un authorization header, mais via un cookie.  \r\nNous allons donc mettre √† jour le middleware **/utils/authorize** (1 seule ligne) :\r\n```js numbered highlighting=\"7\"\r\nconst jwt = require('jsonwebtoken');\r\nconst { readOneUserFromUsername } = require('../models/users');\r\n\r\nconst jwtSecret = 'ilovemypizza!';\r\n\r\nconst authorize = (req, res, next) => {\r\n  const { token } = req.session;\r\n  if (!token) return res.sendStatus(401);\r\n\r\n  try {\r\n    const decoded = jwt.verify(token, jwtSecret);\r\n    console.log('decoded', decoded);\r\n    const { username } = decoded;\r\n\r\n    const existingUser = readOneUserFromUsername(username);\r\n\r\n    if (!existingUser) return res.sendStatus(401);\r\n\r\n    req.user = existingUser; // request.user object is available in all other middleware functions\r\n    return next();\r\n  } catch (err) {\r\n    console.error('authorize: ', err);\r\n    return res.sendStatus(401);\r\n  }\r\n};\r\n\r\nconst isAdmin = (req, res, next) => {\r\n  const { username } = req.user;\r\n\r\n  if (username !== 'admin') return res.sendStatus(403);\r\n  return next();\r\n};\r\n\r\nmodule.exports = { authorize, isAdmin };\r\n```\r\n\r\n# <InternalPageTitle> üç¨ Test via REST Client d'une RESTful API attendant des cookies  </InternalPageTitle>\r\n\r\nIl nous reste √† tester nos requ√™tes via REST Client.\r\n\r\nIl n'y a pas de nouvelles notions √† apprendre pour utiliser REST Client avec des cookies : le comportement par d√©faut de REST Client, lorsqu'un cookie est renvoy√© dans une r√©ponse, est d'inclure ce cookie dans chaque requ√™te vers la m√™me origine.\r\n\r\nD√®s lors, pour tester l'API, il suffit d'enlever tous les authorization headers et de rajouter une requ√™te pour tester l'effacement d'une session.\r\n\r\nVeuillez tester les requ√™tes √† l'aide de **/REST Client/pizzas.http** :\r\n```http\r\n######### NORMAL OPERATION  ###########\r\n\r\n### Read all pizzas\r\nGET http://localhost:3000/pizzas\r\n\r\n### Read all pizzas with File variable\r\n@baseUrl = http://localhost:3000\r\nGET {{baseUrl}}/pizzas\r\n\r\n### Read all pizzas sorted by title (ascending)\r\nGET {{baseUrl}}/pizzas/?order=+title\r\n\r\n### Read all pizzas sorted by title (descending)\r\nGET {{baseUrl}}/pizzas/?order=-title\r\n\r\n### Read pizza identified by 2\r\nGET {{baseUrl}}/pizzas/2\r\n\r\n### Create a pizza by using the admin account\r\n#### First login as the admin\r\nPOST {{baseUrl}}/auths/login\r\nContent-Type: application/json\r\n\r\n{\r\n    \"username\":\"admin\",\r\n    \"password\":\"admin\"\r\n}\r\n\r\n#### Create a pizza with the admin token\r\nPOST {{baseUrl}}/pizzas\r\nContent-Type: application/json\r\n\r\n{\r\n    \"title\":\"Magic Green\",\r\n    \"content\":\"Epinards, Brocolis, Olives vertes, Basilic\"\r\n}\r\n\r\n### Delete pizza identified by 2 with the admin token\r\nDELETE {{baseUrl}}/pizzas/2\r\n\r\n### Update the pizza identified by 6 with the admin token\r\nPATCH {{baseUrl}}/pizzas/6\r\nContent-Type: application/json\r\n\r\n{\r\n    \"title\":\"Magic Green 2\"\r\n}\r\n\r\n\r\n######### ERROR OPERATION  ###########\r\n\r\n### 1. Create a pizza without a token\r\nPOST {{baseUrl}}/pizzas\r\nContent-Type: application/json\r\n\r\n{\r\n    \"title\":\"Magic Green\",\r\n    \"content\":\"Epinards, Brocolis, Olives vertes, Basilic\"\r\n}\r\n\r\n### 2. Create a pizza without being the admin, use manager account\r\n#### 2.1 First login as the manager\r\nPOST {{baseUrl}}/auths/login\r\nContent-Type: application/json\r\n\r\n{\r\n    \"username\":\"manager\",\r\n    \"password\":\"manager\"\r\n}\r\n\r\n#### 2.2 Try to create a pizza with the manager token\r\nPOST {{baseUrl}}/pizzas\r\nContent-Type: application/json\r\n\r\n{\r\n    \"title\":\"Magic Green\",\r\n    \"content\":\"Epinards, Brocolis, Olives vertes, Basilic\"\r\n}\r\n\r\n### Read pizza which does not exists\r\nGET {{baseUrl}}/pizzas/100\r\n\r\n### Create a pizza which lacks a property\r\nPOST {{baseUrl}}/pizzas\r\nContent-Type: application/json\r\n\r\n{\r\n    \"content\":\"Epinards, Brocolis, Olives vertes, Basilic\"\r\n}\r\n\r\n### Create a pizza without info for a property\r\nPOST {{baseUrl}}/pizzas\r\nContent-Type: application/json\r\n\r\n{\r\n    \"title\":\"\",\r\n    \"content\":\"Epinards, Brocolis, Olives vertes, Basilic\"\r\n}\r\n\r\n### Update for a pizza which does not exist\r\nPATCH {{baseUrl}}/pizzas/200\r\nContent-Type: application/json\r\n\r\n{\r\n    \"title\":\"Magic Green 2\"\r\n}\r\n\r\n### Update for a pizza which does not provide any info for a property\r\nPATCH {{baseUrl}}/pizzas/1\r\n\r\nContent-Type: application/json\r\n\r\n{\r\n    \"title\":\"Magic Green 2\",\r\n    \"content\":\"\"\r\n}\r\n```\r\n\r\n**/REST Client/auths.http** a √©t√© mis √† jour pour tester **GET /auths/logout** :\r\n```http\r\n### Logout any user\r\nGET {{baseUrl}}/auths/logout\r\n```\r\n\r\nPour ajouter une pizza, il suffit juste :\r\n1. De loguer l'admin.\r\n2. De cr√©er une nouvelle pizza ; le cookie est automatiquement envoy√©.\r\n\r\nAdmettons que vous souhaitez tester l'ajout d'une pizza sans envoyer de token :\r\n1. Lancez l'op√©ration de logout (GET /auths/logout) ; le cookie renvoy√© ne contient pas de donn√©es de session ;\r\n2. Tentez la cr√©ation d'une pizza qui renverra un code **401 Unauthorized**.\r\n\r\nSi tout fonctionne bien, faites un **commit** de votre repo (**web2**) avec le message\r\n\"**cookies api**\".\r\n\r\nEn cas de souci, vous pouvez utiliser le code du tutoriel [cookies](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/cookies).\r\n\r\n## Gestion de session c√¥t√© client via une IHM et des cookies\r\n\r\nA pr√©sent que notre API **cookies** renvoie les donn√©es de session dans un cookie non accessible par du JS, nous souhaitons mettre √† jour notre IHM pour utiliser cette API.\r\n\r\nNous allons repartir de la derni√®re version de notre frontend.\r\n\r\nAu sein de votre repo **web2**, veuillez cr√©er le projet nomm√© **/web2/tutorials/pizzeria/hmi/cookies** sur base d'un copi√© coll√© de **/web2/tutorials/pizzeria/hmi/web-storage** (ou [web-storage](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/web-storage)).\r\n\r\nPour la suite du tutoriel, nous consid√©rons que tous les chemins absolus d√©marrent du r√©pertoire\r\n**/web2/tutorials/pizzeria/hmi/cookies**.\r\n\r\nAfin de sauvegarder les donn√©es de session, c'est √† dire l'objet **authenticatedUser** contenant juste un username, nous ne devons m√™me pas mettre √† jour le fichier **/usr/utils/auths.js**. En effet, l'API **cookies** renvoie un objet du genre `{username: \"manager\"}`. Au niveau de l'IHM, le code est donc toujours fonctionnel pour sauvegarder le username gr√¢ce √† `authenticatedUser`.\r\n\r\nIl ne reste donc qu'√† changer le code o√π nous avons besoin d'une autorisation. Pour l'application de gestion de la pizzeria, il s'agit de la cr√©ation de pizza.  \r\nVeuillez donc mettre √† jour **/src/Components/AddPizzaPage.js** en enlevant ces deux lignes :\r\n- l'authenticatedUser : `const authenticatedUser = getAuthenticatedUser();` et l'import associ√© (`import { getAuthenticatedUser } from '../../utils/auths';`),\r\n- la ligne s'occupant de l'authorization header : `Authorization: authenticatedUser.token`.\r\n\r\nVeuillez tester votre derni√®re version du frontend.\r\nLoguez-vous avec l'utilisateur **admin** (et le password **admin**).  \r\nAjoutez une pizza et v√©rifiez qu'elle s'affiche bien.  \r\n\r\nüí≠ Comment v√©rifier le cookie ?  \r\nTout en ayant la fen√™tre de votre application ouverte, via Chrome, allez dans vos outils de d√©veloppeurs : **F12**.  \r\nPuis, dans l'onglet **Application**, cliquez sur **Cookies**, vous verrez appara√Ætre `http://localhost:8080`. Cliquez sur cette URL, et vous verrez vos 2 cookies de session, **user.sig** et **user**.  \r\nN'h√©sitez pas √† aller d√©coder la valeur du cookie **user** sur [base64decode](https://www.base64decode.org/) en faisant un copier / coller de **Value**. Vous devriez voir quelque chose appara√Ætre du style `{\"username\":\"manager\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hbmFnZXIiLCJpYXQiOjE2NjE3NzUxMDgsImV4cCI6MTc0ODE3NTEwOH0.sAZqq6vbrjCCZZoLH-n8hJKBoXJJJ8jEoupk8xKu5WI\"}`  !\r\n\r\nToujours dans l'onglet **Application** des outils de d√©veloppeurs de Chrome, faites un clear des cookies : clic droit sur `http://localhost:8080`, **Clear**.  \r\nTentez maintenant d'ajouter une pizza... Ca ne fonctionne plus, et c'est bien normal, car il n'y a plus de token qui est envoy√© √† l'API !  \r\n\r\nSuite √† ces tests, si tout fonctionne bien, faites un **commit** de votre repo (**web2**) avec le message \"**cookies hmi**\".\r\n\r\nEn cas de souci, vous pouvez utiliser le code du tutoriel :\r\n\r\n- pour le frontend : [cookies](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/cookies).\r\n- pour l'API : [cookies](https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/cookies).\r\n\r\nüí≠ Notons que cette version de notre frontend pourrait √™tre am√©lior√©e. Actuellement, lorsqu'on fait un logout, on n'efface pas le cookie du browser.  \r\nComment feriez vous ? Vous pourriez par exemple appeler la m√©thode **GET /auths/logout** üòâ.\r\n\r\n\r\n\r\n\r\n\r\n# <InternalPageTitle> Exercice 2.14 : Persistance de la session de myMovies dans le web storage  </InternalPageTitle>\r\n\r\nLors de l'exercice pr√©c√©dent (Exercice 7.2), vous avez d√©velopp√© une application qui permet de bien g√©rer des films, √† l'exception du fait que quand vous fermez votre browser, vous devez √† chaque fois vous reconnecter.\r\n\r\nVeuillez faire en sorte que vos donn√©es de session soient sauvegard√©es :\r\n- dans le **localStorage** si l'on clique sur une checkbox \"Remember me\" du login ou du register.\r\n- dans le **sessionStorage** si l'on ne clique pas sur la checkbox \"Remember me\" lors du login ou du register.\r\n\r\nAfin de r√©aliser cet exercice, voici les contraintes d'impl√©mentation :\r\n- Veuillez d√©marrer votre API d√©velopp√©e pr√©c√©demment : **/exercises/module7/7.2/api**.\r\n- Pour le frontend, utilisez le contenu de votre r√©pertoire d'exercices **/exercises/module7/7.1/hmi** comme point de d√©part pour cr√©er, dans votre repository local et\r\nvotre web repository (normalement appel√© **web2**), le r√©pertoire nomm√©\r\n**/exercises/module8/8.1/hmi**.\r\n-\tVeuillez utiliser le proxy de votre frontend afin de contourner les probl√®mes associ√© √† la gestion des CORS.\r\n\r\n\r\n#### ü§ù Tips\r\nCet exercice est l'application du tutoriel vu dans ce module-ci. N'h√©sitez pas donc √† rejouer les √©tapes vues dans le tutoriel au niveau de votre API : [a.2) Persistance de donn√©es de sessions via le web storage](#a2).\r\n\r\nNous vous recommandons, dans un premier temps, de g√©rer les sessions dans le localStorage, sans ajouter la fonctionnalit√© **Remember me**.  \r\nUne fois que c'est fonctionnel, il sera temps de g√©rer le **Remember me**.\r\n\r\nVous allez pouvoir refaire un peu de gestion d'√©v√©nements pour d√©tecter les clics sur une checkbox. N'h√©sitez pas √† voir ce que propose **Bootstrap 5** pour les **checkboxes**.\r\n\r\nüí≠ Prenez un moment pour voir comment g√©rer la persistance de l'info 'Remember me'...  \r\nEst-ce que ce n'est pas une donn√©e de session qui doit persister lorsque l'utilisateur ferme son browser ?  \r\nEn effet, point de vue ergonomie, il est int√©ressant que le dernier choix de l'utilisateur soit toujours pr√©sent√©. La checkbox devrait donc rester **checked** ou pas, tant que l'utilisateur ne change pas son √©tat, via un clic, ou via un Logout ; et cet √©tat doit subsister aux travers des connexions (ouvertures / fermetures du browser).\r\n\r\nSi vous g√©rez bien l'info 'Remember me' au travers des sessions, vous devriez facilement d√©cider si les donn√©es de **authenticatedUser** sont √† sauvegarder dans le localStorage ou le sessionStorage.\r\n\r\nVeuillez faire un **commit** de votre code avec le message suivant : \r\n\"**myMovies : module 8 : web storage**\"\".\r\n\r\nNB : Le code de vos applications se trouve dans votre repository local et\r\nvotre web repository (normalement appel√© **web2**) dans le r√©pertoire nomm√©\r\n**/exercises/module8/8.1/hmi**.\r\n\r\n\r\n# <InternalPageTitle> Exercice 4.2 : Authentification & autorisation au sein de myMovies </InternalPageTitle>\r\n\r\nLors de l'exercice pr√©c√©dent (Exercice 6.2), vous aviez une application qui permettait normalement de g√©rer des films, mais qui n'√©tait pas s√©curis√©e.\r\n\r\nA cet exercice, veuillez introduire l'authentification d'utilisateur via ces deux nouveaux cas d'utilisation :\r\n- UC5 : un utilisateur doit pouvoir cr√©er un compte (register).\r\n- UC6 : un utilisateur doit pouvoir se loguer (login).\r\n- UC7 : un utilisateur doit pouvoir se d√©connecter (logout).\r\n\r\nVous allez continuer le d√©veloppement du frontend de **myMovies** r√©alis√© au module 3 (Exercice 3.1) et de la RESTful API d√©velopp√©e au module 5 (Exercice 5.2).\r\n\r\nL'application **myMovies** doit maintenant autoriser les op√©rations suivantes aux utilisateurs authentifi√©s uniquement :\r\n-\tUC2 : l'ajout d'une ressource de type films via un formulaire d'ajout d'un film.\r\n- UC3 : la suppression d'un film.\r\n- UC4 : la mise √† jour des donn√©es d'un film (√† l'exception de l'id associ√© √† un film).\r\n\r\nComme auparavant, cette op√©ration est permise pour tous les utilisateurs, anonymes ou authentifi√©s :\r\n-\tUC1 : l'affichage, sous forme de tableau, de toutes les ressources de type films.\r\n\r\nVous allez devoir mettre √† jour tant l'API que le frontend.\r\n\r\nVoici les op√©rations qui doivent √™tre mises √† disposition par votre API :\r\n\r\n##### Op√©rations sur les ressources de type \"auths\"\r\n| URI | M√©thode HTTP | Auths? | Op√©ration |\r\n|---|---|---|---|\r\n| **auths/register** | POST | Non | Cr√©er une ressource de type \"users\" et renvoyer le username et un token JWT |\r\n| **auths/login** | POST | Non | V√©rifier les credentials d'une ressource de type \"users\" et renvoyer le username et un token JWT si les credentials sont OK |\r\n\r\n<br/>\r\n\r\n##### Op√©rations sur les ressources de type \"films\" (ou \"movies\", selon votre choix)\r\n| URI | M√©thode HTTP | Auths? | Op√©ration |\r\n|---|---|---|---|\r\n| **films** | GET | Non | READ ALL : Lire toutes les ressources de la collection |\r\n| **films?minimum-duration=value** | GET | Non | READ ALL FILTERED : Lire toutes les ressources de la collection selon le filtre donn√© |\r\n| **`films/{id}`** | GET | Non | READ ONE : Lire la ressource identifi√©e |\r\n| **films** | POST | JWT | CREATE ONE : Cr√©er une ressource bas√©e sur les donn√©es de la requ√™te |\r\n| **`films/{id}`** | DELETE | JWT | DELETE ONE : Effacer la ressource identifi√©e |\r\n| **`films/{id}`** | PATCH | JWT | UPDATE ONE : Mettre √† jour les propri√©t√©s de la ressource par les valeurs donn√©es dans la requ√™te, pour une ou plusieurs propri√©t√©s |\r\n\r\n<br/>\r\n\r\nAfin de r√©aliser cet exercice, voici les contraintes d'impl√©mentation :\r\n-\tCommencez par mettre √† jour l'API pour ajouter les op√©rations de register, de login, ainsi que les autorisations pour les fonctions d'√©critures sur des ressources de type films. Utilisez le contenu de votre r√©pertoire d'exercices **/exercises/module5/5.2** comme point de d√©part pour cr√©er, dans votre repository local et votre web repository (normalement appel√© **web2**), le r√©pertoire nomm√© **/exercises/module7/7.1/api**.\r\n- Veuillez tester votre API via REST Client pour vous assurer que les autorisations JWT fonctionnent correctement. Quand tout est OK, vous pouvez passer au d√©veloppement de votre frontend.\r\n-\tPour le frontend, utilisez le contenu de votre r√©pertoire d'exercices **/exercises/module6/6.2** comme point de d√©part pour cr√©er, dans votre repository local et\r\nvotre web repository (normalement appel√© **web2**), le r√©pertoire nomm√©\r\n**/exercises/module7/7.1/hmi**.\r\n-\tVeuillez utiliser le proxy de votre frontend afin de contourner les probl√®mes associ√© √† la gestion des CORS.\r\n- Veuillez d√©velopper de mani√®re incr√©mentale votre IHM, use case par use case, en v√©rifiant le bon fonctionnement de chaque cas d'utilisation avant de passer au d√©veloppement de l'UC suivant.  \r\nNous vous recommandons de commencer par le m√©canisme d'authentification en ajoutant l'UC5 et l'UC6. Notez qu'il est facile de d√©marrer avec l'UC6 pour le login d'admin qui existe d√©j√† au niveau de l'API par d√©faut.\r\n- Pensez √† bien mettre √† jour votre **Navbar** pour afficher les bons menus :\r\n  - si l'utilisateur est anonyme : liens uniquement vers la HomePage, vers l'UC1 (view movies), UC5 (login) & UC6 (register) ;\r\n  - si l'utilisateur est authentifi√© : liens uniquement vers la HomePage, vers l'UC1 (view movies) / UC2 (create) / UC3 (delete) / UC4 (update), UC7 (logout).\r\n- Faites attention, il n'est pas autoris√©, pour des raisons d'ergonomie, que le frontend offre les fonctionnalit√©s d'√©criture de ressources si l'utilisateur n'est pas authentifi√© : UC2 (create), UC3 (delete) et UC4 (update) sont des op√©rations invisibles pour un utilisateur anonyme.\r\n\r\n#### ü§ù Tips\r\n- Cet exercice est l'application du tutoriel vu dans ce module-ci. N'h√©sitez pas donc √† rejouer les √©tapes vues dans le tutoriel au niveau de votre API et √† copier / coller les fichiers utiles (**authorize.js**, **users.js**, **auths.js**...) : [a) Authentification s√©curis√©e et autorisation d'acc√®s aux op√©rations d'une RESTful API via JWT](#a).\r\n- N'oubliez pas de tester chaque op√©ration. Par exemple, il faut bien v√©rifier que l'on ne puisse pas cr√©er une pizza sans token via REST Client.\r\n- Occupez-vous ensuite du frontend en copiant collant les fichiers utiles trouv√©s dans le tutoriel associ√© √† cette partie (**RegisterPage**, **LoginPage**, **Logout**, **auths**, **Navbar**...) : [b) Utilisation de JWT au sein d'une IHM](#b).  \r\nAttention √† ne pas oublier de mettre √† jour votre Router (nouvelles pages pour le register, le login et le logout), la Navbar (diff√©rent affichage pour un utilisateur anonyme que pour un utilisateur connect√©), d'ajouter les token dans le header de vos requ√™tes via fetch... \r\n- Concernant le Router, il faut mettre √† jour `onNavBarClick` pour que les gestionnaires d'ev√©n√©ments restent attach√©s m√™me quand la Navbar est r√©affich√©e.\r\n- üí≠ Comment rendre invisible les op√©rations d'√©criture de films ?  \r\nPar exemple, vous pourriez afficher les boutons **Delete** et **Save** que si l'utilisateur est authentifi√©.  \r\nDe m√™me, si l'utilisateur est anonyme, les cellules associ√©es aux films ne devraient pas √™tre √©ditables.\r\n\r\nVeuillez faire un **commit** de votre code avec le message suivant : \r\n\"**myMovies : module 7 : auths**\"\".\r\n\r\nNB : Le code de vos applications se trouve dans votre repository local et\r\nvotre web repository (normalement appel√© **web2**) dans les r√©pertoires nomm√©s\r\n**/exercises/module7/7.1/api** et **/exercises/module7/7.1/hmi**.","fields":{"slug":"/part4/auths-hmi/"},"frontmatter":{"title":"HMI & JWT","date":null,"navbarExtraStyles":"","headerImage":"","featuredImage":"","description":"Authentification & utilisation d'op√©rations prot√©g√©es par JWT au sein d'une IHM","autoMargin":true}},"allImages":{"edges":[{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/19c44353d690d2192603058b13677c32/050f3/ex2-16-questions.png","srcSet":"/js2/static/19c44353d690d2192603058b13677c32/050f3/ex2-16-questions.png 370w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/19c44353d690d2192603058b13677c32/89e9c/ex2-16-questions.webp 370w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.908108108108108}},"base":"ex2-16-questions.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/7746eb8f2da2b173501f76b41b709419/31045/ex2-16-score.png","srcSet":"/js2/static/7746eb8f2da2b173501f76b41b709419/31045/ex2-16-score.png 268w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/7746eb8f2da2b173501f76b41b709419/adc83/ex2-16-score.webp 268w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.49253731343283585}},"base":"ex2-16-score.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#683898","images":{"fallback":{"src":"/js2/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png","srcSet":"/js2/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png 512w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/53aa06cf17e4239d0dba6ffd09854e02/cc23f/icon.webp 512w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}},"base":"icon.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8e848","images":{"fallback":{"src":"/js2/static/94e78cdb1293988b357eb1e6074279d9/8cffc/join.png","srcSet":"/js2/static/94e78cdb1293988b357eb1e6074279d9/8cffc/join.png 26w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/94e78cdb1293988b357eb1e6074279d9/2705a/join.webp 26w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.0769230769230769}},"base":"join.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/js2/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png","srcSet":"/js2/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png 544w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/309e0fb8b4416829acfed4f7a501206b/5eade/logo_vinci.webp 544w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.9044117647058824}},"base":"logo_vinci.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8e848","images":{"fallback":{"src":"/js2/static/814c6001016da3a407035f4cfb117ea5/61ec1/quit.png","srcSet":"/js2/static/814c6001016da3a407035f4cfb117ea5/61ec1/quit.png 28w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/814c6001016da3a407035f4cfb117ea5/fad8c/quit.webp 28w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.9285714285714286}},"base":"quit.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#d88848","images":{"fallback":{"src":"/js2/static/c4a1984e0b0ce60b9f9f72756293a96e/50940/frontend-technos.jpg","srcSet":"/js2/static/c4a1984e0b0ce60b9f9f72756293a96e/50940/frontend-technos.jpg 461w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/c4a1984e0b0ce60b9f9f72756293a96e/9d85c/frontend-technos.webp 461w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5553145336225597}},"base":"frontend-technos.jpg"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#081828","images":{"fallback":{"src":"/js2/static/06eb14b228d7c6bc28668b2465327811/63bac/most-pop-programming.png","srcSet":"/js2/static/06eb14b228d7c6bc28668b2465327811/63bac/most-pop-programming.png 516w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/06eb14b228d7c6bc28668b2465327811/a81b8/most-pop-programming.webp 516w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.8507751937984497}},"base":"most-pop-programming.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#a8c888","images":{"fallback":{"src":"/js2/static/62895fac28825996f4895ee798c3c5da/964cf/modules-breakdown.png","srcSet":"/js2/static/62895fac28825996f4895ee798c3c5da/ddebf/modules-breakdown.png 750w,\n/js2/static/62895fac28825996f4895ee798c3c5da/964cf/modules-breakdown.png 1056w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/62895fac28825996f4895ee798c3c5da/f59f5/modules-breakdown.webp 750w,\n/js2/static/62895fac28825996f4895ee798c3c5da/280c1/modules-breakdown.webp 1056w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.3759469696969697}},"base":"modules-breakdown.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/js2/static/fa47b7868326f417638155af9c4e1131/a19b7/mpa-api.png","srcSet":"/js2/static/fa47b7868326f417638155af9c4e1131/1f5ea/mpa-api.png 750w,\n/js2/static/fa47b7868326f417638155af9c4e1131/a19b7/mpa-api.png 847w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/fa47b7868326f417638155af9c4e1131/98a4a/mpa-api.webp 750w,\n/js2/static/fa47b7868326f417638155af9c4e1131/b3688/mpa-api.webp 847w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4628099173553719}},"base":"mpa-api.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/js2/static/0db4cabf70d03ffdaba26ad2279a1f03/36fe5/mpa.png","srcSet":"/js2/static/0db4cabf70d03ffdaba26ad2279a1f03/36fe5/mpa.png 540w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/0db4cabf70d03ffdaba26ad2279a1f03/94f16/mpa.webp 540w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7259259259259259}},"base":"mpa.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/e927b7d4c1aab1dd521632761a53f1b6/a19b7/spa.png","srcSet":"/js2/static/e927b7d4c1aab1dd521632761a53f1b6/1f5ea/spa.png 750w,\n/js2/static/e927b7d4c1aab1dd521632761a53f1b6/a19b7/spa.png 847w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/e927b7d4c1aab1dd521632761a53f1b6/98a4a/spa.webp 750w,\n/js2/static/e927b7d4c1aab1dd521632761a53f1b6/b3688/spa.webp 847w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4628099173553719}},"base":"spa.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/4231407aeb2eab1eb26748522a49f119/1daa6/js-evolution.png","srcSet":"/js2/static/4231407aeb2eab1eb26748522a49f119/1daa6/js-evolution.png 505w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/4231407aeb2eab1eb26748522a49f119/1d9c9/js-evolution.webp 505w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.3702970297029703}},"base":"js-evolution.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/df3eb96d3792fedc90e824b9ff4ee666/9aa96/spa-monolithic.png","srcSet":"/js2/static/df3eb96d3792fedc90e824b9ff4ee666/9aa96/spa-monolithic.png 541w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/df3eb96d3792fedc90e824b9ff4ee666/65253/spa-monolithic.webp 541w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7245841035120149}},"base":"spa-monolithic.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/d5538808d9455e309732cc72d3c16094/5a8ae/bom.png","srcSet":"/js2/static/d5538808d9455e309732cc72d3c16094/5a8ae/bom.png 361w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/d5538808d9455e309732cc72d3c16094/44051/bom.webp 361w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.8531855955678671}},"base":"bom.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/js2/static/bb50b3e7a8b2a2cd37a9f3e8139a8d34/05d72/browser.png","srcSet":"/js2/static/bb50b3e7a8b2a2cd37a9f3e8139a8d34/e81f3/browser.png 750w,\n/js2/static/bb50b3e7a8b2a2cd37a9f3e8139a8d34/05d72/browser.png 815w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/bb50b3e7a8b2a2cd37a9f3e8139a8d34/7c1ed/browser.webp 750w,\n/js2/static/bb50b3e7a8b2a2cd37a9f3e8139a8d34/9c789/browser.webp 815w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6269938650306749}},"base":"browser.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/815bb84493b798e20f6e050fe7d4f297/8ac59/bytes.heif","srcSet":"/js2/static/815bb84493b798e20f6e050fe7d4f297/8ac59/bytes.heif 730w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/815bb84493b798e20f6e050fe7d4f297/fa94f/bytes.webp 730w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.8041095890410959}},"base":"bytes.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#181818","images":{"fallback":{"src":"/js2/static/a2704f93c050f1b8f0af184bca0784e5/bfbd8/copy.png","srcSet":"/js2/static/a2704f93c050f1b8f0af184bca0784e5/bfbd8/copy.png 41w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/a2704f93c050f1b8f0af184bca0784e5/54421/copy.webp 41w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.048780487804878}},"base":"copy.PNG"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/20e0138ec54042c9ab8df2df718b51c7/ad8b1/cssom.heif","srcSet":"/js2/static/20e0138ec54042c9ab8df2df718b51c7/ad8b1/cssom.heif 730w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/20e0138ec54042c9ab8df2df718b51c7/4fc4f/cssom.webp 730w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.3136986301369863}},"base":"cssom.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/8336698fa5a4150652bf24675d81d450/b818d/console.png","srcSet":"/js2/static/8336698fa5a4150652bf24675d81d450/b818d/console.png 584w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/8336698fa5a4150652bf24675d81d450/2cd0a/console.webp 584w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5941780821917808}},"base":"console.PNG"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/7c8ef3e05614d0f1331eb1622972209f/ad8b1/dom.heif","srcSet":"/js2/static/7c8ef3e05614d0f1331eb1622972209f/ad8b1/dom.heif 730w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/7c8ef3e05614d0f1331eb1622972209f/4fc4f/dom.webp 730w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.3136986301369863}},"base":"dom.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/2c0e805dbcef0b4210fddd87f2fdcd0b/7d9c5/dom2.gif","srcSet":"/js2/static/2c0e805dbcef0b4210fddd87f2fdcd0b/7d9c5/dom2.gif 486w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/2c0e805dbcef0b4210fddd87f2fdcd0b/3b54a/dom2.webp 486w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5473251028806584}},"base":"dom2.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8d818","images":{"fallback":{"src":"/js2/static/9816a79b1cdedb4fd200ae4b1e94ccbd/efde9/js-logo.png","srcSet":"/js2/static/9816a79b1cdedb4fd200ae4b1e94ccbd/27b15/js-logo.png 750w,\n/js2/static/9816a79b1cdedb4fd200ae4b1e94ccbd/efde9/js-logo.png 768w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/9816a79b1cdedb4fd200ae4b1e94ccbd/cfe1c/js-logo.webp 750w,\n/js2/static/9816a79b1cdedb4fd200ae4b1e94ccbd/ea3b7/js-logo.webp 768w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}},"base":"js-logo.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/283b4c657f5c4a706c3e29d0a08fd451/7edf3/render.heif","srcSet":"/js2/static/283b4c657f5c4a706c3e29d0a08fd451/7edf3/render.heif 730w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/283b4c657f5c4a706c3e29d0a08fd451/29aef/render.webp 730w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4383561643835616}},"base":"render.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#282828","images":{"fallback":{"src":"/js2/static/302e83d40f9486ab7ea528e217821223/d5cd3/start.png","srcSet":"/js2/static/302e83d40f9486ab7ea528e217821223/d5cd3/start.png 511w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/302e83d40f9486ab7ea528e217821223/02192/start.webp 511w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.40117416829745595}},"base":"start.PNG"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/js2/static/14110746b5f49459429c355815cd77b3/10f52/express-flow.png","srcSet":"/js2/static/14110746b5f49459429c355815cd77b3/eb8cd/express-flow.png 750w,\n/js2/static/14110746b5f49459429c355815cd77b3/10f52/express-flow.png 800w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/14110746b5f49459429c355815cd77b3/4e646/express-flow.webp 750w,\n/js2/static/14110746b5f49459429c355815cd77b3/130b6/express-flow.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.3825}},"base":"express-flow.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#c8e8d8","images":{"fallback":{"src":"/js2/static/5c1c4cd476b1911739976c74d5457e03/60e67/middlewares.jpg","srcSet":"/js2/static/5c1c4cd476b1911739976c74d5457e03/60e67/middlewares.jpg 638w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/5c1c4cd476b1911739976c74d5457e03/f273c/middlewares.webp 638w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7288401253918495}},"base":"middlewares.jpg"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/4af4b8ccca63d0a981c68a20bb9658e1/cc4c8/techno-course.png","srcSet":"/js2/static/4af4b8ccca63d0a981c68a20bb9658e1/cc4c8/techno-course.png 721w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/4af4b8ccca63d0a981c68a20bb9658e1/7f7c1/techno-course.webp 721w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5575589459084604}},"base":"techno-course.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/dbf7fef0d0623475d157204fd950008e/cbf92/techno.png","srcSet":"/js2/static/dbf7fef0d0623475d157204fd950008e/cbf92/techno.png 586w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/dbf7fef0d0623475d157204fd950008e/09c5a/techno.webp 586w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.8464163822525598}},"base":"techno.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/593d65b45ead31d08b777b977530fbb0/257c8/form.png","srcSet":"/js2/static/593d65b45ead31d08b777b977530fbb0/257c8/form.png 182w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/593d65b45ead31d08b777b977530fbb0/aa09a/form.webp 182w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.1868131868131868}},"base":"form.png"}},{"node":{"childImageSharp":null,"base":"red-light.gif"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/a4d45cc8f767378935f1a47c6a814bff/c4448/table.png","srcSet":"/js2/static/a4d45cc8f767378935f1a47c6a814bff/c4448/table.png 219w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/a4d45cc8f767378935f1a47c6a814bff/5ce26/table.webp 219w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.547945205479452}},"base":"table.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#282828","images":{"fallback":{"src":"/js2/static/995b19933afe2efc8abdad9e056f7eb0/c35a8/terminal-1.png","srcSet":"/js2/static/995b19933afe2efc8abdad9e056f7eb0/c35a8/terminal-1.png 481w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/995b19933afe2efc8abdad9e056f7eb0/8a064/terminal-1.webp 481w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.2390852390852392}},"base":"terminal-1.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#181818","images":{"fallback":{"src":"/js2/static/ec94e10b96163ba7dff989c8073526c9/e4d4e/terminal-2.png","srcSet":"/js2/static/ec94e10b96163ba7dff989c8073526c9/d328f/terminal-2.png 750w,\n/js2/static/ec94e10b96163ba7dff989c8073526c9/e4d4e/terminal-2.png 933w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/ec94e10b96163ba7dff989c8073526c9/dea86/terminal-2.webp 750w,\n/js2/static/ec94e10b96163ba7dff989c8073526c9/92d06/terminal-2.webp 933w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.2722400857449089}},"base":"terminal-2.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/6b82e2d24f2e455ab5f6479f8f0fd34c/718a6/cors-issue.png","srcSet":"/js2/static/6b82e2d24f2e455ab5f6479f8f0fd34c/3b3b8/cors-issue.png 750w,\n/js2/static/6b82e2d24f2e455ab5f6479f8f0fd34c/718a6/cors-issue.png 1031w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/6b82e2d24f2e455ab5f6479f8f0fd34c/148ba/cors-issue.webp 750w,\n/js2/static/6b82e2d24f2e455ab5f6479f8f0fd34c/53c8e/cors-issue.webp 1031w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.29582929194956353}},"base":"cors-issue.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8e8e8","images":{"fallback":{"src":"/js2/static/cd7a86517cd86bf67e97a9455782f61e/3a7c2/errors.png","srcSet":"/js2/static/cd7a86517cd86bf67e97a9455782f61e/3a7c2/errors.png 589w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/cd7a86517cd86bf67e97a9455782f61e/8d14e/errors.webp 589w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.43803056027164683}},"base":"errors.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/a0a9be40f52062756989e43e359b5c44/4ca31/liveServerFrontSPA.png","srcSet":"/js2/static/a0a9be40f52062756989e43e359b5c44/96859/liveServerFrontSPA.png 750w,\n/js2/static/a0a9be40f52062756989e43e359b5c44/4ca31/liveServerFrontSPA.png 751w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/a0a9be40f52062756989e43e359b5c44/3f918/liveServerFrontSPA.webp 750w,\n/js2/static/a0a9be40f52062756989e43e359b5c44/61905/liveServerFrontSPA.webp 751w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4274300932090546}},"base":"liveServerFrontSPA.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/9482be8bcc11374b223c4bff1aaa7cef/6c4d1/movies.png","srcSet":"/js2/static/9482be8bcc11374b223c4bff1aaa7cef/44ede/movies.png 750w,\n/js2/static/9482be8bcc11374b223c4bff1aaa7cef/c97ea/movies.png 1080w,\n/js2/static/9482be8bcc11374b223c4bff1aaa7cef/6c4d1/movies.png 1268w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/9482be8bcc11374b223c4bff1aaa7cef/9378c/movies.webp 750w,\n/js2/static/9482be8bcc11374b223c4bff1aaa7cef/6e0c3/movies.webp 1080w,\n/js2/static/9482be8bcc11374b223c4bff1aaa7cef/498dd/movies.webp 1268w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.38564668769716093}},"base":"movies.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/945336ab536627610c9e7fa03999caa2/746ba/proxy.png","srcSet":"/js2/static/945336ab536627610c9e7fa03999caa2/746ba/proxy.png 691w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/945336ab536627610c9e7fa03999caa2/03d38/proxy.webp 691w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6353111432706222}},"base":"proxy.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/04662f2f0ed1b78bd5ead2c3dec85482/36714/readPizzas.png","srcSet":"/js2/static/04662f2f0ed1b78bd5ead2c3dec85482/36714/readPizzas.png 523w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/04662f2f0ed1b78bd5ead2c3dec85482/dfd8f/readPizzas.webp 523w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7304015296367113}},"base":"readPizzas.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/8eb2b12643e10670a4e4234ccd8a844e/3d704/xss.png","srcSet":"/js2/static/8eb2b12643e10670a4e4234ccd8a844e/613e6/xss.png 750w,\n/js2/static/8eb2b12643e10670a4e4234ccd8a844e/103d4/xss.png 1080w,\n/js2/static/8eb2b12643e10670a4e4234ccd8a844e/3d704/xss.png 1108w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/8eb2b12643e10670a4e4234ccd8a844e/18c9f/xss.webp 750w,\n/js2/static/8eb2b12643e10670a4e4234ccd8a844e/51d3a/xss.webp 1080w,\n/js2/static/8eb2b12643e10670a4e4234ccd8a844e/88976/xss.webp 1108w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.2842960288808664}},"base":"xss.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/ce4d88f5a75edb2b72efaaa71f7b0efc/e5078/authorizeNOK.png","srcSet":"/js2/static/ce4d88f5a75edb2b72efaaa71f7b0efc/8770b/authorizeNOK.png 750w,\n/js2/static/ce4d88f5a75edb2b72efaaa71f7b0efc/e5078/authorizeNOK.png 809w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/ce4d88f5a75edb2b72efaaa71f7b0efc/35881/authorizeNOK.webp 750w,\n/js2/static/ce4d88f5a75edb2b72efaaa71f7b0efc/a88f0/authorizeNOK.webp 809w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6093943139678616}},"base":"authorizeNOK.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8d8d8","images":{"fallback":{"src":"/js2/static/02183504e2708ac3e446f29003c8d7bc/60bc5/hacked.png","srcSet":"/js2/static/02183504e2708ac3e446f29003c8d7bc/60bc5/hacked.png 744w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/02183504e2708ac3e446f29003c8d7bc/67170/hacked.webp 744w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4206989247311828}},"base":"hacked.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/13b65def72e9840d86bcf161d0140f2d/487a4/places.png","srcSet":"/js2/static/13b65def72e9840d86bcf161d0140f2d/8d835/places.png 750w,\n/js2/static/13b65def72e9840d86bcf161d0140f2d/9b397/places.png 1080w,\n/js2/static/13b65def72e9840d86bcf161d0140f2d/c1308/places.png 1366w,\n/js2/static/13b65def72e9840d86bcf161d0140f2d/487a4/places.png 1599w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/13b65def72e9840d86bcf161d0140f2d/25f33/places.webp 750w,\n/js2/static/13b65def72e9840d86bcf161d0140f2d/f7d3e/places.webp 1080w,\n/js2/static/13b65def72e9840d86bcf161d0140f2d/cab24/places.webp 1366w,\n/js2/static/13b65def72e9840d86bcf161d0140f2d/e838a/places.webp 1599w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.35709818636647905}},"base":"places.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#484848","images":{"fallback":{"src":"/js2/static/d500a235cf91fee0cec65a112a3fd9a8/a166b/backend-frameworks.png","srcSet":"/js2/static/d500a235cf91fee0cec65a112a3fd9a8/a166b/backend-frameworks.png 634w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/d500a235cf91fee0cec65a112a3fd9a8/de393/backend-frameworks.webp 634w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5394321766561514}},"base":"backend-frameworks.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/6d7971e7cf383ca9dc70ba9390ef934c/cd171/planning.png","srcSet":"/js2/static/6d7971e7cf383ca9dc70ba9390ef934c/08018/planning.png 750w,\n/js2/static/6d7971e7cf383ca9dc70ba9390ef934c/b5d65/planning.png 1080w,\n/js2/static/6d7971e7cf383ca9dc70ba9390ef934c/cd171/planning.png 1088w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/6d7971e7cf383ca9dc70ba9390ef934c/f7070/planning.webp 750w,\n/js2/static/6d7971e7cf383ca9dc70ba9390ef934c/6949f/planning.webp 1080w,\n/js2/static/6d7971e7cf383ca9dc70ba9390ef934c/9af3a/planning.webp 1088w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.59375}},"base":"planning.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/8c454120ed3743524b977a50efee14ae/75d45/architecture.png","srcSet":"/js2/static/8c454120ed3743524b977a50efee14ae/c33b9/architecture.png 750w,\n/js2/static/8c454120ed3743524b977a50efee14ae/75d45/architecture.png 859w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/8c454120ed3743524b977a50efee14ae/013ea/architecture.webp 750w,\n/js2/static/8c454120ed3743524b977a50efee14ae/3c3f0/architecture.webp 859w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6030267753201397}},"base":"architecture.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/df999928d139b76e4624212deb47afa1/c60dc/ajax.png","srcSet":"/js2/static/df999928d139b76e4624212deb47afa1/c60dc/ajax.png 569w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/df999928d139b76e4624212deb47afa1/9f538/ajax.webp 569w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.8927943760984183}},"base":"ajax.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/368b66a6c71ce7ae5149f7fe124c67b4/dedcf/independentFrontBackSPA.png","srcSet":"/js2/static/368b66a6c71ce7ae5149f7fe124c67b4/aa4e8/independentFrontBackSPA.png 750w,\n/js2/static/368b66a6c71ce7ae5149f7fe124c67b4/dedcf/independentFrontBackSPA.png 914w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/368b66a6c71ce7ae5149f7fe124c67b4/54e6a/independentFrontBackSPA.webp 750w,\n/js2/static/368b66a6c71ce7ae5149f7fe124c67b4/d4860/independentFrontBackSPA.webp 914w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.48468271334792123}},"base":"independentFrontBackSPA.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/5033887241592124140462a48f880b31/4c60e/independentFrontBackSPA2.png","srcSet":"/js2/static/5033887241592124140462a48f880b31/57832/independentFrontBackSPA2.png 750w,\n/js2/static/5033887241592124140462a48f880b31/4c60e/independentFrontBackSPA2.png 852w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/5033887241592124140462a48f880b31/73ed4/independentFrontBackSPA2.webp 750w,\n/js2/static/5033887241592124140462a48f880b31/fa338/independentFrontBackSPA2.webp 852w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5762910798122066}},"base":"independentFrontBackSPA2.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/4cf8132263a3922a81198d62fa668e8c/8af70/monolithicSPA.png","srcSet":"/js2/static/4cf8132263a3922a81198d62fa668e8c/9fdee/monolithicSPA.png 750w,\n/js2/static/4cf8132263a3922a81198d62fa668e8c/8af70/monolithicSPA.png 758w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/4cf8132263a3922a81198d62fa668e8c/e02a2/monolithicSPA.webp 750w,\n/js2/static/4cf8132263a3922a81198d62fa668e8c/1677e/monolithicSPA.webp 758w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.712401055408971}},"base":"monolithicSPA.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#0878b8","images":{"fallback":{"src":"/js2/static/216c8f19b48a13e3af5020937c6495fe/3f056/deployment.png","srcSet":"/js2/static/216c8f19b48a13e3af5020937c6495fe/f74f0/deployment.png 750w,\n/js2/static/216c8f19b48a13e3af5020937c6495fe/3f056/deployment.png 881w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/216c8f19b48a13e3af5020937c6495fe/00e18/deployment.webp 750w,\n/js2/static/216c8f19b48a13e3af5020937c6495fe/73e10/deployment.webp 881w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5811577752553916}},"base":"deployment.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/7019197416b607b814455c5cde2bfd8d/8a955/authorizeOK.png","srcSet":"/js2/static/7019197416b607b814455c5cde2bfd8d/8a955/authorizeOK.png 747w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/7019197416b607b814455c5cde2bfd8d/b344d/authorizeOK.webp 747w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6666666666666666}},"base":"authorizeOK.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/cd56be61925d779c9a23f9ecdea56e09/fb68f/login.png","srcSet":"/js2/static/cd56be61925d779c9a23f9ecdea56e09/e56fa/login.png 750w,\n/js2/static/cd56be61925d779c9a23f9ecdea56e09/fb68f/login.png 879w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/cd56be61925d779c9a23f9ecdea56e09/5510b/login.webp 750w,\n/js2/static/cd56be61925d779c9a23f9ecdea56e09/da356/login.webp 879w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5017064846416383}},"base":"login.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/4af4a7ce8f05c1d4a06a3e173596a7ef/53ad8/critere-eval.jpg","srcSet":"/js2/static/4af4a7ce8f05c1d4a06a3e173596a7ef/0625d/critere-eval.jpg 750w,\n/js2/static/4af4a7ce8f05c1d4a06a3e173596a7ef/53ad8/critere-eval.jpg 843w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/4af4a7ce8f05c1d4a06a3e173596a7ef/8be40/critere-eval.webp 750w,\n/js2/static/4af4a7ce8f05c1d4a06a3e173596a7ef/2bb11/critere-eval.webp 843w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.040332147093713}},"base":"critere-eval.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/9f49136562a5d771c51d7600430566b1/38d9f/eventflow.png","srcSet":"/js2/static/9f49136562a5d771c51d7600430566b1/38d9f/eventflow.png 480w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/9f49136562a5d771c51d7600430566b1/cd74b/eventflow.webp 480w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.1666666666666667}},"base":"eventflow.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/ff2054d2907d5ebd494875c12fe16a3d/d40cb/middleware-function.png","srcSet":"/js2/static/ff2054d2907d5ebd494875c12fe16a3d/7cb90/middleware-function.png 750w,\n/js2/static/ff2054d2907d5ebd494875c12fe16a3d/d40cb/middleware-function.png 944w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/ff2054d2907d5ebd494875c12fe16a3d/4ffb0/middleware-function.webp 750w,\n/js2/static/ff2054d2907d5ebd494875c12fe16a3d/6c417/middleware-function.webp 944w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.298728813559322}},"base":"middleware-function.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#e8e8e8","images":{"fallback":{"src":"/js2/static/d0eb9efdef86cf105b8020519b702c01/f6ece/pizza2.jpg","srcSet":"/js2/static/d0eb9efdef86cf105b8020519b702c01/e1af2/pizza2.jpg 750w,\n/js2/static/d0eb9efdef86cf105b8020519b702c01/f6ece/pizza2.jpg 800w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/d0eb9efdef86cf105b8020519b702c01/7f694/pizza2.webp 750w,\n/js2/static/d0eb9efdef86cf105b8020519b702c01/4447d/pizza2.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6675}},"base":"pizza2.jpg"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/js2/static/11b64c3a36326f1301636f365163fa87/487a4/carousel.png","srcSet":"/js2/static/11b64c3a36326f1301636f365163fa87/8d835/carousel.png 750w,\n/js2/static/11b64c3a36326f1301636f365163fa87/9b397/carousel.png 1080w,\n/js2/static/11b64c3a36326f1301636f365163fa87/c1308/carousel.png 1366w,\n/js2/static/11b64c3a36326f1301636f365163fa87/487a4/carousel.png 1599w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/11b64c3a36326f1301636f365163fa87/25f33/carousel.webp 750w,\n/js2/static/11b64c3a36326f1301636f365163fa87/f7d3e/carousel.webp 1080w,\n/js2/static/11b64c3a36326f1301636f365163fa87/cab24/carousel.webp 1366w,\n/js2/static/11b64c3a36326f1301636f365163fa87/e838a/carousel.webp 1599w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.35709818636647905}},"base":"carousel.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#d8d8e8","images":{"fallback":{"src":"/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/87754/pizza.jpg","srcSet":"/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/b3dd7/pizza.jpg 750w,\n/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/870fe/pizza.jpg 1080w,\n/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/f640e/pizza.jpg 1366w,\n/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/87754/pizza.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/2daa0/pizza.webp 750w,\n/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/1aa4f/pizza.webp 1080w,\n/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/8647b/pizza.webp 1366w,\n/js2/static/b1265c3e6f56ce4944170b2dd149f5c7/902b5/pizza.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.5}},"base":"pizza.jpg"}}]}},"pageContext":{"slug":"/part4/auths-hmi/","frontmatter":{"title":"HMI & JWT","description":"Authentification & utilisation d'op√©rations prot√©g√©es par JWT au sein d'une IHM"}}},"staticQueryHashes":["1696221415","3028011774","3458129946","493526238","501654901","575455071","641954533","758242238"],"slicesMap":{}}